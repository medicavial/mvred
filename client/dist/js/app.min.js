!function(){"use strict";angular.module("app",["app.templates","ui.router","ngMaterial","ngMdIcons","webStorageModule","ngMessages","ngResource","ngAnimate","md.data.table","ngFileUpload","angular.filter","mdPickers","material.components.expansionPanels","vjs.video","amChartsDirective"]).constant("api","http://api.medicavial.net/api/").constant("registro","http://medicavial.net/registro/").constant("publicfiles","http://api.medicavial.net/").constant("fechas",{fechaIni:moment().format("YYYY-MM-01"),fechaFin:moment().format("YYYY-MM-DD")})}(),function(){"use strict";function config($stateProvider,$urlRouterProvider,$locationProvider,$mdThemingProvider,$httpProvider,$compileProvider,$mdDateLocaleProvider,$sceDelegateProvider){$compileProvider.debugInfoEnabled(!1),$sceDelegateProvider.resourceUrlWhitelist(["self","http://medicavial.net/**","http://localhost/**"]),$mdDateLocaleProvider.months=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],$mdDateLocaleProvider.shortMonths=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],$mdDateLocaleProvider.days=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],$mdDateLocaleProvider.shortDays=["Do","Lu","Ma","Mi","Ju","Vi","Sa"],moment.locale("es"),$mdDateLocaleProvider.formatDate=function(date){return date?moment(date).format("DD/MM/YYYY"):""},$mdDateLocaleProvider.parseDate=function(dateString){var m=moment(dateString,"DD/MM/YYYY",!0);return m.isValid()?m.toDate():new Date(NaN)},$urlRouterProvider.otherwise("/home"),$stateProvider.state("login",{url:"/login",templateUrl:"login.html",controller:"loginCtrl",controllerAs:"sesion"}).state("autologin",{url:"/autologin?usuario&psw",template:"<p>Cargando...</p>",controller:function(auth,$stateParams){var datos={usuario:$stateParams.usuario,psw:$stateParams.psw,guardar:!1};auth.login(datos)}}).state("index",{url:"/","abstract":!0,templateUrl:"base.html"}).state("index.ayuda",{url:"ayuda",templateUrl:"ayuda.html",controller:"ayudaCtrl",controllerAs:"au"}).state("index.busqueda",{url:"busqueda",templateUrl:"busqueda.html",controller:"busquedaCtrl",controllerAs:"bs"}).state("index.busquedaGeneral",{url:"busquedaGeneral",templateUrl:"busqueda.html",controller:"busquedaGeneralCtrl",controllerAs:"bs"}).state("index.documentos",{url:"documentos",templateUrl:"documentos.html",controller:"documentosCtrl",controllerAs:"dc",resolve:{datos:function(busqueda,$q){var promesa=$q.defer(),productos=busqueda.productos(),tiposAtencion=busqueda.tiposAtencion(),tiposDocumento=busqueda.tiposDocumento();return $q.all([tiposDocumento,tiposAtencion,productos]).then(function(data){promesa.resolve(data)},function(error){promesa.reject("Error")}),promesa.promise}}}).state("index.estadisticas",{url:"estadisticas",templateUrl:"estadisticas.html",controller:"estadisticasCtrl",controllerAs:"et",resolve:{datos:function(reportes){return reportes.estadisticas()}}}).state("index.estadistica",{url:"estadistica?tipo",templateUrl:"estadistica.html",controller:"estadisticaCtrl",controllerAs:"es",resolve:{datos:function(reportes,$q,$stateParams){return reportes.detalleEstadistica($stateParams.tipo)}}}).state("index.formatos",{url:"formatos",templateUrl:"formatos.html",controller:"formatosCtrl",controllerAs:"fr"}).state("index.home",{url:"home",templateUrl:"home.html",controller:"homeCtrl",controllerAs:"hm"}).state("index.imagen",{url:"imagen",templateUrl:"imagen.html",controller:"imagenCtrl",controllerAs:"img"}).state("index.registro",{url:"registro",templateUrl:"registro.html",controller:"registroCtrl",controllerAs:"rg",resolve:{datos:function(busqueda,$q){var promesa=$q.defer(),clientes=busqueda.clientes();return $q.all([clientes]).then(function(data){var datos={clientes:data[0].data};promesa.resolve(datos)},function(error){promesa.reject("error en consulta")}),promesa.promise}}}).state("index.detalle",{url:"detalle?folio",templateUrl:"detalle.html",controller:"detalleCtrl",controllerAs:"dt",resolve:{datos:function(busqueda,$stateParams){return busqueda.detalleFolio($stateParams.folio)}},reload:!0}),$locationProvider.html5Mode(!0),$mdThemingProvider.theme("theme1").primaryPalette("indigo").accentPalette("red"),$mdThemingProvider.theme("theme2").primaryPalette("deep-orange").warnPalette("indigo").accentPalette("red"),$mdThemingProvider.theme("theme3").primaryPalette("neonBlue").accentPalette("red"),$mdThemingProvider.theme("theme4").primaryPalette("blue-grey").accentPalette("red"),$mdThemingProvider.theme("theme5").primaryPalette("neonGreen").accentPalette("red"),$mdThemingProvider.theme("theme6").primaryPalette("deep-purple").accentPalette("red"),$mdThemingProvider.theme("docs-dark").primaryPalette("red").dark();var neonBlueMap=$mdThemingProvider.extendPalette("blue",{500:"#3175E7",contrastDefaultColor:"light"}),neonGreenMap=$mdThemingProvider.extendPalette("green",{500:"#259B24",contrastDefaultColor:"light"});$mdThemingProvider.definePalette("neonBlue",neonBlueMap),$mdThemingProvider.definePalette("neonGreen",neonGreenMap),$mdThemingProvider.setDefaultTheme("theme1"),$mdThemingProvider.alwaysWatchTheme(!0),$httpProvider.defaults.timeout=1e3}angular.module("app").config(config),config.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$mdThemingProvider","$httpProvider","$compileProvider","$mdDateLocaleProvider","$sceDelegateProvider"]}(),function(){"use strict";function run($rootScope,$state,$mdSidenav,$mdBottomSheet,auth,webStorage,$window,api,$mdMedia,mensajes,fechas){$rootScope.atras=!1,$rootScope.modoGuiado=!0,$rootScope.username=webStorage.session.get("username"),$rootScope.nombre=webStorage.session.get("nombre"),$rootScope.id=webStorage.session.get("id"),$rootScope.localidad=webStorage.session.get("localidad"),$rootScope.unidad=webStorage.session.get("unidad"),$rootScope.nombreUni=webStorage.session.get("nombreUni"),$rootScope.permisos=JSON.parse(webStorage.session.get("permisos")),$rootScope.muestra=function(ruta){$state.go(ruta)},$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){$rootScope.atras=!1,$rootScope.url=toState.name,"login"!==$rootScope.url&&null===webStorage.session.get("username")&&("autologin"==$rootScope.url||(event.preventDefault(),$state.go("login"))),"login"===$rootScope.url&&null!==webStorage.session.get("username")&&(event.preventDefault(),$state.go("index.home")),$rootScope.cargando=!0}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$rootScope.cargando=!1,$rootScope.menu="menu"}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){$rootScope.cargando=!1,mensajes.alerta("Problemas de conexión intentalo nuevamente por favor","error","top right","error"),event.preventDefault(),$state.go("index.home")}),$rootScope.$on("$viewContentLoaded",function(){})}angular.module("app").run(run),run.$inject=["$rootScope","$state","$mdSidenav","$mdBottomSheet","auth","webStorage","$window","api","$mdMedia","mensajes","fechas"]}(),angular.module("app.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("altaDocumento.html",'<md-dialog aria-label="Alta de Documentos">\r\n  <form>\r\n    <md-toolbar>\r\n      <div class="md-toolbar-tools">\r\n        <h2>Alta de Documentos</h2>\r\n        <span flex></span>\r\n        <md-button class="md-icon-button" ng-click="ad.cancel()">\r\n          <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar"></ng-md-icon>\r\n        </md-button>\r\n      </div>\r\n    </md-toolbar>\r\n    <md-dialog-content>\r\n      <md-tabs md-dynamic-height md-border-bottom md-selected="ad.index">\r\n        <md-tab label="Producto">\r\n          <md-content class="md-padding" layout="column" layout-align="center center">\r\n            <h1 class="md-display-2">Selecciona Producto.</h1>\r\n            <p>El producto definira los clientes en los que dependera la coumentación para su autorización a cobro.</p>\r\n            <md-input-container>\r\n              <label>Producto</label>\r\n              <md-select ng-model="ad.datos.producto" md-on-close="ad.siguiente()">\r\n                <md-option value=""><em>Producto</em></md-option>\r\n                <md-option ng-repeat="producto in ad.productos" ng-value="producto.Pro_clave">\r\n                  <img class="imagen-chica" ng-src="http://www.medicavial.net/mvred/imgs/producto/{{producto.Pro_img}}" />\r\n                  {{producto.Pro_nombre}}\r\n                </md-option>\r\n              </md-select>\r\n            </md-input-container>\r\n          </md-content>\r\n        </md-tab>\r\n        <md-tab label="Atención">\r\n          <md-content class="md-padding" layout="column" layout-align="center center">\r\n            <h1 class="md-display-2">Selecciona el tipo de Atención.</h1>\r\n            <p>Selecciona el tipo de atencion para tener un filtro mas especifico de los documentos a necesitar.</p>\r\n            <md-input-container>\r\n              <label>Tipo de Atención</label>\r\n              <md-select ng-model="ad.datos.atencion" md-on-close="ad.siguiente()">\r\n                <md-option value=""><em>Tipo de Atención</em></md-option>\r\n                <md-option ng-repeat="tipoA in ad.tiposAtencion" ng-value="tipoA.TIA_clave">\r\n                  {{tipoA.TIA_nombre}}\r\n                </md-option>\r\n              </md-select>\r\n            </md-input-container>\r\n          </md-content>\r\n        </md-tab>\r\n        <md-tab label="Documentos">\r\n          <md-content class="md-padding" layout="column">\r\n            <h1 class="md-display-2">Agrega los documentos.</h1>\r\n            <p>Aqui podras seleccionar los productos destinados a tus fitros anteriores</p>\r\n            <div layout="row" layout-wrap layout-margin flex>\r\n              <div ng-repeat="tiposDoc in ad.tiposDocumento">\r\n                  <md-checkbox ng-checked="ad.exists(tiposDoc, ad.datos.documentos)" ng-click="ad.toggle(tiposDoc, ad.datos.documentos)">\r\n                    {{ tiposDoc.TID_nombre }}\r\n                  </md-checkbox>\r\n              </div>\r\n            </div>\r\n\r\n            \r\n          </md-content>\r\n        </md-tab>\r\n      </md-tabs>\r\n    </md-dialog-content>\r\n\r\n    <md-dialog-actions layout="row">\r\n      <span flex></span>\r\n      <md-button ng-click="ad.cancel()" md-autofocus>\r\n        Cerrar\r\n      </md-button>\r\n      <md-button ng-click="ad.guardar()" ng-disabled="ad.guardando">\r\n        Guardar\r\n      </md-button>\r\n      <md-button ng-click="ad.inicio()" ng-if="ad.guardado">\r\n        Nuevo\r\n      </md-button>\r\n    </md-dialog-actions>\r\n  </form>\r\n</md-dialog>\r\n'),$templateCache.put("ayuda.html",'<md-content layout-gt-sm="row" layout="column" layout-margin class="bg-transparent">\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Videos</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item  ng-click="au.video($event,1)">\r\n          <ng-md-icon icon="play_circle_fill" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Conociendo MedicaVial</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item  ng-click="au.video($event,2)">\r\n          <ng-md-icon icon="play_circle_fill" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Registro Web</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item  ng-click="au.video($event,3)">\r\n          <ng-md-icon icon="play_circle_fill" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Autorizaciones Especiales</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Guias Rapidas</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item >\r\n          <p>Elemento 1</p>\r\n          <ng-md-icon icon="folder" aria-label="Detalle"></ng-md-icon>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <p>Elemento 2 </p>\r\n          <ng-md-icon icon="folder" aria-label="Detalle"></ng-md-icon>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <p>Elemento 3</p>\r\n          <ng-md-icon icon="folder" aria-label="Detalle"></ng-md-icon>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Información Importante</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item ng-click="au.directorio($event)">\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> Directorio </p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="business" aria-label="Detalle"></ng-md-icon>\r\n          <p> Datos Fiscales </p>\r\n      </md-list-item>\r\n      <md-list-item class="md-2-line">\r\n          <div class="md-list-item-text md-offset">\r\n            <h3>MedicaVial S.A. de C.V.</h3>\r\n            <p>Razón Social</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-list-item class="md-2-line">\r\n          <div class="md-list-item-text md-offset">\r\n            <h3>MED011012TD4</h3>\r\n            <p>RFC</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-list-item class="md-2-line">\r\n          <div class="md-list-item-text md-offset">\r\n            <h3>Av. Alvaro Obregon 151 Piso9</h3>\r\n            <p>Calle</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-list-item class="md-2-line">\r\n          <div class="md-list-item-text md-offset">\r\n            <h3>Col. Roma, Ciudad de México</h3>\r\n            <p>Colonia, Estado</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-list-item class="md-2-line">\r\n          <div class="md-list-item-text md-offset">\r\n            <h3>06700</h3>\r\n            <p>CP</p>\r\n          </div>\r\n      </md-list-item>\r\n    </md-list>\r\n  </div>\r\n    \r\n</md-content>\r\n\r\n<md-content layout-gt-sm="row" layout="column" layout-margin class="bg-transparent">\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Uso de Sistema</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item  ng-click="null">\r\n          <ng-md-icon icon="import_contacts" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Como registrar un paciente</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item  ng-click="null">\r\n          <ng-md-icon icon="import_contacts" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Como seleccionar producto</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item  ng-click="null">\r\n          <ng-md-icon icon="import_contacts" aria-label="Reproducir"></ng-md-icon>\r\n          <p>Información que se tiene en el pase</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Telefonos Cabina MV</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> 01 800 999 12 22 </p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> 55 11 60 06 </p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> 55 11 60 05 </p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> 55 11 70 01 </p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="Detalle"></ng-md-icon>\r\n          <p> 55 11 70 03 </p>\r\n      </md-list-item>\r\n    </md-list>\r\n  </div>\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Contacto</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list-item >\r\n          <ng-md-icon icon="email" aria-label="correo"></ng-md-icon>\r\n          <p>soporte@medicavial.com.mx</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="twitter" aria-label="twitter"></ng-md-icon>\r\n          <p>@medicavial</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="facebook" aria-label="facebook"></ng-md-icon>\r\n          <p>facebook.com/medicavial</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item>\r\n          <ng-md-icon icon="phone" aria-label="telefono"></ng-md-icon>\r\n          <p>55-14-47-00</p>\r\n      </md-list-item>\r\n  </div>\r\n    \r\n</md-content>\r\n\r\n\r\n\r\n\r\n\r\n'),$templateCache.put("ayudaDialog.html",'<md-dialog aria-label="Agrega Telefono" ng-init="inicio()" flex-sm="65" flex-gt-md="40" flex="100">\r\n\r\n\r\n    <md-toolbar class="md-warn">\r\n      <div class="md-toolbar-tools">\r\n        <h2>{{ vm.titulo }}</h2>\r\n        <span flex></span>\r\n        <md-button  class="md-icon-button" ng-click="vm.cancelar()">\r\n          <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n        </md-button>\r\n      </div>\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding layout-wrap>\r\n\r\n      <md-content layout-gt-sm="row" layout="column">  \r\n        Esto es un texto de prueba para otorgarle a la unidad información necesario para ayudarle al llenado del registro.\r\n      </md-content>\r\n\r\n    </md-dialog-content>\r\n\r\n</md-dialog>'),$templateCache.put("base.html",'<md-content class="bg-transparent height-full">\r\n\r\n  <toolbar titulo="titulo" menu="menu" url="url" unidad="nombreUni"></toolbar>\r\n\r\n  <div ng-if="!cargando" ui-view class="paginas"></div>\r\n\r\n  <div ng-if="cargando" id="centro" layout="row" layout-align="center center">\r\n      <md-progress-circular md-mode="indeterminate" md-diameter="50" class="md-accent"></md-progress-circular>\r\n  </div>\r\n\r\n</md-content>\r\n\r\n      \r\n<!-- Menu Izquierdo -->\r\n<md-sidenav layout="column" class="md-sidenav-left md-whiteframe-2dp" md-component-id="left" md-is-locked-open="false" style="transition: all 0.5s cubic-bezier(0.45, 0.05, 0.55, 0.95);">\r\n  <menu class="no-padding no-margin"></menu>\r\n\r\n</md-sidenav>\r\n\r\n<!-- menu derecho -->\r\n<md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="right">\r\n  <configuracion></configuracion>    \r\n</md-sidenav>'),$templateCache.put("detalle.html",'<md-content class="md-whiteframe-2dp" ng-init="dt.inicio()">\r\n    \r\n  <div layout="row">\r\n    <md-subheader class="md-no-sticky">Datos Generales</md-subheader>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.muestraPanel()">\r\n        <ng-md-icon icon="{{dt.iconPanel}}" options=\'{"rotation": "Clockwise","duration":"250"}\'></ng-md-icon> \r\n    </md-button>\r\n  </div>\r\n  <md-divider></md-divider>\r\n\r\n  <div ng-show="dt.detalle" class="detalle">\r\n      \r\n    <section layout-gt-xs="row" layout="column"  layout-align="center center" layout-margin>\r\n\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n          <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ dt.dato.Cia_logo }}" class="img-registro" alt="cliente">\r\n        </div>\r\n\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n          <img ng-src="{{ dt.codigo }}" class="img-registro" alt="folio">\r\n        </div>\r\n\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n          <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{ dt.dato.Pro_img }}" class="img-registro" alt="producto">\r\n        </div>\r\n\r\n    </section>\r\n\r\n    <section layout-gt-xs="row" layout="column" layout-padding layout-align="center center">\r\n\r\n        <div class="text-center" flex="100" flex-gt-xs="33">                      \r\n            <strong>Folio MV: {{ dt.dato.Exp_folio }}</strong> <br>\r\n            Lesionado: {{ dt.dato.Exp_completo }}  <br>\r\n            Póliza: {{ dt.dato.Exp_poliza }}  <br>\r\n            Riesgo: {{ dt.dato.RIE_nombre }} <br>\r\n            Usuario: {{ dt.dato.Usu_registro }} <br>\r\n        </div>\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n            Compañia: {{ dt.dato.Cia_nombrecorto }} <br>\r\n            Siniestro: {{ dt.dato.Exp_siniestro }} <br>\r\n            Reporte: {{ dt.dato.Exp_reporte }} <br>\r\n            <strong>Registro: {{ dt.dato.Exp_fecreg }}</strong> <br>\r\n            Unidad Médica: {{ dt.dato.UNI_nombreMV }} <br>\r\n        </div>\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n            Observaciones: {{ dt.dato.Exp_obs }} <br>\r\n            Extemporaneo: <span ng-if="dt.dato.Exp_extemporaneo == \'1\' ">Si</span> <span ng-if="dt.dato.Exp_extemporaneo == \'0\' ">No</span> <br>\r\n            Motivo:  {{ dt.dato.Exp_motivo }}<br>\r\n            Fecha Atención:  <span ng-hide=" dt.dato.Exp_fechaAtn == \'0000-00-00 00:00:00\' ">{{ dt.dato.Exp_fechaAtn }}</span> <br>\r\n        </div>\r\n      \r\n    </section>\r\n\r\n    <section layout-gt-xs="row" layout="column" layout-padding layout-align="center center">\r\n\r\n        <div class="text-center" flex="100" flex-gt-xs="33">          \r\n            <strong>Tipo de Lesión: {{ dt.dato.TLE_nombre }}</strong> <br>\r\n        </div>\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n            \r\n            <strong>Lesión: {{ dt.dato.LES_nombre }}</strong> <br>\r\n        </div>\r\n        <div class="text-center" flex="100" flex-gt-xs="33">\r\n            <strong>Lesión Codificada: {{ dt.dato.CIE_cve }} - {{ dt.dato.CIE_descripcion }}</strong> <br>\r\n        </div>\r\n      \r\n    </section>\r\n    \r\n    <section layout="row" layout-align="center center">\r\n      <md-button ng-href="http://medicavial.net/mvnuevo/api/classes/formatoFolio.php?fol={{ dt.dato.Exp_folio }}" target="_blank" >Imprimir Portada</md-button>\r\n    </section>\r\n    \r\n    <md-divider></md-divider>\r\n    \r\n    <section layout-gt-sm="row" layout="column"  layout-align="center center">\r\n      \r\n      <md-content flex class="text-center estatus">\r\n        <span>Triage: Ambulatorio</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Alertas</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Estatus: </span>\r\n        <span ng-if="dt.dato.Exp_cancelado == \'0\'">Abierto</span>\r\n        <span ng-if="dt.dato.Exp_cancelado == \'1\'">Cancelado</span>\r\n        <span ng-if="dt.dato.Exp_solCancela == \'1\'">Cancelación Solicitada</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Expediente Dentro de Paquete</span>\r\n      </md-content>\r\n\r\n    </section>\r\n\r\n  </div>\r\n\r\n</md-content>\r\n\r\n\r\n<div class="padding-views">\r\n\r\n\r\n  <br>\r\n  \r\n  <section ng-if="!dt.seccion" class="seccion">\r\n    \r\n    <md-grid-list\r\n          md-cols="2" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="6"\r\n          md-row-height-gt-md="1:1" md-row-height="1:1"\r\n          md-gutter="8px" md-gutter-gt-sm="8px" >\r\n      <md-grid-tile ng-repeat="seccion in dt.secciones"\r\n                    md-rowspan-gt-sm="{{seccion.row}}"\r\n                    md-colspan-gt-sm="{{seccion.col}}"\r\n                    md-rowspan="1"\r\n                    md-colspan="1"\r\n                    ng-click="dt.muestraSeccion( seccion.page , seccion.icon, seccion.background )"\r\n                    ng-class="seccion.background" \r\n                    class="menuItem"\r\n                    md-ink-ripple>\r\n        <ng-md-icon icon="{{seccion.icon}}" style="fill:white" size="{{seccion.size}}"></ng-md-icon>\r\n        <md-grid-tile-footer><h3>{{seccion.nombre}}</h3></md-grid-tile-footer>\r\n      </md-grid-tile>\r\n    </md-grid-list>\r\n\r\n  </section>\r\n\r\n  <section ng-if="dt.seccion" class="seccion">\r\n      <div ng-if="!dt.consultaDetalle" ng-include="dt.page"></div>\r\n      <div layout="row" layout-align="center center" ng-if="dt.consultaDetalle">\r\n        <md-progress-circular md-mode="indeterminate" md-diameter="40"></md-progress-circular>\r\n      </div>\r\n  </section>\r\n\r\n  \r\n  \r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n'),$templateCache.put("detalle1.html",'<md-content class="md-whiteframe-2dp">\r\n    \r\n    <md-subheader class="md-no-sticky">Datos Generales</md-subheader>\r\n    <div layout="row">\r\n      <span flex></span>\r\n      <md-button class="md-icon-button" aria-label="Notificaciones">\r\n          <ng-md-icon icon="notifications"></ng-md-icon> \r\n      </md-button>\r\n    </div>\r\n    <md-divider></md-divider>\r\n\r\n    <section layout-gt-sm="row" layout="column"  layout-align="center center" layout-margin>\r\n\r\n        <div class="text-center" flex>\r\n          <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ dt.dato.Cia_logo }}" class="img-registro" alt="cliente">\r\n        </div>\r\n\r\n        <div class="text-center" flex>\r\n          <img ng-src="{{ dt.codigo }}" class="img-registro" alt="folio">\r\n        </div>\r\n\r\n        <div class="text-center" flex>\r\n          <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{ dt.dato.Pro_img }}" class="img-registro" alt="producto">\r\n        </div>\r\n\r\n    </section>\r\n\r\n    <section layout-gt-sm="row" layout="column" layout-padding layout-align="center center">\r\n\r\n        <div class="text-center" flex>                      \r\n            Folio: {{ dt.dato.Exp_folio }} <br>\r\n            Lesionado: {{ dt.dato.Exp_nombre }} {{ dt.dato.Exp_apaterno }} {{ dt.dato.Exp_amaterno }}  <br>\r\n            Póliza: {{ dt.dato.Exp_poliza }}  <br>\r\n            Riesgo: {{ dt.dato.RIE_nombre }} <br>\r\n        </div>\r\n        <div class="text-center" flex>\r\n            Compañia: {{ dt.dato.Cia_nombre }} <br>\r\n            Siniestro: {{ dt.dato.Exp_siniestro }} <br>\r\n            Registro: {{ dt.dato.Exp_fecreg }} <br>\r\n            Reporte: {{ dt.dato.Exp_reporte }} <br>\r\n        </div>\r\n        <div class="text-center" flex>\r\n            Unidad Médica: {{ dt.dato.UNI_nombreMV }} <br>\r\n            Usuario: {{ dt.dato.Usu_registro }} <br>\r\n        </div>\r\n      \r\n    </section>\r\n    \r\n    <section layout="row" layout-align="center center">\r\n      <md-button>Imprimir Portada</md-button>\r\n    </section>\r\n    \r\n    <md-divider></md-divider>\r\n    \r\n    <section layout-gt-sm="row" layout="column"  layout-align="center center">\r\n      \r\n      <md-content flex class="text-center estatus">\r\n        <span>Triage: Ambulatorio</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Alertas</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Estatus: Abierto</span>\r\n      </md-content>\r\n      <md-content flex class="text-center estatus">\r\n        <span>Problemas: 1</span>\r\n      </md-content>\r\n\r\n    </section>\r\n\r\n</md-content>\r\n\r\n<br>\r\n\r\n<md-card class="no-margin" flex="30">\r\n  <img src="img/card-bg.jpg" class="md-card-image" alt="Fondo">\r\n  <md-card-actions layout="row" layout-align="end center">\r\n    <md-button class="md-icon-button" aria-label="Favorite">\r\n      <md-icon md-svg-icon="img/icons/favorite.svg"></md-icon>\r\n    </md-button>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>\r\n    </md-button>\r\n    <md-button class="md-icon-button" aria-label="Share">\r\n      <md-icon md-svg-icon="img/icons/share-arrow.svg"></md-icon>\r\n    </md-button>\r\n  </md-card-actions>\r\n</md-card>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n  <md-tabs md-selected="dt.tabActual" md-align-tabs="\'bottom\'" md-dynamic-height md-border-bottom>\r\n    <md-tab id="tab1">\r\n      <md-tab-label>Primera Atención</md-tab-label>\r\n      <md-tab-body>\r\n        <div ng-include="dt.paso1"></div>\r\n      </md-tab-body>\r\n    </md-tab>\r\n    <md-tab id="tab2">\r\n      <md-tab-label>Subsecuencias</md-tab-label>\r\n      <md-tab-body> \r\n        <div ng-include="dt.paso2"></div>\r\n      </md-tab-body>\r\n    </md-tab>\r\n    <md-tab id="tab3">\r\n      <md-tab-label>Rehabilitaciones</md-tab-label>\r\n      <md-tab-body>\r\n        <div ng-include="dt.paso3"></div>\r\n      </md-tab-body>\r\n    </md-tab>\r\n    <md-tab id="tab4">\r\n      <md-tab-label>Estudios Especiales</md-tab-label>\r\n      <md-tab-body>\r\n        <div ng-include="dt.paso4"></div>\r\n      </md-tab-body>\r\n    </md-tab>\r\n  </md-tabs>\r\n</md-content>\r\n'),$templateCache.put("directorio.html",'<md-dialog aria-label="Directorio">\r\n\t<md-toolbar class="md-warn">\r\n\t    <div class="md-toolbar-tools">\r\n\t\t\t<h2>Directorio</h2>\r\n\t\t\t<span flex></span>\r\n\t\t\t<md-button  class="md-icon-button" ng-click="cerrar()">\r\n\t\t\t\t<ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n\t\t\t</md-button>\r\n\t    </div>\r\n  \t</md-toolbar>\r\n\t<md-dialog-content>\r\n\t\t<img src="img/directorio.jpg" alt="directorio" width="100%">\r\n\t</md-dialog-content>\r\n  \r\n</md-dialog>'),$templateCache.put("documentos.html",'<md-content layout-gt-sm="row" layout="column" layout-margin class="bg-transparent">\r\n\r\n  \r\n      \r\n</md-content>\r\n\r\n<md-button id="nuevo" class="animated bounceInUp md-fab md-fab-bottom-right" ng-click="dc.nuevo($event)" aria-label="Nueva Relación">\r\n    <md-tooltip md-direction="top">\r\n      Nuevo\r\n    </md-tooltip>\r\n    <ng-md-icon icon="add" style="fill:white"></ng-md-icon> \r\n</md-button>\r\n\r\n\r\n\r\n\r\n\r\n\r\n'),$templateCache.put("formatos.html",'<md-content layout="column" layout-gt-sm="row" layout-margin class="bg-transparent">\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Formatos de Atención Administrativa</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Portada de Expediente</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item ng-click="fr.muestraArchivo(\'cuestionario.pdf\',\'archivos\',$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Cuestionario de Atención Médica</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item ng-click="fr.muestraArchivo(\'identificacion.pdf\',\'archivos\',$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Identificación de Lesionado</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Nota Aclaratoria</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n\r\n    </md-list>\r\n  </div>\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Formatos de Atención Médica</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item ng-click="fr.muestraArchivo(\'Nota_Medica.pdf\',\'archivos\',$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Nota Médica Electronica 1ra. vez</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item ng-click="fr.muestraArchivo(\'Suministros.pdf\',\'archivos\',$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Subsecuencia</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Adendum a Nota Médica</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item class="md-2-line">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <div class="md-list-item-text">\r\n            <p>Nota Médica Interconsulta</p>\r\n            <p>Diferente a ortopedia</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item class="md-2-line">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <div class="md-list-item-text">\r\n            <p>Nota Complementaria</p>\r\n            <p>Formato SOAP</p>\r\n          </div>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Alta de Paciente</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Concentimiento Informado</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Terapia de Rehabilitación</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item ng-click="fr.muestraArchivo(\'Rehabilitacion.pdf\',\'archivos\',$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Reporte de Terapia</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Reporte de Ciclos de Terapia</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Alta de Paciente</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n    \r\n</md-content>\r\n\r\n<md-content layout="column" layout-gt-sm="row" layout-margin class="bg-transparent">\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Ejercicios en casa</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item ng-repeat="ejercicio in fr.ejercicios" ng-click="fr.muestraArchivo(ejercicio.archivo,ejercicio.carpeta,$event)">\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>{{ ejercicio.nombre }}</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      \r\n    </md-list>\r\n  </div>\r\n\r\n  <div class="md-whiteframe-2dp white" flex="33">\r\n    <md-subheader class="md-primary">Otros</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <md-list>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Recomendaciones al Paciente</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n      <md-list-item >\r\n          <ng-md-icon icon="insert_drive_file" aria-label="Detalle"></ng-md-icon>\r\n          <p>Esguince Cervical (informativo)</p>\r\n      </md-list-item>\r\n      <md-divider ></md-divider>\r\n    </md-list>\r\n  </div>\r\n\r\n  <div flex="33">\r\n  </div>\r\n    \r\n</md-content>\r\n\r\n\r\n\r\n\r\n\r\n'),
$templateCache.put("home.html",'<md-card layout="column" layout-align="center center" layout-padding>\r\n    <img class="logo" src="img/logoMV.png" alt="medicavial">\r\n    <strong style="font-size: 16px;margin-left: 10em;">MVSACE [UME]</strong>\r\n</md-card>\r\n\r\n<md-grid-list\r\n      md-cols="2" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6"\r\n      md-row-height-gt-md="1:1" md-row-height="1:1"\r\n      md-gutter="8px" md-gutter-gt-sm="8px" >\r\n  <md-grid-tile ng-repeat="seccion in hm.secciones"\r\n                md-rowspan-gt-sm="{{seccion.row}}"\r\n                md-colspan-gt-sm="{{seccion.col}}"\r\n                md-rowspan="1"\r\n                md-colspan="1"\r\n                ng-class="seccion.background" \r\n                ui-sref="{{seccion.url}}"\r\n                class="menuItem"\r\n                ng-if="seccion.permiso"\r\n                md-ink-ripple>\r\n    <!-- <div class="box"></div> -->\r\n    <ng-md-icon icon="{{seccion.icon}}" style="fill:white" size="{{seccion.size}}"></ng-md-icon>\r\n    <md-grid-tile-footer><h3>{{seccion.nombre}}</h3></md-grid-tile-footer>\r\n  </md-grid-tile>\r\n</md-grid-list>\r\n\r\n<!-- <md-subheader class="bg-transparent md-no-sticky">Administrador</md-subheader> -->\r\n<md-divider></md-divider>\r\n<md-grid-list\r\n      md-cols="2" md-cols-sm="2" md-cols-md="4" md-cols-gt-md="6"\r\n      md-row-height-gt-md="1:1" md-row-height="1:1"\r\n      md-gutter="8px" md-gutter-gt-sm="8px" >\r\n  <md-grid-tile ng-repeat="section in hm.seccionesAdmin"\r\n                md-rowspan-gt-sm="{{section.row}}"\r\n                md-colspan-gt-sm="{{section.col}}"\r\n                md-rowspan="1"\r\n                md-colspan="1"\r\n                ng-class="section.background" \r\n                ui-sref="{{section.url}}"\r\n                class="menuItem"\r\n                ng-if="section.permiso"\r\n                md-ink-ripple>\r\n    <!-- <div class="box"></div> -->\r\n    <ng-md-icon icon="{{section.icon}}" style="fill:white" size="{{section.size}}"></ng-md-icon>\r\n    <md-grid-tile-footer><h3>{{section.nombre}}</h3></md-grid-tile-footer>\r\n  </md-grid-tile>\r\n</md-grid-list>\r\n\r\n\r\n\r\n'),$templateCache.put("imagen.html",'<md-content layout="column" layout-gt-sm="row" layout-margin class="md-whiteframe-2dp">\r\n  \r\n  <div class="drop-box"  ngf-drop accept="\'image/*\'" ngf-drag-over-class="dragover" ngf-multiple="false" ngf-pattern="\'image/*\'" ngf-change="img.analizaArchivo($files,$event)" flex>\r\n      Arrastra tu imagen aqui\r\n      <md-button  aria-label="subir archivo"\r\n                class="md-raised"\r\n                ngf-select="img.analizaArchivo($files,$event)" \r\n                ngf-change="img.analizaArchivo($files,$event)" \r\n                ngf-multiple="false" \r\n                ngf-pattern="\'image/*\'"\r\n                ngf-accept="\'image/*\'" \r\n                ng-model-options="{allowInvalid: false}">\r\n      Seleccionar Archivos</md-button>\r\n  </div>\r\n    \r\n</md-content>\r\n\r\n\r\n\r\n'),$templateCache.put("info.html",' <div class="info-overlay">\r\n    <span class="glyphicon glyphicon-remove close"></span>\r\n    <div class="content">\r\n      <h2>LOREM IPSUM!</h2>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer nec odio. Praesent libero. Sed cursus ante dapibus diam. Sed nisi. Nulla quis <b>Praesent</b> sem at nibh elementum imperdiet. Duis sagittis ipsum. Praesent mauris. Fusce nec tellus sed augue semper porta. Mauris <b>Praesent</b> massa. Vestibulum <b>sed</b> lacinia arcu <b>nec</b> eget <b>augue</b> nulla. Class aptent <i>nibh</i> taciti sociosqu <b>massa.</b></p> \r\n\r\n      <p>Ad litora torquent per conubia nostra, per inceptos himenaeos. Curabitur <i>massa.</i> sodales ligula in libero. Sed dignissim lacinia nunc. Curabitur tortor. Pellentesque nibh. Aenean quam. In scelerisque sem at dolor. Maecenas mattis. Sed convallis tristique <i>libero.</i> sem. Proin ut ligula vel nunc egestas <b>dolor.</b> porttitor. Morbi lectus risus, iaculis vel, suscipit quis, luctus <i>mattis.</i> non, massa. Fusce ac turpis quis ligula lacinia aliquet. Mauris ipsum. Nulla metus metus, ullamcorper vel, tincidunt <b>aliquet.</b> sed, euismod <i>Fusce</i> in, nibh. <b>ipsum.</b> Quisque volutpat condimentum velit.</p> \r\n\r\n      <p>Class aptent taciti sociosqu ad litora torquent per <i>ullamcorper</i> conubia nostra, per inceptos himenaeos. <i>vel,</i> Nam nec ante. Sed lacinia, urna non tincidunt mattis, tortor neque adipiscing diam, a cursus ipsum ante quis turpis. Nulla facilisi. Ut fringilla. Suspendisse potenti. Nunc feugiat mi a tellus consequat imperdiet. Vestibulum sapien. Proin quam. Etiam ultrices. Suspendisse in justo eu magna luctus <b>imperdiet.</b> suscipit. Sed lectus. Integer euismod lacus luctus <i>consequat</i> magna. <b>magna</b> Quisque cursus, <b>lectus.</b> \r\n\r\n      <p>Metus vitae pharetra auctor, sem massa mattis sem, <i>magna</i> at interdum magna augue <i>lacus</i> eget diam. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices <b>ante</b> posuere cubilia Curae; Morbi <b>primis</b> lacinia molestie dui. Praesent blandit dolor. Sed non quam. In vel mi <b>blandit</b> sit amet augue congue elementum. Morbi in ipsum <i>dolor.</i> sit amet pede facilisis laoreet. Donec lacus nunc, viverra nec.</p>  \r\n    </div>\r\n    <button ng-morph-modal="example2Nesting"> Sign Up </button>\r\n  </div>'),$templateCache.put("login.html",'<div layout="row" class="fondo" layout-align-gt-sm="center center" layout-align="center start" layout-align-gt-xs="center center" ng-init="sesion.inicio()">\r\n\t\r\n\t<md-whiteframe class="md-whiteframe-z5 white" flex-sm="65" flex-gt-md="40" flex="100">\r\n\t\t\r\n\t\t<md-toolbar class="md-tall">\r\n\t      <span flex></span>\r\n\t      <h2 class="md-toolbar-tools md-toolbar-tools-bottom">\r\n\t        <span class="md-flex">Bienvenido</span>\r\n\t      </h2>\r\n\t    </md-toolbar>\r\n\t    <div layout-padding>\r\n\t    \t<form name="sesion.loginForm" ng-submit="sesion.login()" layout="column" novalidate>\r\n\t\t\t\t<md-input-container class="md-icon-float" flex>\r\n\t\t\t\t\t<label>Usuario</label>\r\n\t\t\t\t\t<md-icon  class="name">\r\n\t\t\t\t\t\t<ng-md-icon icon="person" style="fill:#595959"></ng-md-icon> \r\n\t\t\t\t\t</md-icon>\r\n\t\t\t\t\t<input ng-model="sesion.datos.usuario" name="usuario" type="text" aria-label="usuario" required>\r\n\t\t\t\t\t<div ng-messages="sesion.loginForm.usuario.$error" ng-if="sesion.loginForm.$submitted">\r\n\t\t\t\t\t\t<div ng-message="required">Campo obligatorio.</div>\r\n\t\t\t        </div>\r\n\t\t\t    </md-input-container>\r\n\t\t\t    <md-input-container class="md-icon-float" flex>\r\n\t\t\t\t\t<label>Contraseña</label>\r\n\t\t\t\t\t<md-icon  class="psw">\r\n\t\t\t\t\t\t<ng-md-icon icon="lock" style="fill:#595959"></ng-md-icon> \r\n\t\t\t\t\t</md-icon>\r\n\t\t\t\t\t<input ng-model="sesion.datos.psw" name="psw" type="password" aria-label="contraseña" required>\r\n\t\t\t\t\t<div ng-messages="sesion.loginForm.psw.$error" ng-if="sesion.loginForm.$submitted">\r\n\t\t\t\t\t\t<div ng-message="required">Campo obligatorio.</div>\r\n\t\t\t        </div>\r\n\t\t\t    </md-input-container>\r\n\t\t\t    <br>\r\n\t\t\t\t<md-checkbox ng-model="sesion.datos.guardar" aria-label="Mantenerme conectado">\r\n\t\t        \tMantenerme conectado\r\n\t\t        </md-checkbox>\r\n\t\t\t\t<div layout="row" layout-align="center center">\r\n\t\t\t\t\t<md-button class="md-raised md-primary" type="submit" ng-hide="cargando">\r\n\t\t\t\t\t\tIniciar Sesion\r\n\t\t\t\t\t</md-button>\r\n\t\t\t\t\t<md-progress-circular md-mode="indeterminate" md-diameter="40" ng-show="cargando"></md-progress-circular>\r\n\t\t\t\t</div>\r\n\t    \t</form>\r\n\t    \t<br>\r\n\t    \t<md-divider></md-divider>\r\n\t    \t<div layout="column" layout-align="center center">\r\n\t\t\t    <img class="logo-login" src="img/logoMV.png" alt="medicavial">\r\n\t\t\t</div>\r\n  \t\t</div>\r\n\r\n\t</md-whiteframe>\r\n \r\n</div>'),$templateCache.put("notificacion.html",'<md-dialog aria-label="Directorio" flex-sm="75" flex-gt-md="30" flex="100">\r\n\t<md-toolbar class="md-warn">\r\n\t    <div class="md-toolbar-tools">\r\n\t\t\t<h2>Notificaciones</h2>\r\n\t\t\t<span flex></span>\r\n\t\t\t<md-button  class="md-icon-button" ng-click="not.cerrar()">\r\n\t\t\t\t<ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n\t\t\t</md-button>\r\n\t    </div>\r\n  \t</md-toolbar>\r\n\t<md-dialog-content>\r\n\t\t<md-list flex>\r\n\t        <md-subheader class="md-no-sticky">Atenciones totales</md-subheader>\r\n\t        <md-list-item ui-sref="index.estadisticas" ng-click="not.cerrar()">\r\n\t          \t<p>\r\n\t          \t\tRegistros sin atenciones : {{ not.datos.expedientesSA }}\r\n\t          \t</p>\r\n\t        </md-list-item>\r\n\t        <md-divider ></md-divider>\r\n\t        <md-list-item ui-sref="index.estadisticas" ng-click="not.cerrar()">\r\n\t          \t<p>\r\n\t          \t\tAtenciones sin documentos : {{ not.datos.atencionesSD }}\r\n\t          \t</p>\r\n\t        </md-list-item>\r\n\t\t\t<md-divider ></md-divider>\r\n\t        <md-list-item ui-sref="index.estadisticas" ng-click="not.cerrar()">\r\n\t          \t<p>\r\n\t          \t\tAtenciones con documentos sin enviar a revisión: {{ not.datos.atencionesCDSL }}\r\n\t          \t</p>\r\n\t        </md-list-item>\r\n      \t</md-list>\r\n\t\t\r\n\t\t\r\n\t</md-dialog-content>\r\n  \r\n</md-dialog>'),$templateCache.put("opcionesGrid.html",'<md-bottom-sheet class="md-grid" layout="column">\r\n  <div layout="row" layout-align="center center" ng-cloak>\r\n    <h4>Nueva Atención</h4>\r\n  </div>\r\n  <div ng-cloak>\r\n    <md-list flex layout="column" layout-gt-sm="row" layout-align="center center">\r\n      <md-list-item ng-repeat="item in opt.items">\r\n        <div>\r\n          <md-button class="md-grid-item-content" ng-click="opt.opcion($index)" ng-disabled="item.disabled">\r\n            <ng-md-icon icon="{{ item.icon }}" size="40" style="fill:#7d7d7d"></ng-md-icon>\r\n            <div class="md-grid-text"> {{ item.name }} </div>\r\n          </md-button>\r\n        </div>\r\n      </md-list-item>\r\n    </md-list>\r\n  </div>\r\n</md-bottom-sheet>'),$templateCache.put("pagosExpediente.html",'<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Pagos del Expediente</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n\r\n</md-content>\r\n'),$templateCache.put("usuarios.html",'<div layout="column">\r\n    \r\n    <md-data-table-toolbar class="md-whiteframe-z1 animated fadeInUp">\r\n      <md-input-container md-no-float flex class="no-padding">\r\n        <md-icon>\r\n          <ng-md-icon icon="search"></ng-md-icon> \r\n        </md-icon>\r\n        <input ng-model="query" type="text" placeholder="Buscar Perfil" flex>\r\n      </md-input-container>\r\n      <md-button class="md-icon-button" aria-label="limpiar" ng-show="query" ng-click="query = \'\'">\r\n        <ng-md-icon icon="close"></ng-md-icon> \r\n      </md-button>\r\n    </md-data-table-toolbar>\r\n    <br>\r\n    <md-data-table-container class="md-whiteframe-z1 animated fadeInUp">\r\n      <table md-data-table>\r\n        <thead md-order="perfiles.order" md-trigger="perfiles.onOrderChange">\r\n          <tr>\r\n            <th name="ID"  order-by="USU_clave"></th>\r\n            <th name="Usuario" order-by="USU_login"></th>\r\n            <th name="Nombre" order-by="USU_nombrecompleto"></th>\r\n            <th name="Fecha Alta"  order-by="created_at"></th>\r\n            <th name="Activo"  order-by="USU_activo"></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr ng-repeat="usuario in usuarios.info |filter:query | orderBy: perfiles.order | limitTo: perfiles.limit: (perfiles.page - 1) * perfiles.limit">\r\n            <td>{{usuario.USU_clave}}</td>\r\n            <td>{{usuario.USU_login}}</td>\r\n            <td>{{usuario.USU_nombrecompleto}}</td>\r\n            <td>{{usuario.created_at}}</td>\r\n            <td>\r\n              <div ng-show="usuario.USU_activo">SI</div>\r\n              <div ng-hide="usuario.USU_activo">NO</div>\r\n            </td>\r\n            <td class="option-table">\r\n                <md-menu md-position-mode="target-right target" >\r\n                  <md-button aria-label="Opciones" class="md-icon-button" ng-click="$mdOpenMenu()">\r\n                    <md-icon md-menu-origin>\r\n                      <ng-md-icon icon="more_vert"></ng-md-icon> \r\n                    </md-icon>\r\n                  </md-button>\r\n                  <md-menu-content width="2">\r\n                    <md-menu-item>\r\n                      <md-button ng-click="usuarios.editaUsuario($event,$index)">\r\n                        <p>Modificar</p>\r\n                      </md-button>\r\n                    </md-menu-item>\r\n                    <md-menu-item>\r\n                      <md-button ng-click="usuarios.confirmacion($event,$index)">\r\n                        <p ng-show="usuario.USU_activo" >Desactivar</p>\r\n                        <p ng-hide="usuario.USU_activo" >Activar</p>\r\n                      </md-button>\r\n                    </md-menu-item>\r\n                  </md-menu-content>\r\n                </md-menu>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </md-data-table-container>\r\n    <br>\r\n    <md-data-table-pagination class="animated fadeInUp" md-label="usuarios.texto" md-row-select="usuarios.paginacion" md-limit="usuarios.limit" md-page="usuarios.page" md-total="{{usuarios.info.length}}"></md-data-table-pagination>\r\n\r\n</div>\r\n\r\n<md-button id="nuevo" class="animated bounceInUp md-fab md-fab-bottom-right" ng-click="usuarios.nuevoUsuario($event)" aria-label="Nuevo Estado">\r\n    <md-tooltip md-direction="top">\r\n      Nuevo\r\n    </md-tooltip>\r\n    <ng-md-icon icon="add" style="fill:white"></ng-md-icon> \r\n</md-button>'),$templateCache.put("videos.html",'<md-dialog aria-label="Video" flex-sm="65" flex-gt-md="40" flex="100">\r\n\r\n  <md-toolbar class="md-warn">\r\n    <div class="md-toolbar-tools">\r\n      <h2>Video</h2>\r\n      <span flex></span>\r\n      <md-button  class="md-icon-button" ng-click="vi.cancel()">\r\n        <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n      </md-button>\r\n    </div>\r\n  </md-toolbar>\r\n\r\n\r\n  <md-dialog-content layout-padding>\r\n    <md-content>\r\n      <vjs-video-container vjs-ratio="4:3">\r\n        <video style="width:100%;" class="video-js vjs-default-skin" controls preload="auto" vjs-video vjs-media="vi.info" vjs-setup="vi.options">\r\n        </video>\r\n      </vjs-video-container>\r\n    </md-content>\r\n    \r\n  </md-dialog-content>\r\n  <md-dialog-actions layout="row">\r\n\r\n    <span flex></span>\r\n    <md-button type="button" ng-click="vi.cancel()">\r\n        Salir\r\n    </md-button>\r\n\r\n  </md-dialog-actions>\r\n\r\n</md-dialog>'),$templateCache.put("visor.html",'<md-dialog aria-label="Directorio" flex-sm="85" flex-gt-md="70" flex="100">\r\n\t<md-toolbar class="md-warn">\r\n\t    <div class="md-toolbar-tools">\r\n\t\t\t<h2>Visor</h2>\r\n\t\t\t<span flex></span>\r\n\t\t\t<md-button  class="md-icon-button" ng-click="cerrar()">\r\n\t\t\t\t<ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n\t\t\t</md-button>\r\n\t    </div>\r\n  \t</md-toolbar>\r\n\t<md-dialog-content>\r\n\t\t<!-- <img ng-src="http://localhost/registro/{{ archivo }}/{{ imagen }}" alt="directorio" width="100%"> -->\r\n\t\t<embed ng-if="file()" ng-src="{{ obtenerFrame() }}" width="100%" height="500px" id="files">\r\n        <img ng-if="picture()" ng-class="{\'rotado\': rotar}" ng-src="{{ obtenerFrame() }}" \r\n\t        ng-init="zoomWidth = 800;imgStyle = {width:\'100%\'}" \r\n\t        ng-style="imgStyle" \r\n\t\t\tng-mouse-wheel-up="zoomWidth = zoomWidth + 20; imgStyle.width = zoomWidth +\'px\'; "  \r\n\t\t\tng-mouse-wheel-down="zoomWidth = zoomWidth - 20;imgStyle.width = zoomWidth  +\'px\'; "/>\r\n\t</md-dialog-content>\r\n  \r\n</md-dialog>'),$templateCache.put("busqueda.html",'<div class="padding-views" layout="column" ng-init="bs.inicio()">\r\n    \r\n    <form ng-submit="bs.buscar()">\r\n    <md-content layout-gt-sm="row" layout="column" layout-padding layout-wrap class="md-whiteframe-2dp">\r\n        \r\n        <md-input-container flex>\r\n          <label>Lesionado</label>\r\n          <input name="lesionado" ng-model="bs.datos.lesionado" mayusculas>          \r\n        </md-input-container>\r\n\r\n        <md-input-container flex>\r\n          <label>Folio MV</label>\r\n          <input name="folio" ng-model="bs.datos.folio" folio>          \r\n        </md-input-container>\r\n\r\n        <md-input-container flex>\r\n          <label>Folio Interno</label>\r\n          <input name="folio" ng-model="bs.datos.folioInt">          \r\n        </md-input-container>\r\n        \r\n        <div layout="column" layout-align="center center" flex>\r\n          <md-progress-circular md-mode="indeterminate" ng-if="bs.consultando"></md-progress-circular>\r\n          <md-button type="submit" class="md-raised md-primary" ng-if="!bs.consultando">Buscar</md-button>\r\n        </div>\r\n        \r\n    </md-content>\r\n    </form>\r\n    <br>\r\n    <div class="md-whiteframe-2dp white" flex>\r\n      <md-subheader class="md-primary md-no-sticky">Resutados de: {{ bs.busqueda }}</md-subheader>\r\n      <md-table-container>\r\n        <table md-table md-progress="bs.consulta">\r\n          <thead md-head md-order="bs.datos.order" md-on-reorder="bs.buscar">\r\n            <tr md-row>\r\n              <th md-column md-order-by="Cia_clave">Cliente</th>\r\n              <th md-column md-order-by="Exp_folio">Folio MV</th>\r\n              <th md-column md-order-by="Exp_fq">Folio Interno</th>\r\n              <th md-column md-order-by="Exp_completo">Lesionado</th>\r\n              <th md-column md-order-by="Exp_fecreg">Registro</th>\r\n              <th md-column md-order-by="Exp_obs">Observaciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody md-body>\r\n            <tr md-row class="fila" ng-repeat="registro in bs.registros" ng-disabled="registro.Exp_cancelado == \'1\' ">\r\n              \r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell class="imagen"> \r\n                <img class="img-thumbnail md-whiteframe-2dp" ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ registro.Cia_logo }}" alt="{{registro.Cia_clave}}"  width="100"> \r\n              </td>\r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell>{{registro.Exp_folio}}</td>\r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell>{{registro.Exp_fq}}</td>\r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell>{{registro.Exp_completo}}</td>\r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell>{{registro.Exp_fecreg}}</td>\r\n              <td ui-sref="index.detalle({folio:registro.Exp_folio})" md-cell>{{registro.Exp_obs}}</td>\r\n              <td md-cell>\r\n                  <md-menu md-position-mode="target-right target" ng-if="registro.Exp_cancelado == \'0\' ">\r\n                    <md-button aria-label="Opciones" class="md-icon-button" ng-click="$mdOpenMenu()">\r\n                      <md-icon md-menu-origin>\r\n                        <ng-md-icon icon="more_vert"></ng-md-icon> \r\n                      </md-icon>\r\n                    </md-button>\r\n                    <md-menu-content width="2">\r\n                      <md-menu-item>\r\n                        <md-button ui-sref="index.detalle({folio:registro.Exp_folio})">\r\n                          <p>Ver. Detalle</p>\r\n                        </md-button>\r\n                      </md-menu-item>\r\n                      <md-menu-item>\r\n                        <md-button ng-click="bs.solicitaCancelacion($event,registro)">\r\n                          <p>Solicitar Cancelación</p>\r\n                        </md-button>\r\n                      </md-menu-item>\r\n                    </md-menu-content>\r\n                  </md-menu>\r\n                  <ng-md-icon icon="inbox" style="fill:black" aria-label="Solicitado" ng-if="registro.Exp_solCancela == \'1\' ">\r\n                    <md-tooltip md-direction="top">\r\n                      Solicitado a Cancelación\r\n                    </md-tooltip>\r\n                  </ng-md-icon> \r\n                  <ng-md-icon icon="cancel" style="fill:red" aria-label="Cancelado" ng-if="registro.Exp_cancelado == \'1\' ">\r\n                    <md-tooltip md-direction="top">\r\n                      Cancelado\r\n                    </md-tooltip>\r\n                  </ng-md-icon> \r\n              </td>              \r\n            </tr>\r\n            \r\n          </tbody>\r\n        </table>\r\n        <md-table-pagination md-limit="bs.datos.limit" md-limit-options="bs.paginacion" md-page="bs.datos.page" md-total="{{bs.total}}" md-on-paginate="bs.buscar" md-label="{page: \'Página:\', rowsPerPage: \'Resultados por página:\', of: \'de\'}" md-page-select></md-table-pagination  md-page-select="bs.pageSelect">\r\n      </md-table-container>\r\n      \r\n    </div>\r\n    <br>\r\n\r\n  \r\n</div>\r\n\r\n\r\n'),$templateCache.put("cancelacion.html",'<md-dialog aria-label="Cancelacion" flex-sm="65" flex-gt-md="40" flex="100">\r\n\r\n  <form name="can.datosForm" ng-submit="can.enviaSolicitud()" novalidate>\r\n\r\n    <md-toolbar class="md-warn">\r\n      <div class="md-toolbar-tools">\r\n        <h2>{{ can.titulo }}</h2>\r\n        <span flex></span>\r\n        <md-button  class="md-icon-button" ng-click="can.cerrar()">\r\n          <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n        </md-button>\r\n      </div>\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding layout-wrap>\r\n\r\n      <div layout-gt-sm="row" layout="column">  \r\n        \r\n        <md-input-container class="md-block" flex>\r\n          <label>Tipo de Cancelación</label>\r\n          <md-select ng-model="can.datos.motivoId" name="tipoCancel" required>\r\n            <md-option><em>Seleccione</em></md-option>\r\n            <md-option ng-repeat="motivo in can.motivos" ng-value="motivo.CAC_cve">\r\n              {{motivo.CAC_nombre}}\r\n            </md-option>\r\n          </md-select>\r\n          <div ng-messages="can.datosForm.tipoCancel.$error" ng-if="can.datosForm.$submitted">\r\n            <div ng-message="required">El campo es requerido</div>             \r\n          </div>\r\n        </md-input-container>\r\n\r\n        <md-input-container class="md-block" flex>\r\n          <label>Motivo Cancelación</label>\r\n          <input ng-model="can.datos.motivo" name="motivo" type="text" required>\r\n          <div ng-messages="can.datosForm.motivo.$error" ng-if="can.datosForm.$submitted">\r\n            <div ng-message="required">El campo es requerido</div>             \r\n          </div>\r\n        </md-input-container>\r\n\r\n      </div>\r\n\r\n      <div layout-gt-sm="row" layout="column">  \r\n        \r\n        <md-input-container class="md-block" flex>\r\n          <label>Folio Sustituto</label>\r\n          <input ng-model="can.datos.folioSus" type="text">\r\n        </md-input-container>\r\n\r\n        <md-input-container class="md-block" flex>\r\n          <label>Observaciones</label>\r\n          <input ng-model="can.datos.observaciones" type="text">\r\n        </md-input-container>\r\n\r\n      </div>\r\n\r\n      <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="can.guardando"></md-progress-circular>\r\n\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n\r\n      <span flex></span>\r\n      <md-button type="submit" ng-disabled="can.guardando">\r\n          Enviar Solicitud\r\n      </md-button>\r\n\r\n    </md-dialog-actions>\r\n  </form>\r\n\r\n\r\n</md-dialog>'),$templateCache.put("atencion.html",'<md-progress-linear md-mode="indeterminate" ng-if="atn.cargando"></md-progress-linear>\r\n<md-content class="md-whiteframe-2dp" ng-style="atn.opacidad">\r\n    \r\n    <div layout="row">\r\n      <md-subheader class="md-primary">\r\n        {{ ::atn.datos.TIA_nombre }} - \r\n        <span ng-if="atn.imagenes.length == 0">Sin Documentos</span> \r\n        <span ng-if="atn.datos.ATN_estatus == 0 && atn.imagenes.length > 0">Sin Solicitar</span> \r\n        <span ng-if="atn.datos.ATN_estatus == 1">Solicitado</span>\r\n        <span ng-if="atn.datos.ATN_estatus == 2">Aprobado</span> \r\n        <span ng-if="atn.datos.ATN_estatus == 3">Rechazado</span>  \r\n        <span ng-if="atn.datos.ATN_estatus == 4">Pagado</span>\r\n        <span ng-if="atn.datos.ATN_estatus == 5">Revisión de Factura</span> \r\n        <span ng-if="atn.datos.ATN_estatus == 6">Factura Rechazada</span> \r\n        <span ng-if="atn.datos.ATN_estatus == 7">Factura Autorizada</span> \r\n      </md-subheader>\r\n      <span flex></span>\r\n      <md-button class="md-primary md-icon-button" aria-label="Actualizar" ng-click="atn.cargaInfo()">\r\n        <md-tooltip md-direction="left">\r\n          Actualizar\r\n        </md-tooltip>\r\n        <ng-md-icon icon="refresh"></ng-md-icon>\r\n      </md-button>\r\n    </div>\r\n    <md-divider></md-divider>\r\n    <md-tabs md-selected="atn.tabPrimera" md-dynamic-height class="TabPanel">\r\n    \r\n      <md-tab id="tab1">\r\n\r\n        <md-tab-label>Documentos Digitales</md-tab-label>\r\n        <md-tab-body> \r\n            \r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n            <section flex="50" ng-if="atn.datos.ATN_estatus != 2">\r\n\r\n              <md-subheader class="md-no-sticky">Subir Documento</md-subheader>\r\n              <md-divider></md-divider>\r\n              \r\n              <div layout-gt-sm="row" layout="column" layout-align="center center">\r\n                \r\n                <md-select ng-model="atn.tipo" placeholder="Tipo de Documento" class="md-no-underline" required>\r\n                  <md-option value=""><em>Tipo de Documento</em></md-option>\r\n                  <md-option ng-repeat="tipo in atn.tiposDocumento" ng-value="tipo.TID_claveint">\r\n                    {{tipo.TID_nombre}}\r\n                  </md-option>\r\n                </md-select>\r\n\r\n                <md-button  aria-label="subir archivo" ng-disabled="!atn.tipo"\r\n                            ngf-select="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-change="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-multiple="false" \r\n                            ngf-pattern="\'.pdf,image/*\'"\r\n                            ngf-accept="\'.pdf,image/*\'" \r\n                            ng-model-options="{allowInvalid: false}">\r\n                  Subir Archivo</md-button>\r\n                \r\n              </div>\r\n              <div layout="row" layout-align="center center" flex>\r\n                <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.subiendoImagen"></md-progress-circular>\r\n              </div>\r\n              <div class="drop-box" ng-if="atn.tipo" ngf-drop accept="\'.pdf,image/*\'" ngf-drag-over-class="dragover" ngf-multiple="false" ngf-pattern="\'.pdf,image/*\'" ngf-change="atn.subirDigitales($files,atn.tipo,$event)" flex>\r\n                  Arrastra tus archivos aqui\r\n              </div>\r\n\r\n              <br>\r\n\r\n              <section ng-if="atn.datos.ATN_estatus == 3">\r\n                <div layout="column" layout-align="center center">  \r\n                  \r\n                  <ng-md-icon icon="error" style="fill: red" size="128" class="big-button"></ng-md-icon>\r\n                  <br><br>\r\n                  <p>Atención Rechazada</p>\r\n                  <p>{{  atn.datos.ATN_mensaje }}</p>\r\n\r\n                </div> \r\n              </section>\r\n\r\n            </section>\r\n            <section flex="50" ng-if="atn.datos.ATN_estatus == 2">\r\n              \r\n              <div layout="column" layout-align="center center">  \r\n                \r\n                <ng-md-icon icon="check_circle" style="fill: green" size="128" class="big-button"></ng-md-icon>\r\n                <br><br>\r\n                <p>Atención Aprobada Puedes Ingresar tu Factura</p>\r\n                <md-button class="md-raised md-warn md-hue-2" aria-label="Subir Factura" ng-click="atn.tabPrimera = 1"  md-ripple-size="full">Subir Factura</md-button>\r\n\r\n              </div> \r\n\r\n            </section>  \r\n\r\n            <section flex="50">\r\n\r\n              <md-subheader class="md-no-sticky">Archivos Disponibles</md-subheader>\r\n              <md-divider></md-divider>\r\n\r\n              \r\n              <div ng-repeat="(key, value) in atn.imagenes | groupBy: \'tipoNombre\'">\r\n                \r\n                <md-toolbar layout="row" class="md-hue-1">\r\n                  <div class="md-toolbar-tools">\r\n                    <md-button class="md-icon-button" aria-label="Estatus" ng-disabled="true">\r\n                      <ng-md-icon icon="{{ ::value[0].estatusGlobalIcon }}" style="fill:white"></ng-md-icon>\r\n                    </md-button>\r\n                    <span>{{ ::key }}</span>\r\n                    <span flex></span>\r\n                    <md-button class="md-icon-button" aria-label="Motivo" ng-if=" value[0].estatusGlobal == 2 " ng-click="atn.motivo(value[0].motivoGlobal,$event)">\r\n                      <ng-md-icon icon="description"></ng-md-icon>\r\n                    </md-button>\r\n                  </div>\r\n                </md-toolbar>\r\n                <md-list>\r\n                  \r\n                  <md-list-item ng-repeat="imagen in value" ng-click="atn.muestraArchivo(imagen,$event)">\r\n                    <ng-md-icon icon="{{ ::imagen.iconEstatus }}"></ng-md-icon> \r\n                    <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                    <p class="padding-left">{{ $index + 1 }} ({{ imagen.estatus }})</p>\r\n                    <ng-md-icon aria-label="Motivo Rechazo" icon="description" class="md-secondary" ng-if="imagen.estatus == \'Rechazado\' " ng-click="atn.motivo(imagen.motivo,$event)">\r\n                      <md-tooltip md-direction="top">\r\n                        Motivo Rechazo\r\n                      </md-tooltip>\r\n                    </ng-md-icon>\r\n                    <ng-md-icon aria-label="Elminar Archivo" icon="delete" class="md-secondary" ng-hide="imagen.estatus == \'Autorizado\' " ng-click="atn.eliminarArchivos(imagen,$event)">\r\n                      <md-tooltip md-direction="top">\r\n                        Eliminar Archivo\r\n                      </md-tooltip>\r\n                    </ng-md-icon>\r\n                  \r\n                    <md-divider ng-hide="$last"></md-divider>\r\n                  </md-list-item>\r\n\r\n                </md-list>\r\n\r\n              </div>\r\n              \r\n              <md-content ng-if=" atn.requisitos.length && atn.anotaciones.length == 0 && atn.imagenes.length " layout="column" layout-padding>\r\n\r\n                <md-toolbar layout="row" class="md-hue-1">\r\n                  <div class="md-toolbar-tools">\r\n                    <md-button class="md-icon-button" aria-label="Estatus" ng-disabled="true">\r\n                      <ng-md-icon icon="text_fields" style="fill:white"></ng-md-icon>\r\n                    </md-button>\r\n                    <span>Datos Adicionales</span>\r\n                  </div>\r\n                </md-toolbar>\r\n                \r\n                <form name="atn.requisitosForm" layout="column" >\r\n                  \r\n                  <div layout="row" layout-align="space-between center">\r\n                    <span>Tipo de Lesión</span>\r\n                    <md-select ng-model="atn.tipoLes" placeholder="Lesion" class="md-no-underline" required md-on-close="atn.lesionMV()">\r\n                      <md-option ng-repeat="lesion in atn.lesiones" ng-value="lesion.TLE_claveint" ng-click="atn.descripcion = lesion.TLE_descripcion ">\r\n                        {{ lesion.TLE_nombre | uppercase}}\r\n                      </md-option>\r\n                    </md-select>\r\n                  </div>\r\n                  <p ng-if="atn.descripcion">{{ atn.descripcion | uppercase}}</p>\r\n                  <div layout="row" layout-align="space-between center">\r\n                    <span>Lesión</span>\r\n                    <md-select ng-model="atn.lesionMV" placeholder="Lesion MV" class="md-no-underline" required md-on-close="atn.lesionCodificada()">\r\n                      <md-option ng-repeat="lesionMV in atn.lesionesMV" ng-value="lesionMV.LES_clave">{{ lesionMV.LES_nombreMedic | uppercase}}</md-option>\r\n                    </md-select>\r\n                  </div>\r\n                  <div layout="row" layout-align="space-between center">\r\n                    <span>Lesión Principal Codifiada</span>\r\n                    <md-select ng-model="atn.lesionCod" placeholder="Lesion Codificada" class="md-no-underline" required>\r\n                      <md-option ng-repeat="lesionCod in atn.lesionesCod" ng-value="lesionCod.id">{{ lesionCod.clave + \' - \' + lesionCod.descripcion | uppercase}}</md-option>\r\n                    </md-select>\r\n                  </div>\r\n                  <md-input-container ng-repeat=" requisito in atn.requisitos" flex>\r\n                    <label>{{ ::requisito.REQ_valor }}</label>\r\n                    <input ng-model="requisito.valor" ng-required="requisito.REQ_obligatorio == \'1\' " mayusculas>\r\n                  </md-input-container>\r\n\r\n                </form>\r\n                \r\n                \r\n              </md-content>\r\n\r\n              \r\n              <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.solicitando"></md-progress-circular>\r\n              <md-button class="md-raised md-primary" aria-label="Solicitar Autorización" ng-if="atn.imagenes.length || atn.solicitando == true" ng-click="atn.solicitaAutorizacion()" ng-disabled="atn.datos.ATN_estatus != 0 || atn.requisitosForm.$invalid ">Enviar A Revisión</md-button>\r\n\r\n            </section>\r\n\r\n          </md-content>\r\n          \r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n      <md-tab id="tab2" ng-disabled="atn.datos.ATN_estatus == 0 || atn.datos.ATN_estatus == 1 || atn.datos.ATN_estatus == 3">\r\n\r\n        <md-tab-label>Facturación</md-tab-label>\r\n        <md-tab-body>\r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n            <section flex="50" ng-if="!atn.pdf || !atn.xml">\r\n\r\n              <md-subheader class="md-no-sticky">Subir Factura</md-subheader>\r\n              <md-divider></md-divider>\r\n              \r\n              <div layout="row" layout-align="center center" flex>\r\n                <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.subiendoImagen"></md-progress-circular>\r\n              </div>\r\n              <div class="drop-box" ngf-drop accept="\'.pdf,.xml\'" ngf-drag-over-class="dragover" ngf-multiple="false" ngf-pattern="\'.pdf,.xml\'" ngf-change="atn.subirFactura($files,$event)" flex>\r\n                  Arrastra tus archivos aqui\r\n                  <md-button  aria-label="subir archivo"\r\n                            class="md-raised"\r\n                            ngf-select="atn.subirFactura($files,$event)" \r\n                            ngf-change="atn.subirFactura($files,$event)" \r\n                            ngf-multiple="false" \r\n                            ngf-pattern="\'.pdf,.xml\'"\r\n                            ngf-accept="\'.pdf,.xml\'" \r\n                            ng-model-options="{allowInvalid: false}">\r\n                  Seleccionar Archivos</md-button>\r\n              </div>\r\n\r\n            </section>\r\n            <section flex="50">\r\n                <div layout="row" layout-align="center center">  \r\n\r\n                  <div class="text-center muestras" layout-wrap flex ng-if="atn.xml">\r\n                    <ng-md-icon icon="code" style="fill: green" size="128" class="big-button"></ng-md-icon>\r\n                    <br><br>\r\n                    <p>XML de Factura</p>\r\n\r\n                    <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.eliminandoXML"></md-progress-circular>\r\n\r\n                    <md-button ng-if="atn.datos.ATN_estatus == 2 || atn.datos.ATN_estatus == 6" class="md-raised md-warn md-hue-2" aria-label="Subir Factura" ng-click="atn.eliminaFactura(atn.archivoXML,\'xml\',$event)" ng-disabled="atn.eliminandoXML"  md-ripple-size="full">Eliminar Archivo</md-button>\r\n\r\n                  </div>\r\n                  <div class="text-center muestras" layout-wrap flex ng-if="atn.pdf">\r\n                    <ng-md-icon icon="description" style="fill: green" size="128" class="big-button"></ng-md-icon>\r\n                    <br><br>\r\n                    <p>PDF de Factura</p>\r\n\r\n                    <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.eliminandoPDF"></md-progress-circular>\r\n\r\n                    <md-button ng-if="atn.datos.ATN_estatus == 2 || atn.datos.ATN_estatus == 6" class="md-raised md-warn md-hue-2" aria-label="Subir Factura" ng-click="atn.eliminaFactura(atn.archivoPDF,\'pdf\',$event)" ng-disabled="atn.eliminandoPDF"  md-ripple-size="full">Eliminar Archivo</md-button>\r\n\r\n                  </div>\r\n                \r\n                </div>\r\n                <div layout="row" layout-align="center center" ng-if="atn.pdf && atn.xml">\r\n                    <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.solicitando"></md-progress-circular>\r\n                    <md-button class="md-raised md-primary" ng-if="!atn.solicitando" aria-label="Enviar a revisión" ng-click="atn.solicitaRevisionFactura()" ng-disabled="atn.datos.ATN_estatus == 5 || atn.datos.ATN_estatus == 7">Enviar A Revisión</md-button>\r\n                </div>\r\n            </section>\r\n\r\n          </md-content>\r\n          <section ng-if="atn.factura">\r\n\r\n            <md-subheader>Datos de Factura</md-subheader>\r\n            <md-divider></md-divider> \r\n            <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column">\r\n              \r\n            </md-content>          \r\n            \r\n          </section>\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n      <md-tab id="tab3" ng-if=" atn.permisos.Per_admin == \'S\' ">\r\n\r\n        <md-tab-label>Ayuda Unidad</md-tab-label>\r\n        <md-tab-body>\r\n\r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n\r\n            <section flex="50">\r\n\r\n              <md-subheader class="md-no-sticky">Subir Documento</md-subheader>\r\n              <md-divider></md-divider>\r\n              \r\n              <div layout-gt-sm="row" layout="column" layout-align="center center">\r\n                \r\n                <md-select ng-model="atn.tipo" placeholder="Tipo de Documento" class="md-no-underline" required>\r\n                  <md-option value=""><em>Tipo de Documento</em></md-option>\r\n                  <md-option ng-repeat="tipo in atn.tiposDocumento" ng-value="tipo.TID_claveint">\r\n                    {{tipo.TID_nombre}}\r\n                  </md-option>\r\n                </md-select>\r\n\r\n                <md-button  aria-label="subir archivo" ng-disabled="!atn.tipo"\r\n                            ngf-select="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-change="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-multiple="false" \r\n                            ngf-pattern="\'.pdf,image/*\'"\r\n                            ngf-accept="\'.pdf,image/*\'" \r\n                            ng-model-options="{allowInvalid: false}">\r\n                  Subir Archivo</md-button>\r\n                \r\n              </div>\r\n              <div layout="row" layout-align="center center" flex>\r\n                <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.subiendoImagen"></md-progress-circular>\r\n              </div>\r\n              <div class="drop-box" ng-if="atn.tipo" ngf-drop accept="\'.pdf,image/*\'" ngf-drag-over-class="dragover" ngf-multiple="false" ngf-pattern="\'.pdf,image/*\'" ngf-change="atn.subirDigitales($files,atn.tipo,$event)" flex>\r\n                  Arrastra tus archivos aqui\r\n              </div>\r\n              <md-input-container class="md-block">\r\n                <label>Notas</label>\r\n                <textarea ng-model="atn.datos.ATN_mensaje" md-select-on-focus></textarea>\r\n              </md-input-container>\r\n              <md-button class="md-raised md-primary"  aria-label="Enviar a revisión" ng-click="atn.guardaNotas()">Guardar Nota</md-button>\r\n\r\n            </section>\r\n            \r\n            <section flex="50">\r\n\r\n              <md-subheader class="md-no-sticky">Archivos Disponibles</md-subheader>\r\n              <md-divider></md-divider>\r\n              <div ng-repeat="(key, value) in atn.imagenes | groupBy: \'tipoNombre\'">\r\n                  <md-subheader class="md-no-sticky md-primary">{{ ::key }}</md-subheader>\r\n                  <md-divider></md-divider>\r\n                  <md-list-item ng-repeat="imagen in value" ng-click="atn.muestraArchivo(imagen,$event)">\r\n                    <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                    <p class="padding-left">{{ $index + 1 }} ({{ imagen.estatus }})</p>\r\n                    <ng-md-icon aria-label="Autorizar Archivo" icon="get_app" class="md-secondary" ng-click="atn.descargaArchivo(imagen)">\r\n                      <md-tooltip md-direction="top">\r\n                        Descargar\r\n                      </md-tooltip>\r\n                    </ng-md-icon>\r\n                    <ng-md-icon aria-label="Autorizar Archivo" icon="done" class="md-secondary" ng-click="atn.autorizarImagen(imagen)" ng-if="imagen.estatusImagen == 0 ">\r\n                      <md-tooltip md-direction="top">\r\n                        Autorizar\r\n                      </md-tooltip>\r\n                    </ng-md-icon>\r\n                    <ng-md-icon aria-label="Elminar Archivo" icon="delete" class="md-secondary" ng-click="atn.eliminarArchivos(imagen,$event,true,false,true)">\r\n                      <md-tooltip md-direction="top">\r\n                        Eliminar Archivo\r\n                      </md-tooltip>\r\n                    </ng-md-icon>\r\n                  </md-list-item>\r\n                </md-list>\r\n\r\n              </div>\r\n\r\n              <md-button class="md-raised md-primary md-hue-2" ng-click="atn.descargaArchivos()">Descargar Archivos</md-button>\r\n\r\n            </section>\r\n\r\n          </md-content>\r\n\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n    </md-tabs>\r\n</md-content>'),
$templateCache.put("configuracion.html",'<md-toolbar class="md-warn">\r\n  <h1 class="md-toolbar-tools">Configuración</h1>\r\n</md-toolbar>\r\n<md-content layout-padding>\r\n  <md-list-item ng-click="conf.cambiaModo()">\r\n    <p> Modo Guiado </p>\r\n    <md-switch class="md-secondary" ng-change="conf.cambiaModo()" ng-model="conf.modoGuiado"></md-switch>\r\n  </md-list-item>\r\n  <md-input-container class="md-block" flex ng-if=" conf.permisos.Per_buscarUnidades == \'S\' ">\r\n      <label>Unidad de Referencia</label>\r\n      <md-select ng-model="conf.unidad" name="unidad" md-on-close="conf.seleccionaUnidad()">\r\n        <md-option ng-repeat="unidad in conf.unidades" ng-value="{{unidad.Uni_clave}}">{{unidad.Uni_nombrecorto}}</md-option>\r\n      </md-select>\r\n      <div ng-messages="rg.registroForm.tipoTel.$error" ng-if="rg.registroForm.$submitted">\r\n        <div ng-message="required">El campo es requerido</div>\r\n      </div>\r\n  </md-input-container>\r\n\r\n  <md-button ng-click="conf.cerrar()">\r\n    Cerrar\r\n  </md-button>\r\n</md-content>'),$templateCache.put("menu.html",'    \r\n<md-content>\r\n      \r\n  <md-card>\r\n    <md-button class="md-icon-button p-absolute" style="right: 0;" aria-label="Cerrar" ng-click="mn.ir(\'index.home\')">\r\n      <ng-md-icon icon="close"></ng-md-icon>\r\n    </md-button>\r\n    <md-card-header>\r\n      <md-card-avatar>\r\n        <img src="img/logomini.png" alt="MedicaVial">\r\n      </md-card-avatar>\r\n    </md-card-header>\r\n    <md-card-title>\r\n      <md-card-title-text layout="row">\r\n        <span class="md-subhead" flex style="font-size: 12px;">{{mn.nombre}}</span>\r\n        <md-menu md-position-mode="target-right target">\r\n            <md-button aria-label="Opciones" class="md-icon-button" ng-click="$mdOpenMenu()">\r\n              <md-icon md-menu-origin>\r\n                <ng-md-icon icon="arrow_drop_down" style="fill:white"></ng-md-icon> \r\n              </md-icon>\r\n            </md-button>\r\n            <md-menu-content width="2">\r\n              <md-menu-item>\r\n                <md-button ng-click="mn.editaPerfil($event)">\r\n                  Editar Perfil\r\n                  <md-icon md-menu-align-target>\r\n                    <ng-md-icon icon="photo"></ng-md-icon> \r\n                  </md-icon>\r\n                </md-button>\r\n              </md-menu-item>\r\n            </md-menu-content>\r\n          </md-menu>\r\n      </md-card-title-text>\r\n    </md-card-title>\r\n  </md-card>\r\n\r\n  <md-list>\r\n    <md-subheader class="md-no-sticky">Ligas de Interes</md-subheader>\r\n\r\n    <md-divider></md-divider>\r\n\r\n    <md-list-item ng-click="mn.ir(\'index.home\')">\r\n      <ng-md-icon icon="home"></ng-md-icon>\r\n      <p> Inicio </p>\r\n    </md-list-item>\r\n\r\n    <md-divider></md-divider>\r\n\r\n    <md-list-item ng-click="mn.ir(\'index.registro\')">\r\n      <ng-md-icon icon="assignment"></ng-md-icon>\r\n      <p> Registro de Paciente </p>\r\n    </md-list-item>\r\n    \r\n    <md-divider></md-divider>\r\n    \r\n    <md-list-item ng-click="mn.ir(\'index.busqueda\')">\r\n      <ng-md-icon icon="search"></ng-md-icon> \r\n      <p> Busqueda </p>\r\n    </md-list-item>\r\n\r\n    <md-list-item ng-click="mn.ir(\'index.busqueda\')">\r\n      <ng-md-icon icon="keyboard_hide"></ng-md-icon> \r\n      <p> Nota Médica Elec. </p>\r\n    </md-list-item>\r\n  </md-list>\r\n\r\n</md-content>\r\n\r\n'),$templateCache.put("toolbar.html",'<md-toolbar layout="row" md-scroll-shrink>\r\n\t<div class="md-toolbar-tools">\r\n\t\t<md-button ng-click="tb.menuSwitch(\'left\')" class="md-icon-button">\r\n\t\t\t<ng-md-icon icon="{{tb.menu}}" style="fill:white" aria-label="Menu" options=\'{"rotation": "Clockwise"}\'></ng-md-icon> \r\n\t\t</md-button>\r\n\t  \t<img ng-if="tb.url !== \'index.home\' " src="img/logomini.png" alt="MedicaVial" style="margin-right: 10px">\r\n\t  \t<h1>{{ tb.titulo }}</h1>\r\n\t  \t<span flex></span>\r\n\t  \t<h2 hide show-gt-sm> {{ tb.nombre }} </h2>\r\n\t  \t<small hide show-gt-sm class="nombre-unidad">( {{ tb.unidad }} ) </small>\r\n\t\t<md-button class="md-icon-button" aria-label="Inicio" ui-sref="index.home">\r\n\t  \t\t<ng-md-icon icon="home" style="fill:white"></ng-md-icon>\r\n\t  \t\t<md-tooltip>\r\n\t\t\t\tInicio\r\n\t\t\t</md-tooltip> \r\n\t\t</md-button>\r\n\t\t<md-button class="md-icon-button" aria-label="Notificaciones" ng-click="tb.notificaciones($event)" hide show-gt-sm>\r\n\t  \t\t<ng-md-icon icon="notifications" style="fill:white"></ng-md-icon>\r\n\t  \t\t<span>¡</span>\r\n\t  \t\t<md-tooltip>\r\n\t\t\t\tNotificaciones\r\n\t\t\t</md-tooltip> \r\n\t\t</md-button>\r\n\t\t<md-button class="md-icon-button" aria-label="Configuracion" ng-click="tb.configSwitch(\'right\')" hide show-gt-sm>\r\n\t  \t\t<ng-md-icon icon="settings" style="fill:white"></ng-md-icon>\r\n\t  \t\t<md-tooltip>\r\n\t\t\t\tConfiguración\r\n\t\t\t</md-tooltip> \r\n\t\t</md-button>\r\n\t\t<md-button class="md-icon-button" aria-label="Cerrar Sesion" ng-click="tb.logout()" hide show-gt-sm>\r\n\t  \t\t<ng-md-icon icon="logout" style="fill:white"></ng-md-icon>\r\n\t  \t\t<md-tooltip>\r\n\t\t\t\tCerrar Sesión\r\n\t\t\t</md-tooltip> \r\n\t\t</md-button>\r\n\t  \t<md-menu md-position-mode="target-right target" hide-gt-sm>\r\n\t\t    <md-button aria-label="Open demo menu" class="md-icon-button" ng-click="$mdOpenMenu($event)">\r\n\t      \t\t<ng-md-icon md-menu-origin icon="more_vert" style="fill:white"></ng-md-icon> \r\n\t\t    </md-button>\r\n\t\t    <md-menu-content width="3">\r\n\t\t    \t<md-menu-item>\r\n\t\t    \t\t<span md-menu-align-target>{{ tb.nombre }}</span>\r\n\t\t    \t</md-menu-item>\r\n\t\t    \t<md-menu-item>\r\n\t\t    \t\t<span md-menu-align-target>Unidad: {{ tb.unidad }}</span>\r\n\t\t    \t</md-menu-item>\r\n\t\t    \t<md-menu-divider></md-menu-divider>\r\n\t\t\t\t<md-menu-item>\r\n\t\t\t\t\t<md-button ng-click="tb.configSwitch(\'right\')">\r\n\t\t\t\t\t    <ng-md-icon icon="settings" style="fill:gray"></ng-md-icon>\r\n\t\t\t\t\t    Configuración\r\n\t\t\t\t\t</md-button>\r\n\t\t\t\t</md-menu-item>\r\n\t\t\t\t<md-menu-item>\r\n\t\t\t\t\t<md-button ng-click="">\r\n\t\t\t\t\t    <ng-md-icon icon="notifications" style="fill:gray"></ng-md-icon>\r\n\t\t\t\t\t    Notificaciones\r\n\t\t\t\t\t</md-button>\r\n\t\t\t\t</md-menu-item>\r\n\t\t\t\t<md-menu-item>\r\n\t\t\t\t\t<md-button ng-click="tb.logout()">\r\n\t\t\t\t\t    <ng-md-icon icon="logout" style="fill:gray"></ng-md-icon>\r\n\t\t\t\t\t    Salir\r\n\t\t\t\t\t</md-button>\r\n\t\t\t\t</md-menu-item>\r\n\t\t    </md-menu-content>\r\n\t  \t</md-menu>\r\n\t</div>\r\n</md-toolbar>'),$templateCache.put("atenciones.html",'\r\n<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Atenciones</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<atencion clave="dt.primera.ATN_clave" ng-if="dt.primera"></atencion>\r\n\r\n<br>\r\n\r\n\r\n<md-expansion-panel ng-repeat="subsecuencia in dt.subsecuencias" md-component-id="{{ \'panel_\' + $index }}">\r\n  \r\n  <md-expansion-panel-collapsed>\r\n    <div class="md-title">Subsecuencia</div>\r\n    <div class="md-summary">{{ $index + 1 }}</div>\r\n    <md-expansion-panel-icon><ng-md-icon icon="filter_2"></ng-md-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header ng-click="$panel.collapse()">\r\n      <div class="md-title">Subsecuencia</div>\r\n      <div class="md-summary">{{ $index + 1 }}</div>\r\n      <md-expansion-panel-icon><ng-md-icon icon="filter_2"></ng-md-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      \r\n      <atencion clave="subsecuencia.ATN_clave"></atencion>\r\n      \r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse()">Cerrar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n<br>\r\n\r\n\r\n<md-expansion-panel ng-repeat="rehabilitacion in dt.rehabilitaciones" md-component-id="{{ \'panel_\' + $index }}">\r\n  \r\n  <md-expansion-panel-collapsed>\r\n    <div class="md-title">Rehabilitación</div>\r\n    <div class="md-summary">{{ $index + 1 }} </div>\r\n    <md-expansion-panel-icon><ng-md-icon icon="filter_3"></ng-md-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header ng-click="$panel.collapse()">\r\n      <div class="md-title">Rehabilitación</div>\r\n      <div class="md-summary">{{ $index + 1 }} </div>\r\n      <md-expansion-panel-icon><ng-md-icon icon="filter_3"></ng-md-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      \r\n      <atencion clave="rehabilitacion.ATN_clave"></atencion>\r\n\r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse()">Cerrar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n\r\n<br>\r\n<br>\r\n<br>\r\n\r\n\r\n<md-button class="md-fab md-warn md-fab-bottom-right" aria-label="Nueva Atenición" style="position: fixed;" ng-click="dt.nuevaAtencion()">\r\n  <ng-md-icon icon="add" style="fill: white"></ng-md-icon> \r\n  <md-tooltip md-direction="top">\r\n    Nueva Atención\r\n  </md-tooltip>\r\n</md-button>'),$templateCache.put("autorizaciones.html",'<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Autorizaciones</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n  \r\n  <md-tabs md-dynamic-height md-border-bottom>\r\n      <md-tab label="Solicitudes">\r\n        \r\n        <md-content class="md-whiteframe-2dp" ng-if="dt.solicitudes.length == 0">\r\n          <md-subheader class="md-no-sticky">Sin Solicitudes Registradas</md-subheader>\r\n        </md-content>\r\n\r\n        <md-content ng-if="dt.solicitudes.length > 0">\r\n          <md-subheader class="md-no-sticky">Solicitudes Registradas</md-subheader>\r\n\r\n          <md-table-container>\r\n            <table md-table>\r\n              <thead md-head>\r\n                <tr md-row>\r\n                  <th md-column>No. de Solicitud</th>\r\n                  <th md-column>Tipo de Autorización</th>\r\n                  <th md-column>Fecha de Solicitud</th>\r\n                  <th md-column>Estatus</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody md-body>\r\n                <tr md-row class="fila" ng-repeat="solicitud in dt.solicitudes">\r\n                  \r\n                  <td md-cell>{{solicitud.SOL_claveint}}</td>\r\n                  <td md-cell>{{solicitud.TIM_nombre}}</td>\r\n                  <td md-cell>{{solicitud.SOL_fechaReg}}</td>\r\n                  <td md-cell>\r\n                    <span ng-if="solicitud.SOL_estatus == \'1\' ">Pendiente de Autorizar</span>\r\n                  </td>\r\n             \r\n                </tr>\r\n                \r\n              </tbody>\r\n            </table>\r\n          </md-table-container>\r\n\r\n        </md-content>\r\n\r\n      </md-tab>\r\n      <md-tab label="Autorización" ng-disabled="!dt.autorizaciones.datos">\r\n        \r\n        <md-subheader class="md-no-sticky">Datos de la Autorización</md-subheader>\r\n        <md-divider></md-divider>\r\n        <div layout-padding>\r\n          <h4><strong>Numero de Autorización: {{ dt.autorizaciones.datos.AUM_clave }}</strong></h4> <br>\r\n          <label>Fecha Registro: {{ dt.autorizaciones.datos.AUM_fechaReg }} </label> <br>\r\n          <label>Fecha Autorización: {{ dt.autorizaciones.datos.AUM_fecha }} </label> <br>\r\n          <label>Descripción Médica: {{ dt.autorizaciones.datos.AUM_descripcionmedica }} </label> <br>\r\n          <label>Diagnostico: {{ dt.autorizaciones.datos.AUM_diagnostico }} </label> <br>\r\n        </div>\r\n\r\n        <md-subheader class="md-no-sticky">Movimientos</md-subheader>\r\n        <div layout="column" layout-gt-sm="row" layout-padding>\r\n          \r\n          <md-list flex="50">\r\n                      \r\n            <md-list-item class="md-3-line"  ng-repeat="movimiento in dt.autorizaciones.movimientos" ng-click="null"> \r\n              <ng-md-icon icon="layers"></ng-md-icon> \r\n\r\n              <div class="md-list-item-text" layout="column">\r\n                <h3>{{ movimiento.TIM_nombreE }}</h3>\r\n                <h4>{{ movimiento.MOA_fecha }}</h4>\r\n                <p>{{ movimiento.MOA_texto }}</p>\r\n              </div>\r\n              \r\n              <ng-md-icon aria-label="Solicitar Cobro" icon="attach_money" class="md-secondary" ng-click="null">\r\n                <md-tooltip md-direction="top">\r\n                  Solicitar Cobro\r\n                </md-tooltip>\r\n              </ng-md-icon>\r\n            </md-list-item>\r\n            \r\n\r\n          </md-list>\r\n\r\n          <div flex="50"></div>\r\n\r\n        </div>\r\n\r\n      </md-tab>\r\n    </md-tabs>\r\n\r\n</md-content>\r\n\r\n\r\n<md-button class="md-fab md-warn md-fab-bottom-right" aria-label="Solicitud de Autorizacion" style="position: fixed;" ng-click="dt.solicitudAutorizacion()">\r\n  <ng-md-icon icon="add" style="fill: white"></ng-md-icon> \r\n  <md-tooltip md-direction="top">\r\n    Solicitar Autorización\r\n  </md-tooltip>\r\n</md-button>'),$templateCache.put("comunicacion.html",'\r\n<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Interacción</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<!-- <md-content class="md-whiteframe-2dp" layout="column">\r\n\r\n    <md-subheader class="md-primary">Temas Abiertos</md-subheader>\r\n    <section layout-gt-sm="row" layout="column">\r\n      \r\n      <md-list flex>\r\n\r\n        <md-list-item ng-click="null">\r\n            <ng-md-icon icon="info"></ng-md-icon>\r\n            <p>Como Funciona el sistema</p>\r\n            <p>Iniciado por: Administrador</p>\r\n            <p>30-08-2016</p>\r\n        </md-list-item>\r\n\r\n        <md-list-item class="md-2-line" ng-click="null">\r\n            <ng-md-icon icon="assignment"></ng-md-icon>\r\n            <div class="md-list-item-text">\r\n              <h3>Verificar pago del folio</h3>\r\n              <p>Iniciado por: Usuario1</p>\r\n            </div>\r\n        </md-list-item>\r\n\r\n        <md-list-item class="md-2-line" ng-click="null">\r\n            <ng-md-icon icon="my_library_books"></ng-md-icon>\r\n            <div class="md-list-item-text">\r\n              <h3>Problema en documento</h3>\r\n              <p>Iniciado por: Usuario 2</p>\r\n            </div>\r\n        </md-list-item>\r\n\r\n      </md-list>\r\n\r\n    </section>\r\n\r\n</md-content> -->\r\n\r\n<md-expansion-panel md-component-id="panelOne">\r\n\r\n  <md-expansion-panel-collapsed>\r\n    <div class="md-title">Información</div>\r\n    <div class="md-summary">Como Funciona El sistema</div>\r\n    <md-expansion-panel-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header>\r\n      <div class="md-title">Información</div>\r\n      <div class="md-summary">Como Funciona El sistema</div>\r\n      <md-expansion-panel-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      <p>Inciado Por: Administrador</p>\r\n      <h4>Aqui encontraras información para usar el sistema</h4>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium ab officia aspernatur, earum id debitis facere ipsa? Corrupti ducimus quibusdam laudantium eaque voluptate, laborum, labore quo, quis suscipit quae officiis.</p>\r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse()">Cerrar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n<md-expansion-panel md-component-id="panelTwo">\r\n\r\n  <md-expansion-panel-collapsed>\r\n    <div class="md-title">Problemas</div>\r\n    <div class="md-summary">Problema en documento</div>\r\n    <md-expansion-panel-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header>\r\n      <div class="md-title">Problemas</div>\r\n      <div class="md-summary">Problema en documento</div>\r\n      <md-expansion-panel-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      <p>Inciado Por: Administrador</p>\r\n      <h4>Aqui encontraras información para usar el sistema</h4>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium ab officia aspernatur, earum id debitis facere ipsa? Corrupti ducimus quibusdam laudantium eaque voluptate, laborum, labore quo, quis suscipit quae officiis.</p>\r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse()">Cerrar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n<md-expansion-panel md-component-id="panelThree">\r\n\r\n  <md-expansion-panel-collapsed>\r\n    <div class="md-title">Pagos</div>\r\n    <div class="md-summary">Verificar pago del folio</div>\r\n    <md-expansion-panel-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header>\r\n      <div class="md-title">Pagos</div>\r\n      <div class="md-summary">Verificar pago del folio</div>\r\n      <md-expansion-panel-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      <p>Inciado Por: Administrador</p>\r\n      <h4>Aqui encontraras información para usar el sistema</h4>\r\n      <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Praesentium ab officia aspernatur, earum id debitis facere ipsa? Corrupti ducimus quibusdam laudantium eaque voluptate, laborum, labore quo, quis suscipit quae officiis.</p>\r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse()">Cerrar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n\r\n\r\n<md-button id="nuevo" class="animated bounceInUp md-fab md-fab-bottom-right" ng-click="dt.nuevo($event)" aria-label="Nuevo Tema">\r\n    <md-tooltip md-direction="top">\r\n      Nuevo Tema\r\n    </md-tooltip>\r\n    <ng-md-icon icon="add" style="fill:white"></ng-md-icon> \r\n</md-button>\r\n'),$templateCache.put("interaccion.html",'\r\n<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Atenciones</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n    <md-subheader class="md-no-sticky">Primera Atención</md-subheader>\r\n    <md-divider></md-divider>\r\n    <md-tabs md-selected="dt.tabPrimera" md-dynamic-height class="TabPanel">\r\n\r\n\r\n      <md-tab id="tab1">\r\n\r\n        <md-tab-label>Documentos Digitales</md-tab-label>\r\n        <md-tab-body> \r\n            \r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n<!--             <div flex>\r\n\r\n              <md-subheader class="md-no-sticky">Subir Archivos</md-subheader>\r\n              <md-divider></md-divider>\r\n              <div class="drop-box"  ngf-drop ngf-drag-over-class="{pattern: \'image/*\', accept:\'dragover\', reject:\'rejectClass\', delay:100}" ngf-multiple="true" ngf-change="dt.subirDigitalesEt1($files)" ngf-pattern="\'image/*\'" flex>\r\n                  <md-button type="button" class="md-raised" \r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}"\r\n                    >Subir Imagenes</md-button><br>\r\n                  Arrastra tus archivos aqui\r\n              </div>\r\n              \r\n            </div> -->\r\n            \r\n            <section flex>\r\n\r\n              <md-subheader class="md-no-sticky">Archivos Disponibles</md-subheader>\r\n              <md-divider></md-divider>\r\n            \r\n              <md-list>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Pase Médico o Todo En 1</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Cuestionario</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Identificación</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n                \r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Otro</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n              </md-list>\r\n\r\n            </section>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n\r\n\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n      <md-tab id="tab3">\r\n\r\n        <md-tab-label>Facturación</md-tab-label>\r\n        <md-tab-body>\r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n            \r\n          </md-content>\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n      \r\n    </md-tabs>\r\n</md-content>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n    <div layout="row">\r\n      <md-subheader class="md-no-sticky">Subsecuencias</md-subheader>\r\n      <span flex></span>\r\n      <md-button class="md-icon-button" aria-label="detalle" ng-click="dt.muestraSegundas = !dt.muestraSegundas">\r\n          <ng-md-icon icon="chevron_right"></ng-md-icon> \r\n      </md-button>\r\n    </div>\r\n    <md-divider></md-divider>\r\n    <md-tabs md-selected="dt.tabSegunda" md-dynamic-height class="TabPanel detalle" ng-show="dt.muestraSegundas">\r\n\r\n      <md-tab id="tab1">\r\n\r\n        <md-tab-label>Documentos Digitales</md-tab-label>\r\n        <md-tab-body> \r\n\r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n            \r\n            <div flex>\r\n\r\n              <md-subheader class="md-no-sticky">Archivos Disponibles</md-subheader>\r\n              <md-divider></md-divider>\r\n            \r\n              <md-list>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Pase Médico o Todo En 1</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Cuestionario</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Identificación</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n                \r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Otro</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n              </md-list>\r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n      <md-tab id="tab2">\r\n\r\n        <md-tab-label>Facturación</md-tab-label>\r\n        <md-tab-body>\r\n        \r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n      \r\n    </md-tabs>\r\n</md-content>\r\n\r\n<br>\r\n\r\n<md-content class="md-whiteframe-2dp">\r\n    <div layout="row">\r\n      <md-subheader class="md-no-sticky">Rehabilitaciones</md-subheader>\r\n      <span flex></span>\r\n      <md-button class="md-icon-button" aria-label="detalle" ng-click="dt.muestraTerceras = !dt.muestraTerceras">\r\n          <ng-md-icon icon="chevron_right"></ng-md-icon> \r\n      </md-button>\r\n    </div>\r\n    <md-divider></md-divider>\r\n    <md-tabs md-selected="dt.tabTercera" md-dynamic-height class="TabPanel detalle" ng-show="dt.muestraTerceras">\r\n\r\n      <md-tab id="tab1">\r\n\r\n        <md-tab-label>Documentos Digitales</md-tab-label>\r\n        <md-tab-body> \r\n          <md-content layout-padding layout-wrap layout-gt-sm="row" layout="column" layout-xs="column">\r\n            \r\n            \r\n            <div flex>\r\n\r\n              <md-subheader class="md-no-sticky">Archivos Disponibles</md-subheader>\r\n              <md-divider></md-divider>\r\n            \r\n              <md-list>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Pase Médico o Todo En 1</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Cuestionario</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Identificación</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n                \r\n                <md-divider></md-divider>\r\n\r\n                <md-list-item>\r\n                  <ng-md-icon icon="archive"></ng-md-icon> \r\n                  <ng-md-icon icon="insert_drive_file"></ng-md-icon> \r\n                  <p class="padding-left">Otro</p>\r\n                  <ng-md-icon icon="file_upload" class="md-secondary" ng-click="null"\r\n                    ngf-select="dt.subirDigitalesEt1($files)" \r\n                    ngf-change="dt.subirDigitalesEt1($files)" \r\n                    ngf-multiple="true" \r\n                    ngf-pattern="\'image/*\'"\r\n                    ngf-accept="\'image/*\'" \r\n                    ng-model-options="{allowInvalid: false}">\r\n                    <md-tooltip md-direction="top">\r\n                      Subir Archivo\r\n                    </md-tooltip>\r\n                  </ng-md-icon>\r\n                </md-list-item>\r\n\r\n              </md-list>\r\n\r\n            </div>\r\n\r\n            <div flex></div>\r\n          </md-content>\r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n\r\n      <md-tab id="tab2">\r\n\r\n        <md-tab-label>Facturación</md-tab-label>\r\n        <md-tab-body>\r\n        \r\n        </md-tab-body>\r\n\r\n      </md-tab>\r\n      \r\n    </md-tabs>\r\n</md-content>'),
$templateCache.put("tickets.html",'<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Problemas del Expediente</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n<div ng-repeat="ticket in dt.tickets">\r\n\r\n\t<md-content class="md-whiteframe-2dp" layout="column" layout-gt-xs="row" layout-padding>\r\n\t\t\r\n\r\n\t\t<div layout="column" flex>\r\n\r\n\t\t\t<md-subheader class="md-no-sticky">Datos del Ticket</md-subheader>\r\n\t\t\t<md-divider></md-divider>\r\n\t\t\t\r\n\t\t\t<br>\r\n\t\t\t<div layout="column" layout-gt-xs="row">\r\n\t\t\t\t\r\n\t\t\t\t<md-input-container flex>\r\n\t\t\t\t\t<label>Ticket #</label>\r\n\t\t\t\t\t<input type="text" ng-model="ticket.TSeg_clave" disabled>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t\t<md-input-container flex>\r\n\t\t\t\t\t<label>Fecha de Registro</label>\r\n\t\t\t\t\t<input type="text" ng-model="ticket.TSeg_fechareg" disabled>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div layout="column" layout-gt-xs="row">\r\n\t\t\t\t\r\n\t\t\t\t<md-input-container flex>\r\n\t\t\t\t\t<label>Estatus</label>\r\n\t\t\t\t\t<input type="text" ng-model="ticket.TStatus_nombre" disabled>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t\t<md-input-container flex>\r\n\t\t\t\t\t<label>Fecha de Ultimo Movimiento</label>\r\n\t\t\t\t\t<input type="text" ng-model="ticket.TSeg_fechaactualizacion" disabled>\r\n\t\t\t\t</md-input-container>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t\t<md-input-container flex>\r\n\t\t\t\t<label>Motivo</label>\r\n\t\t\t\t<input type="text" ng-model="ticket.TCat_nombre" disabled>\r\n\t\t\t</md-input-container>\r\n\r\n\t\t\t<md-input-container flex>\r\n\t\t\t\t<label>Descripcion</label>\r\n\t\t\t\t<input type="text" ng-model="ticket.TSub_nombre" disabled>\r\n\t\t\t</md-input-container>\r\n\r\n\t\t\t\r\n\r\n\t\t\t<md-input-container class="md-block">\r\n\t          <label>Observaciones Iniciales</label>\r\n\t          <textarea ng-model="ticket.TSeg_obs" disabled></textarea>\r\n\t        </md-input-container>\r\n\t\t\t\r\n\t\t</div>\r\n\r\n\t\t<div flex>\r\n\t\t  \t<md-subheader class="md-no-sticky">Historial de Notas</md-subheader>\r\n\t\t  \t<md-divider></md-divider>\r\n\t\t\t<br>\r\n\t\t\t<md-list ng-if="ticket.notas.length > 0">\r\n\t\t\t  <md-list-item ng-repeat="nota in ticket.notas">\r\n\t\t\t    <p> Asunto: {{ nota.TN_descripcion }} </p>\r\n\t\t\t    <p> Fecha: {{ nota.TN_fechareg }} </p>\r\n\t\t\t  </md-list-item>\r\n\t\t\t</md-list>\r\n\t\t</div>\r\n\r\n\t</md-content>\r\n\t\r\n\t<br>\r\n</div>\r\n\r\n<md-content class="md-whiteframe-2dp" ng-if="dt.tickets.length == 0">\r\n  <md-subheader class="md-no-sticky">Sin Tickets registrados</md-subheader>\r\n</md-content>\r\n\r\n\r\n'),$templateCache.put("timeline.html",'<md-toolbar ng-class="dt.bg">\r\n  <div class="md-toolbar-tools">\r\n    <md-button class="md-icon-button" aria-label="cerrar" ng-click="dt.cierraSeccion()">\r\n        <ng-md-icon icon="arrow_back"></ng-md-icon> \r\n    </md-button>\r\n    <h2>\r\n      <span>Historial del Expediente</span>\r\n    </h2>\r\n    <span flex></span>\r\n    <md-button class="md-icon-button" aria-label="Settings">\r\n      <ng-md-icon icon="{{dt.icon}}"></ng-md-icon>\r\n    </md-button>\r\n  </div>\r\n</md-toolbar>\r\n\r\n<br>\r\n<md-divider></md-divider>\r\n\r\n<br>\r\n\r\n\r\n\r\n<section id="timeline" class="timeline-outer" layout="column">\r\n    <div class="container" id="content">\r\n\r\n        <div flex>\r\n          <ul class="timeline white">\r\n            <li class="event" data-date="{{ historia.fecha }}" ng-repeat="historia in dt.historial | orderBy:\'fecha\' ">\r\n      \t\t\t\t<h3>{{ historia.titulo }}</h3>\r\n      \t\t\t\t<p>\r\n      \t\t\t\t\t{{ historia.descripcion }}\r\n      \t\t\t\t</p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n\r\n    </div>\r\n</section>\r\n\r\n'),$templateCache.put("estadistica.html",'<div class="padding-views">  \r\n  <md-content class="md-whiteframe-2dp">\r\n    <md-table-container>\r\n      <table md-table>\r\n        <thead md-head>\r\n          <tr md-row>\r\n            <th md-column>Folio MV</th>\r\n            <th md-column>Folio Interno</th>\r\n            <th md-column ng-if="es.tipo != \'expedientes\' && es.tipo != \'sinAtn\' " >Tipo Atención</th>\r\n            <th md-column>Lesionado</th>\r\n            <th md-column>Cliente</th>\r\n            <th md-column>Fecha de Registro</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody md-body>\r\n          <tr md-row class="fila" ng-repeat="dato in es.datos" ui-sref="index.detalle({folio:dato.Exp_folio})">\r\n            \r\n            <td md-cell>{{ dato.Exp_folio }}</td>\r\n            <td md-cell>{{ dato.Exp_fq }}</td>\r\n            <td md-cell ng-if="es.tipo != \'expedientes\' && es.tipo != \'sinAtn\' ">{{ dato.TIA_nombre }}</td>\r\n            <td md-cell>{{ dato.Exp_completo }}</td>\r\n            <td md-cell>{{ dato.Cia_nombrecorto }}</td>\r\n            <td md-cell>\r\n               <span ng-if="!es.tipo == \'expedientes\' && !es.tipo == \'sinAtn\' ">{{ dato.ATN_fecreg }}</span>\r\n               <span ng-if=" es.tipo == \'expedientes\' || es.tipo == \'sinAtn\' ">{{ dato.Exp_fecreg }}</span>\r\n            </td>\r\n       \r\n          </tr>\r\n          \r\n        </tbody>\r\n      </table>\r\n    </md-table-container>\r\n\r\n  </md-content>\r\n</div>'),$templateCache.put("estadisticas.html",'<md-expansion-panel md-component-id="opciones">\r\n  \r\n  <md-expansion-panel-collapsed class="mouseClick">\r\n    <div class="md-title">Datos</div>\r\n    <div class="md-summary">\r\n      Periodo {{ et.fechaIni | date:\'fullDate\'}} - {{ et.fechaFin | date:\'fullDate\'}}\r\n    </div>\r\n    <md-expansion-panel-icon><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-expansion-panel-icon>\r\n  </md-expansion-panel-collapsed>\r\n\r\n\r\n  <md-expansion-panel-expanded>\r\n\r\n    <md-expansion-panel-header class="mouseClick" ng-click="$panel.collapse()">\r\n      <div class="md-title">Cambiar Rango</div>\r\n      <div class="md-summary">Periodo {{ et.fechaIni | date:\'fullDate\'}} - {{ et.fechaFin | date:\'fullDate\'}}</div>\r\n      <md-expansion-panel-icon><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-expansion-panel-icon>\r\n    </md-expansion-panel-header>\r\n\r\n    <md-expansion-panel-content>\r\n      \r\n      <md-content layout-padding layout-wrap layout="column" layout-gt-sm="row">\r\n        \r\n        <p>Rango de fechas para los datos estadisticos:</p>\r\n        <md-input-container>\r\n          <label>Del</label>\r\n          <md-datepicker ng-model="et.fechaIni" name="fechaIni" md-min-date="minDate" md-max-date="et.fechaFin" md-open-on-focus>\r\n          </md-datepicker>\r\n        </md-input-container>\r\n\r\n        <md-input-container>\r\n          <label>Al</label>\r\n          <md-datepicker ng-model="et.fechaFin" name="fechaIni" md-min-date="et.fechaIni" md-open-on-focus>\r\n          </md-datepicker>\r\n        </md-input-container>\r\n        \r\n          \r\n      </md-content>\r\n      \r\n    </md-expansion-panel-content>\r\n\r\n    <md-expansion-panel-footer>\r\n      <div flex></div>\r\n      <md-button class="md-warn" ng-click="$panel.collapse();et.cargaInfo();">Aplicar</md-button>\r\n    </md-expansion-panel-footer>\r\n\r\n  </md-expansion-panel-expanded>\r\n\r\n</md-expansion-panel>\r\n\r\n\r\n<div  layout="row" layout-align="center center" ng-if="et.cargandoInfo">\r\n    <br>\r\n    <md-progress-circular md-mode="indeterminate" class="md-accent md-hue-1"></md-progress-circular>\r\n</div>\r\n\r\n<md-content class="bg-transparent" layout-wrap layout-margin layout="column" layout-gt-sm="row" ng-if="!et.cargandoInfo">\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-cyan ">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Registrados en el mes</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.expedientes }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'expedientes\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-bluegray">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Sin registrar</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.expedientesSA }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'sinAtn\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-blue">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Registradas Sin Documentos</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1SD }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'documentos\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-orange">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Con Documentos Sin Solicitud Rev.</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1CDSL }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'documentosSinA\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n</md-content>\r\n\r\n<md-content class="bg-transparent" layout-wrap layout-margin layout="column" layout-gt-sm="row" ng-if="!et.cargandoInfo">\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-lightgreen">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Con Documentos Sin Autorizar </h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1CDSR }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'autorizar\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n    \r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-purple">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Autorizadas Sin Factura</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1ASF }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'facturar\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-green">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Rechazadas</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1R }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'rechazos\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-indigo">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones En Revisión de Factura</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1RF }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'revisionFac\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n</md-content>\r\n\r\n<md-content class="bg-transparent" layout-wrap layout-margin layout="column" layout-gt-sm="row" ng-if="!et.cargandoInfo">\r\n    \r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-deeppurple">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atn. con Facturas Autorizadas</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1FA }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'facturaAut\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-amber">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atn. Con Facturas Rechazadas</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1FR }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'facturaRec\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="md-whiteframe-2p" flex>\r\n        <div class="mini-charts-item bgm-red">\r\n          <div class="clearfix">\r\n              <div class="chart stats-bar"></div>\r\n              <div class="count">\r\n                  <h3>Atenciones Pagadas</h3>\r\n                  <br>\r\n                  <span>{{ et.datos.atencionesEt1P }}</span>\r\n                  <a ui-sref="index.estadistica({tipo:\'pagados\'})" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect right" md-ink-ripple>\r\n                    Ver detalles\r\n                  </a>\r\n              </div>\r\n          </div>\r\n        </div>\r\n    </div>\r\n\r\n    \r\n</md-content>\r\n\r\n\r\n<md-content layout="column" layout-gt-md="row" layout-margin class="bg-transparent">\r\n\r\n  <div class="md-whiteframe-2dp white" flex="50">\r\n    <md-subheader class="md-primary">Ultimos 12 Meses</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <br>\r\n    <am-chart class="graficas" options="et.meses" height="350px" width="95%" layout-padding></am-chart>\r\n  </div>\r\n  \r\n  <div class="md-whiteframe-2dp white" flex="50">\r\n    <md-subheader class="md-primary">En el Mes</md-subheader>\r\n    <md-divider ></md-divider>\r\n    <br>\r\n    <am-chart class="graficas" options="et.semanas" height="350px" width="95%" layout-padding></am-chart>\r\n  </div>\r\n\r\n</md-content>'),$templateCache.put("agregaTelefono.html",'<md-dialog aria-label="Agrega Telefono" ng-init="inicio()" flex-sm="65" flex-gt-md="40" flex="100">\r\n\r\n  <form name="tel.telefonoForm" ng-submit="tel.agregaTelefono()" novalidate>\r\n    <md-toolbar class="md-warn">\r\n      <div class="md-toolbar-tools">\r\n        <h2>Agrega Telefono</h2>\r\n        <span flex></span>\r\n        <md-button  class="md-icon-button" ng-click="tel.cancelar()">\r\n          <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n        </md-button>\r\n      </div>\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding layout-wrap>\r\n\r\n      <md-content layout-gt-sm="row" layout="column">  \r\n        \r\n        <md-input-container class="md-block" flex>\r\n            <label>Tipo Telefono</label>\r\n            <md-select ng-model="tel.tipoTel" required>\r\n              <md-option ng-repeat="tipo in tel.tipos" ng-value="{{tipo}}">{{tipo.TT_tipotelefono}}</md-option>\r\n            </md-select>\r\n            <div ng-messages="tel.telefonoForm.tipotel.$error" ng-if="tel.telefonoForm.$dirty">\r\n              <div ng-message="required">El campo es requerido</div>\r\n            </div>\r\n        </md-input-container>\r\n\r\n        <md-input-container  class="md-block" flex>\r\n          <label>No. Telefono</label>\r\n          <input type="text" name="telefono" ng-model="tel.telefono" maxlength="12" minlength="6" required numero>\r\n          <div ng-messages="tel.telefonoForm.telefono.$error" ng-if="tel.telefonoForm.$dirty">\r\n            <div ng-message="required">El campo es requerido</div>  \r\n            <div ng-message="maxlength">El numero no debe ser mayor a 12</div>\r\n          </div>\r\n        </md-input-container>\r\n        \r\n        <div flex>\r\n          <md-button type="submit" class="md-primary md-hue-1" ng-disabled="tel.telefonoForm.$invalid">Agregar Telefono</md-button>\r\n        </div>\r\n        \r\n      </md-content>\r\n      \r\n\r\n      <md-content>\r\n\r\n        <md-list>\r\n          <md-list-item>\r\n              <p> Telefono </p>\r\n              <p> tipo </p>\r\n          </md-list-item>\r\n          <md-divider></md-divider>\r\n          <md-list-item  ng-repeat="telefono in tel.telefonos">\r\n              <p> {{ telefono.telefono }} </p>\r\n              <p> {{ telefono.nombre }} </p>\r\n          </md-list-item>\r\n        </md-list>\r\n        \r\n        <br>\r\n      </md-content>\r\n\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n\r\n      <span flex></span>\r\n      <!-- <md-button type="button" ng-click="tel.cancelar()">\r\n          Salir\r\n      </md-button> -->\r\n      <md-button type="button" ng-click="tel.ingresa()">\r\n          listo\r\n      </md-button>\r\n\r\n    </md-dialog-actions>\r\n\r\n  </form>\r\n</md-dialog>'),$templateCache.put("preRegistro.html",'<md-dialog aria-label="Pre registro" flex-sm="65" flex-gt-md="40" flex="100">\r\n\r\n  <md-toolbar style="background-color: rgba(156,39,176, 0.96);">\r\n    <div class="md-toolbar-tools">\r\n      <h2>Pre registro</h2>\r\n      <span flex></span>\r\n      <!-- <md-button class="md-icon-button" ng-click="cerrarDialogo()" aria-label="Cerrar Dialogo" ng-if="!trabajando">\r\n        <ng-md-icon icon="close" style="fill:white"></ng-md-icon>\r\n      </md-button> -->\r\n    </div>\r\n  </md-toolbar>\r\n\r\n  <md-dialog-content>\r\n    <div layout-gt-sm="row" layout="column" layout-padding>\r\n      <div layout="column" flex>\r\n        <md-input-container>\r\n          <label>Lesionado</label>\r\n          <md-select name="sel" ng-model="seleccion" ng-change="datosPre( seleccion )">\r\n            <md-option value="0" disabled>* Seleccione</md-option>\r\n            <md-option ng-repeat="lesionado in listado" value="{{lesionado.QWS_id}}">{{lesionado.QWS_lesionado}}</md-option>\r\n          </md-select>\r\n        </md-input-container>\r\n      </div>\r\n    </div>\r\n\r\n    <div layout="row" layout-padding>\r\n        <table md-data-table ng-if="seleccion > 0" width="100%">\r\n          <thead>\r\n            <tr>\r\n              <th width="25%" name="Folio Electronico">Folio Electronico</th>\r\n              <th width="25%" name="Poliza">Poliza</th>\r\n              <th width="25%" name="Siniestro">Siniestro</th>\r\n              <th width="25%" name="Reporte">Reporte</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td align="center">{{ datosLesionado.QWS_folioElectronico }}</td>\r\n              <td align="center">{{ datosLesionado.QWS_poliza }}</td>\r\n              <td align="center">{{ datosLesionado.QWS_siniestro }}</td>\r\n              <td align="center">{{ datosLesionado.QWS_reporte }}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n    </div>\r\n\r\n    <div layout="row" layout-paddin layout-align="end center" flex>\r\n      <md-button ng-if="seleccion < 1" ng-click="cerrarDialogo()">\r\n        No encontrado\r\n      </md-button>\r\n\r\n      <md-button ng-if="seleccion > 0" ng-click="cerrarDialogo()">\r\n        No corresponde\r\n      </md-button>\r\n\r\n      <md-button ng-if="seleccion > 0" ng-click="confirmaDatos()"\r\n                 class="md-raised md-primary" style="background-color: rgba(156,39,176, 0.96);">\r\n        Seleccionar\r\n      </md-button>\r\n    </div>\r\n\r\n  </md-dialog-content>\r\n</md-dialog>\r\n'),$templateCache.put("registro.html",'<section class="padding-views">\r\n\r\n  <md-content class="md-whiteframe-2dp" ng-init="rg.inicio()">\r\n\r\n    <md-progress-linear ng-if="rg.consultando" md-mode="indeterminate"></md-progress-linear>\r\n    <md-tabs class="white" md-selected="rg.tabActual" md-align-tabs="\'top\'" md-dynamic-height md-border-bottom>\r\n      <md-tab id="tab1" ng-disabled="rg.step1block">\r\n        <md-tab-label>Selecciona Cliente</md-tab-label>\r\n        <md-tab-body>\r\n          <div ng-include="rg.paso1"></div>\r\n        </md-tab-body>\r\n      </md-tab>\r\n      <md-tab id="tab2" ng-disabled="rg.step2block">\r\n        <md-tab-label>Atención derivada de:</md-tab-label>\r\n        <md-tab-body> \r\n          <div ng-include="rg.paso2"></div>\r\n        </md-tab-body>\r\n      </md-tab>\r\n      <md-tab id="tab3" ng-disabled="rg.step3block">\r\n        <md-tab-label>Apertura de Expediente</md-tab-label>\r\n        <md-tab-body>\r\n          <div ng-include="rg.paso3"></div>\r\n          <p class="c-red" layout-padding>los campos marcados con * son obligatorios</p>\r\n        </md-tab-body>\r\n      </md-tab>\r\n      <md-tab id="tab4" ng-disabled="rg.step4block">\r\n        <md-tab-label>Datos del Siniestro</md-tab-label>\r\n        <md-tab-body>\r\n          <div ng-include="rg.paso4"></div>\r\n          <p class="c-red" layout-padding>los campos marcados con * son obligatorios</p>\r\n        </md-tab-body>\r\n      </md-tab>\r\n      <md-tab id="tab5" ng-disabled="rg.step5block">\r\n        <md-tab-label>Resumen</md-tab-label>\r\n        <md-tab-body layout-padding>\r\n          <br><br>\r\n          <md-content flex-offset-gt-sm="10" flex-gt-sm="80" flex>\r\n            <md-card class="md-whiteframe-8dp">\r\n              <md-card-title>\r\n                <md-card-title-text layout-align="center center">\r\n                  <span class="md-headline">Resumen de Información</span>\r\n                </md-card-title-text>\r\n              </md-card-title>\r\n              <md-card-content>\r\n\r\n                <section layout-gt-sm="row" layout="column"  layout-align="space-between center" layout-margin>\r\n\r\n                    <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ rg.imagenCliente }}" class="img-registro" alt="cliente">\r\n\r\n                    <img ng-src="{{ publicfiles +  rg.imagenFolio }}" class="img-registro" alt="folio">\r\n\r\n                    <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{ rg.imagenProducto }}" class="img-registro" alt="producto">\r\n\r\n                </section>\r\n\r\n                <section layout-gt-sm="row" layout="column" layout-padding layout-align="center start">\r\n\r\n                    <div flex>                      \r\n                        <strong>Folio MV: {{ rg.datoSiniestro.folio }}</strong> <br>\r\n                        Póliza: {{ rg.datoSiniestro.poliza }}  <br>\r\n                        Lesionado: {{ rg.datos.nombre }} {{ rg.datos.apaterno }} {{ rg.datos.amaterno }}  <br>\r\n                        Usuario: {{ username }} <br>\r\n                        Compañia: {{ rg.compania }} <br>\r\n                    </div>\r\n                    <div flex>\r\n                        Siniestro: {{ rg.datoSiniestro.siniestro }} <br>\r\n                        Reporte: {{ rg.datoSiniestro.reporte }} <br>\r\n                        <strong>Registro: {{ rg.registro }}</strong> <br>\r\n                        Unidad Médica: {{ nombreUni }} <br>\r\n                        Observaciones: {{ rg.datoSiniestro.observaciones }} <br>\r\n                    </div>\r\n                    <div flex>\r\n                        Extemporaneo: {{ rg.datoSiniestro.extemporaneo ? \'SI\' : \'NO\' }} <br>\r\n                        Motivo: {{ rg.datoSiniestro.motivoEx }} <br>\r\n                        Fecha Atención: {{ rg.datoSiniestro.fechaAtn }} <br>\r\n                    </div>\r\n                  \r\n                </section>\r\n                \r\n              </md-card-content>\r\n              <md-card-actions layout="row" layout-align="center center">\r\n                <md-button ui-sref="index.home">Regresar a Home</md-button>\r\n                <md-button ng-href="http://medicavial.net/mvnuevo/api/classes/formatoFolio.php?fol={{ rg.datoSiniestro.folio }}" target="_blank">Imprimir</md-button>\r\n                <md-button ui-sref="index.detalle({folio:rg.datoSiniestro.folio})">Ir al Expediente</md-button>\r\n              </md-card-actions>\r\n            </md-card>\r\n          </md-content>\r\n          <br><br>\r\n\r\n        </md-tab-body>\r\n      </md-tab>\r\n    </md-tabs>\r\n  </md-content>\r\n  \r\n</section>'),$templateCache.put("registroPaso1.html",' <md-grid-list\r\n      md-cols="2" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="4"\r\n      md-row-height-gt-md="1:1" md-row-height="2:2"\r\n      md-gutter="1em" md-gutter-gt-sm="2em">\r\n  <md-grid-tile class="gray md-whiteframe-1dp grid-black"\r\n                ng-repeat="cliente in rg.clientes"\r\n                md-rowspan="1"\r\n                md-colspan="1"\r\n                md-colspan-sm="1"\r\n                md-colspan-xs="1"\r\n                ng-click="rg.verificaProducto(cliente)"\r\n                md-ink-ripple >\r\n    <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{cliente.Cia_logo}}" class="img-registro md-whiteframe-5dp white" alt="{{cliente.Cia_nombrecorto}}" imageonload>\r\n    <span class="loading"><md-progress-circular class="md-accent md-hue-1" md-mode="indeterminate" md-diameter="60"></md-progress-circular> </span>\r\n    <md-grid-tile-footer><h3>{{cliente.Cia_nombrecorto}}</h3></md-grid-tile-footer>\r\n  </md-grid-tile>\r\n</md-grid-list>\r\n\r\n'),$templateCache.put("registroPaso2.html",' <md-grid-list\r\n      md-cols="1" md-cols-sm="2" md-cols-md="3" md-cols-gt-md="4"\r\n      md-row-height-gt-md="1:1" md-row-height-xs="3:4" md-row-height-sm="3:4" md-row-height-md="3:4"\r\n      md-gutter="12px" md-gutter-gt-sm="8px">\r\n  <md-grid-tile class="gray md-whiteframe-1dp grid-black"\r\n                ng-repeat="producto in rg.productos"\r\n                md-rowspan="1"\r\n                md-colspan="1"\r\n                md-colspan-sm="1"\r\n                md-colspan-xs="1"                \r\n                ng-click="rg.confirmaProducto(producto)"\r\n                md-ink-ripple>\r\n\r\n    <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{producto.Pro_img}}" class="img-registro md-whiteframe-5dp white" alt="{{producto.Pro_nombre}}" imageonload>\r\n    <span class="loading"><md-progress-circular class="md-warn" md-mode="indeterminate" md-diameter="60"></md-progress-circular> </span>\r\n    <md-grid-tile-footer style="height:auto;">\r\n      <h3>{{producto.Pro_nombre}}</h3>\r\n      <p class="margin-right">{{producto.Pro_descripcion}}</p>\r\n    </md-grid-tile-footer>\r\n  </md-grid-tile>\r\n</md-grid-list>\r\n\r\n'),$templateCache.put("registroPaso3.html",'<md-content>\r\n    <section layout="row" layout-align="space-between center" layout-margin>\r\n\r\n        <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ rg.imagenCliente }}" class="img-registro" alt="cliente">\r\n\r\n        <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{ rg.imagenProducto }}" class="img-registro" alt="producto">\r\n\r\n    </section>\r\n\r\n    <form name="rg.registroForm" ng-submit="rg.guardaPaciente()" novalidate>\r\n      \r\n      <md-content layout-padding layout-wrap>\r\n          \r\n        <section layout="row" layout-xs="column">\r\n          \r\n          <md-input-container flex>\r\n            <label>Nombre (s)</label>\r\n            <input type="text" name="nombre" ng-model="rg.datos.nombre" mayusculas required maxlength="50">\r\n            <div ng-messages="rg.registroForm.nombre.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div> \r\n              <div ng-message="maxlength">El campo no puede ser mas grande</div>            \r\n            </div>\r\n          </md-input-container>\r\n          <md-input-container flex>\r\n            <label>A. Paterno</label>\r\n            <input type="text" name="apaterno" ng-model="rg.datos.apaterno" mayusculas required maxlength="50">\r\n            <div ng-messages="rg.registroForm.apaterno.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div> \r\n              <div ng-message="maxlength">El campo no puede ser mas grande</div>            \r\n            </div>\r\n          </md-input-container>\r\n          <md-input-container flex>\r\n            <label>A. Materno</label>\r\n            <input type="text" name="amaterno" ng-model="rg.datos.amaterno" mayusculas required maxlength="50">\r\n            <div ng-messages="rg.registroForm.amaterno.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>  \r\n              <div ng-message="maxlength">El campo no puede ser mas grande</div>           \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <!-- <mdp-date-picker mdp-open-on-click required name="dateFormat" mdp-placeholder="Fecha de Nacimiento" mdp-format="DD/MM/YYYY" ng-model="rg.datos.fechaNac" class="md-block" flex>\r\n            <div ng-messages="rg.registroForm.dateFormat.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>\r\n              <div ng-message="format">Formato de fecha invalido</div>\r\n            </div>\r\n          </mdp-date-picker> -->\r\n          <md-input-container flex>\r\n            <label>Fecha de Nacimiento</label>\r\n            <md-datepicker name="fechaNac" ng-model="rg.datos.fechaNac" required md-open-on-focus></md-datepicker>\r\n            <div class="validation-messages" ng-messages="rg.registroForm.fechaNac.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>\r\n            </div>\r\n            \r\n          </md-input-container>\r\n\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column">\r\n\r\n          <md-input-container class="md-block" flex>\r\n              <label>Tipo Telefono</label>\r\n              <md-select ng-model="rg.datos.tipotel" name="tipoTel" required>\r\n                <md-option ng-repeat="tipo in rg.tipos" ng-value="{{tipo.TT_clave}}">{{tipo.TT_tipotelefono}}</md-option>\r\n              </md-select>\r\n              <div ng-messages="rg.registroForm.tipoTel.$error" ng-if="rg.registroForm.$submitted">\r\n                <div ng-message="required">El campo es requerido</div>\r\n              </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container  class="md-block" flex>\r\n            <label>No. Telefono</label>\r\n            <input type="text" name="telefono" ng-model="rg.datos.telefono" maxlength="12" minlength="8" required numero>\r\n            <div ng-messages="rg.registroForm.telefono.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>  \r\n              <div ng-message="maxlength">El numero no debe ser mayor a 12</div>          \r\n              <div ng-message="minlength">El numero debe ser de 8 o más digitos</div>          \r\n            </div>\r\n          </md-input-container>\r\n          \r\n          <div flex>\r\n            <md-button ng-click="rg.agregaTelefono($event)">Agregar otro telefono</md-button>\r\n          </div>\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column">\r\n\r\n          <md-input-container flex>\r\n            <label>E-mail</label>\r\n            <input type="email" name="correo" ng-model="rg.datos.email" bloqueo="32" ng-pattern="/^[a-z]+[a-z0-9._]+@[a-z]+\\.(gov$|gob.mx$|mx$|com.mx$|net$|com$|org$|gob$|me$)/" ng-required="!atn.sincorreo">\r\n            <div ng-messages="rg.registroForm.correo.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="pattern">Formato invalido.</div>\r\n              <div ng-message="required">Campo obligatorio.</div>\r\n              <div ng-message="email">Correo invalido.</div>\r\n            </div>\r\n            <br>\r\n            <md-checkbox aria-label="No Dar Correo" ng-model="atn.sincorreo">\r\n              Paciente no quiere porporcionar su correo\r\n            </md-checkbox>\r\n          </md-input-container>\r\n\r\n          <md-input-container flex>\r\n            <label>Codigo postal</label>\r\n            <input type="text" name="cp" ng-model="rg.datos.cp" maxlength="5" numero>\r\n            <div ng-messages="rg.registroForm.cp.$error">\r\n              <div ng-message="maxlength">El numero no debe ser mayor a 5 digitos</div>          \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container flex>\r\n            <label>Folio Interno</label>\r\n            <input type="text" ng-model="rg.datos.folioInterno">\r\n          </md-input-container>\r\n\r\n        </section>\r\n\r\n      </md-content>\r\n\r\n      <section layout="column" layout-align="center center" layout-wrap>\r\n\r\n          <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="rg.guardando"></md-progress-circular>\r\n          \r\n          <div layout="row">\r\n            \r\n            <md-button id="nuevo" class="md-fab md-primary md-hue-2"  aria-label="Guardar" type="button" ng-click="rg.inicio()" ng-if="!rg.guardando">\r\n                <md-tooltip md-direction="top">\r\n                  Regresar\r\n                </md-tooltip>\r\n                <ng-md-icon icon="keyboard_arrow_left" style="fill:white"></ng-md-icon> \r\n            </md-button>\r\n\r\n            <md-button id="nuevo" class="md-fab md-primary md-hue-2"  aria-label="Guardar" type="submit" ng-if="!rg.guardando">\r\n                <md-tooltip md-direction="top">\r\n                  Guardar\r\n                </md-tooltip>\r\n                <ng-md-icon icon="keyboard_arrow_right" style="fill:white"></ng-md-icon> \r\n            </md-button>\r\n\r\n          </div>\r\n          \r\n      </section>\r\n\r\n      <br>\r\n      <br>\r\n      <br>\r\n      \r\n\r\n    </form>\r\n\r\n</md-content>\r\n\r\n'),
$templateCache.put("registroPaso4.html",'<md-content>\r\n\r\n    <section layout-gt-sm="row" layout="column"  layout-align="space-between center" layout-margin>\r\n\r\n        <img ng-src="http://www.medicavial.net/mvred/imgs/logosregmv/{{ rg.imagenCliente }}" class="img-registro" alt="cliente">\r\n\r\n        <img ng-src="{{ rg.imagenFolio }}" class="img-registro" alt="folio">\r\n\r\n        <img ng-src="http://www.medicavial.net/mvred/imgs/producto/{{ rg.imagenProducto }}" class="img-registro" alt="producto">\r\n\r\n    </section>\r\n\r\n    <form name="rg.siniestroForm" ng-submit="rg.guardaSiniestro()" novalidate>\r\n      \r\n      <md-content layout-padding layout-wrap>\r\n        \r\n        <section layout="row" layout-xs="column">\r\n          \r\n          <md-input-container class="md-block" flex>\r\n              <label>Cobertura Afectada</label>\r\n              <md-select ng-model="rg.datoSiniestro.riesgo" name="tipoTel" required>\r\n                <md-option ng-repeat="riesgo in rg.riesgos" ng-value="{{riesgo.RIE_clave}}">{{riesgo.RIE_nombre}}</md-option>\r\n              </md-select>\r\n              <div ng-messages="rg.siniestroForm.tipoTel.$error" ng-if="rg.siniestroForm.$submitted">\r\n                <div ng-message="required">El campo es requerido</div>\r\n              </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container  class="md-block" flex>\r\n            <label>Poliza</label>\r\n            <input type="text" name="poliza" ng-model="rg.datoSiniestro.poliza" mayusculas bloqueo="32" required>\r\n            <div ng-messages="rg.siniestroForm.poliza.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container flex>\r\n            <label>Inciso</label>\r\n            <input type="text" name="inciso" ng-model="rg.datoSiniestro.inciso" maxlength="6" bloqueo="32" mayusculas>\r\n            <div ng-messages="rg.siniestroForm.inciso.$error" ng-if="rg.siniestroForm.$submitted">\r\n                <div ng-message="maxlength">El campo no puede ser mayor de 6</div>\r\n              </div>\r\n          </md-input-container>\r\n          \r\n          <md-input-container  class="md-block" flex>\r\n            <label>Folio de  \r\n              <span ng-if="rg.datos.cliente == \'19\'">Electronico</span> \r\n              <span ng-if="rg.datos.cliente == \'10\'">Segmentación</span> \r\n              <span ng-if="rg.datos.cliente != \'19\' && rg.datos.cliente != \'10\'">Derivación</span> \r\n            </label>\r\n            <input type="text" name="telefono" ng-model="rg.datoSiniestro.folioElec" mayusculas bloqueo="32">\r\n          </md-input-container>\r\n\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column">\r\n\r\n\r\n          <md-input-container flex>\r\n            <label>Siniestro</label>\r\n            <input type="text" name="siniestro" ng-model="rg.datoSiniestro.siniestro" mayusculas ng-required=" rg.datoSiniestro.bitacora == \'\' && rg.datoSiniestro.reporte == \'\' " bloqueo="32">\r\n            <div ng-messages="rg.siniestroForm.siniestro.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container flex>\r\n            <label>bitacora</label>\r\n            <input type="text" name="bitacora" ng-model="rg.datoSiniestro.bitacora" ng-required=" rg.datoSiniestro.siniestro == \'\'  && rg.datoSiniestro.reporte == \'\' " bloqueo="32">\r\n            <div ng-messages="rg.siniestroForm.bitacora.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container flex>\r\n            <label>Reporte</label>\r\n            <input type="text" name="reporte" ng-model="rg.datoSiniestro.reporte" mayusculas ng-required=" rg.datoSiniestro.siniestro == \'\' && rg.datoSiniestro.bitacora == \'\' " bloqueo="32">\r\n            <div ng-messages="rg.siniestroForm.reporte.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n          \r\n          <md-input-container flex>\r\n            <label>No. De Orden</label>\r\n            <input type="text" name="orden" ng-model="rg.datoSiniestro.orden" bloqueo="32">\r\n          </md-input-container>\r\n          \r\n\r\n          <div flex></div>\r\n\r\n        </section>\r\n\r\n\r\n        <section layout="row" layout-xs="column">\r\n\r\n          <md-autocomplete flex\r\n              md-input-name="ajustador"\r\n              md-selected-item="rg.datoSiniestro.ajustadorId"\r\n              md-selected-item-change="rg.detalleAjustador(ajustador)"\r\n              md-search-text="rg.datoSiniestro.ajustador"\r\n              md-items="ajustador in rg.buscaAjustador(rg.datoSiniestro.ajustador)"\r\n              md-item-text="ajustador.AJU_nombre"\r\n              md-input-id="mayusculas"\r\n              md-floating-label="Ajustador"\r\n              ng-disabled="rg.datoSiniestro.ilejible"\r\n              ng-required="!rg.datoSiniestro.ilejible" >\r\n            <md-item-template>\r\n              <span md-highlight-text="rg.datoSiniestro.ajustador">{{ajustador.AJU_nombre}}</span>\r\n            </md-item-template>\r\n            <div ng-messages="rg.siniestroForm.ajustador.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>\r\n            </div>\r\n          </md-autocomplete>\r\n\r\n          <md-input-container flex>\r\n            <label>Clave del Ajustador</label>\r\n            <input type="text" name="cveAjustador" ng-model="rg.datoSiniestro.cveAjustador" ng-disabled="rg.ajustadorExiste" numero>\r\n          </md-input-container>\r\n          \r\n          <md-input-container flex>\r\n            <label>Telefono del ajustador</label>\r\n            <input type="text" name="telAjustador" ng-model="rg.datoSiniestro.telAjustador" maxlength="12" minlength="5" numero>\r\n            <div ng-messages="rg.telAjustador.telefono.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>  \r\n              <div ng-message="maxlength">El numero no debe ser mayor a 12</div>          \r\n              <div ng-message="minlength">El numero debe ser de 8 o más digitos</div>          \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-switch ng-model="rg.datoSiniestro.ilejible" aria-label="ilejible" class="md-warn" flex>\r\n            Ajustador Ilegible <span ng-if="rg.datoSiniestro.ilejible">Si</span> <span ng-if="!rg.datoSiniestro.ilejible">No</span>\r\n          </md-switch>\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column" ng-if="rg.datos.producto == 2">\r\n\r\n\r\n          <md-switch ng-model="rg.datoSiniestro.deducible" aria-label="deducible" class="md-warn" flex>\r\n            Deducible <span ng-if="rg.datoSiniestro.deducible">Si</span> <span ng-if="!rg.datoSiniestro.deducible">No</span> \r\n          </md-switch>\r\n\r\n          <md-input-container class="md-block" flex ng-if="rg.datoSiniestro.deducible">\r\n            <label>Deducible</label>\r\n            <input type="text" name="cantidadDeducible" ng-model="rg.datoSiniestro.cantidadDeducible" dinero ng-required="rg.datoSiniestro.deducible">\r\n            <div ng-messages="rg.siniestroForm.cantidadDeducible.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n\r\n          <md-input-container class="md-block" flex-gt-sm="60" ng-if="rg.datoSiniestro.deducible">\r\n            <label>Observaciones al deducible</label>\r\n            <textarea ng-model="rg.datoSiniestro.observacionesDeducible" name="observacionesDed" rows="5" ng-required="rg.datoSiniestro.deducible"></textarea>\r\n            <div ng-messages="rg.siniestroForm.observacionesDed.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container>\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column">\r\n          \r\n          <md-input-container flex>\r\n            <label>Fecha de expedición del pase</label>\r\n            <md-datepicker name="fechaExp" ng-change="rg.verificaVigencia()" ng-model="rg.datoSiniestro.fechaExp" md-open-on-focus required></md-datepicker>\r\n            <div class="validation-messages" ng-messages="rg.registroForm.fechaExp.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>\r\n            </div>\r\n            \r\n          </md-input-container>\r\n\r\n          <!-- <md-switch ng-model="rg.datoSiniestro.extemporaneo" aria-label="extemporaneo" class="md-warn" flex>\r\n            Folio Extemporaneo <span ng-if="rg.datoSiniestro.extemporaneo">Si</span> <span ng-if="!rg.datoSiniestro.extemporaneo">No</span> \r\n          </md-switch>\r\n\r\n          <md-input-container ng-if="rg.datoSiniestro.extemporaneo" flex>\r\n            <label>Fecha de Atención</label>\r\n            <md-datepicker name="fechaAtn" ng-model="rg.datoSiniestro.fechaAtencion" required md-open-on-focus></md-datepicker>\r\n            <div class="validation-messages" ng-messages="rg.registroForm.fechaAtn.$error" ng-if="rg.registroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>\r\n            </div>\r\n            \r\n          </md-input-container>\r\n\r\n          <md-input-container class="md-block" flex-gt-sm="40" ng-if="rg.datoSiniestro.extemporaneo ">\r\n            <label>Motivo</label>\r\n            <textarea ng-model="rg.datoSiniestro.motivoEx" name="motivoEx" rows="1" ng-required="rg.datoSiniestro.extemporaneo"></textarea>\r\n            <div ng-messages="rg.siniestroForm.motivoEx.$error" ng-if="rg.siniestroForm.$submitted">\r\n              <div ng-message="required">El campo es requerido</div>            \r\n            </div>\r\n          </md-input-container> -->\r\n\r\n\r\n        </section>\r\n\r\n        <section layout="row" layout-xs="column">\r\n          \r\n          <md-input-container flex-gt-sm="20">\r\n            <label>Folio de Pase</label>\r\n            <input type="text" name="orden" ng-model="rg.datoSiniestro.folioPase">\r\n          </md-input-container>\r\n\r\n          <md-input-container class="md-block" flex>\r\n            <label>Observaciones</label>\r\n            <textarea ng-model="rg.datoSiniestro.observaciones" rows="1"></textarea>\r\n          </md-input-container>\r\n\r\n        </section>\r\n\r\n        <section layout="column" layout-align="center center" layout-wrap>\r\n          \r\n          <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="rg.guardando"></md-progress-circular>\r\n\r\n          <md-button id="nuevo" class="md-fab md-primary md-hue-2"  aria-label="Guardar" type="submit" ng-if="!rg.guardando">\r\n              <md-tooltip md-direction="top">\r\n                Guardar\r\n              </md-tooltip>\r\n              <ng-md-icon icon="keyboard_arrow_right" style="fill:white"></ng-md-icon> \r\n          </md-button>\r\n\r\n        </section>\r\n\r\n\r\n      </md-content>\r\n\r\n    </form>\r\n\r\n</md-content>\r\n\r\n'),$templateCache.put("solicitudAutorizacion.html",'<md-dialog aria-label="Agrega Telefono" ng-init="sol.inicio()" flex-sm="70" flex-gt-md="75" flex="100">\r\n\r\n\r\n    <md-toolbar class="md-warn">\r\n      <div class="md-toolbar-tools">\r\n        <h2>{{ sol.titulo }}</h2>\r\n        <span flex></span>\r\n        <md-button  class="md-icon-button" ng-click="sol.cancelar()">\r\n          <ng-md-icon icon="close" style="fill:white" aria-label="Cerrar Ventana"></ng-md-icon> \r\n        </md-button>\r\n      </div>\r\n    </md-toolbar>\r\n    <md-dialog-content layout-wrap>\r\n\r\n      <md-tabs md-selected="sol.tabActual" md-align-tabs="\'top\'" md-dynamic-height md-border-bottom>\r\n        <md-tab id="tab1" ng-disabled="sol.step1block">\r\n          <md-tab-label>Tipo de Solicitud</md-tab-label>\r\n          <md-tab-body>\r\n\r\n            <div ng-include="sol.paso1"></div>\r\n            \r\n          </md-tab-body>\r\n        </md-tab>\r\n        <md-tab id="tab2" ng-disabled="sol.step2block">\r\n          <md-tab-label>Detalles</md-tab-label>\r\n          <md-tab-body> \r\n\r\n            <div ng-include="sol.paso2"></div>\r\n            \r\n          </md-tab-body>\r\n        </md-tab>\r\n        <md-tab id="tab3" ng-disabled="sol.step3block">\r\n          <md-tab-label>Justificación</md-tab-label>\r\n          <md-tab-body>\r\n\r\n            <div layout-gt-sm="row" layout-padding>\r\n\r\n              <md-input-container class="md-block" flex>\r\n                <label>Diagnostico Actual</label>\r\n                <textarea ng-model="sol.datos.diagnostico"></textarea>\r\n              </md-input-container>\r\n\r\n              <md-input-container class="md-block" flex>\r\n                <label>Justificación y Observaciones</label>\r\n                <textarea ng-model="sol.datos.justificacion"></textarea>\r\n              </md-input-container>\r\n\r\n            </div>\r\n            \r\n          </md-tab-body>\r\n        </md-tab>\r\n        <md-tab id="tab4" ng-disabled="sol.step4block">\r\n          <md-tab-label>Soporte</md-tab-label>\r\n          <md-tab-body>\r\n\r\n            <md-content>\r\n\r\n              <md-subheader class="md-no-sticky">Proporciona información adicional para agilizar tu solicitud (Nota Médica, Pase, Identificacion, Etc.)</md-subheader>\r\n              <md-divider></md-divider>\r\n              \r\n              <div layout-gt-sm="row" layout="column" layout-align="center center">\r\n\r\n                <md-button  aria-label="subir archivo"\r\n                            ngf-select="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-change="atn.subirDigitales($files,atn.tipo,$event)" \r\n                            ngf-multiple="false" \r\n                            ngf-pattern="\'.pdf,image/*\'"\r\n                            ngf-accept="\'.pdf,image/*\'" \r\n                            ng-model-options="{allowInvalid: false}">\r\n                  Subir Archivo</md-button>\r\n                \r\n              </div>\r\n              <div layout="row" layout-align="center center" flex>\r\n                <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="atn.subiendoImagen"></md-progress-circular>\r\n              </div>\r\n              <div class="drop-box" ngf-drop accept="\'.pdf,image/*\'" ngf-drag-over-class="dragover" ngf-multiple="false" ngf-pattern="\'.pdf,image/*\'" ngf-change="atn.subirDigitales($files,atn.tipo,$event)" flex>\r\n                  Arrastra tus archivos aqui\r\n              </div>\r\n\r\n            </md-content>\r\n            \r\n          </md-tab-body>\r\n        </md-tab>\r\n        <md-tab id="tab5" ng-disabled="sol.step5block">\r\n          <md-tab-label>Comprobante</md-tab-label>\r\n          <md-tab-body>\r\n              <md-content layout="row" layout-align="center start" layout-padding>\r\n                <md-progress-circular md-mode="indeterminate" md-diameter="40" ng-if="sol.guardando"></md-progress-circular>\r\n                <md-button class="md-raised md-primary" ng-click="sol.solicitar()" ng-if="!sol.guardando" aria-label="Genera Solicitud">Genera Solicitud</md-button>\r\n              </md-content>\r\n          </md-tab-body>\r\n        </md-tab>\r\n        <md-tab ng-hide="true"></md-tab>\r\n  \r\n      </md-tabs>\r\n\r\n    </md-dialog-content>\r\n\r\n\r\n    <md-dialog-actions layout="row">\r\n      <span flex></span>\r\n      <md-button ng-click="sol.tabActual = sol.tabActual - 1" ng-disabled="sol.tabActual == 0">\r\n        <md-tooltip md-direction="top">\r\n          Regresar\r\n        </md-tooltip>\r\n        <ng-md-icon icon="keyboard_arrow_left" style="fill:black"></ng-md-icon> \r\n      </md-button>\r\n      <md-button ng-click="sol.siguiente()" ng-disabled="sol.guardando">\r\n        <md-tooltip md-direction="top">\r\n          Siguiente\r\n        </md-tooltip>\r\n        <ng-md-icon icon="keyboard_arrow_right" style="fill:black"></ng-md-icon> \r\n      </md-button>\r\n    </md-dialog-actions>\r\n\r\n</md-dialog>'),$templateCache.put("solicitudPaso1.html",'<md-content layout-padding layout-wrap layout="column" layout-align="center center">\r\n              \r\n  <md-input-container>\r\n    <label>Autorización</label>\r\n    <md-select ng-model="sol.datos.tipo" placeholder="Selecciona Autorización">\r\n      <md-option value="">Selecciona Autorización</md-option>\r\n      <md-option value="4">Interconsulta</md-option>\r\n      <md-option value="3">Estudio Especial</md-option>\r\n      <md-option value="1">Rehabilitación</md-option>\r\n      <md-option value="9">Suministro Especial</md-option>\r\n      <md-option value="11">Prestamo de Información</md-option>\r\n      <md-option value="21">Salida de paquete</md-option>\r\n      <md-option value="2">Problema Documental</md-option>\r\n    </md-select>\r\n  </md-input-container>\r\n\r\n  <md-whiteframe class="md-whiteframe-3dp bgm-amber muestras" ng-if="sol.datos.tipo" layout-margin layout-align="center start">\r\n    \r\n    <span ng-if="sol.datos.tipo == 4">\r\n      Te recordamos que dentro del paquete pactado está incluida la atención inicial y subsecuente por médico traumatólogo o urgenciólogo. Así como también la consulta de valoración por médico de cualquier otra especialidad, en caso de requerir tratamiento de una especialidad distinta a Traumatología y Ortopedia por favor solicita una salida de paquete.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 3">\r\n      Te recordamos que los Rx están conveniados dentro del paquete.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 1">\r\n      Según su lesión y siguiendo el criterio y las indicaciones del médico tratante es recomendable proporcionarle al lesionado ejercicio para realizar por su cuenta. Aunado a lo anterior les recordamos que las primeras cinco sesiones de rehabilitación están previamente convenidas dentro del paquete.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 9">\r\n      Cualquier insumo o medicamento que se requiera para el tratamiento de la lesión y que este fuera de la lista de insumos recomendados.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 11">\r\n      Rayos X y/o estudios especiales y/o notas médicas la coordinación médica es quien dictaminará, en su caso, la entrega o rechazo de informes médicos y estudios a los pacientes, de acuerdo a las indicaciones de cada compañía de seguros.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 21">\r\n      Se debe solicitar salida de paquete cuando el tratamiento amerite periodo de tiempo en observación, canalización, hospitalización o procedimientos quirúrgicos, terapia intermedia o intensiva.\r\n    </span>\r\n    <span ng-if="sol.datos.tipo == 2">\r\n      Problemas con pase médico: <br>\r\n      tachaduras o enmendaduras, mas lesionados indicadas en el formato, datos faltantes y/o vigencia.\r\n    </span>\r\n  </md-whiteframe>\r\n\r\n</md-content>'),$templateCache.put("solicitudPaso2.html",'<md-content layout="column" layout-padding ng-if="sol.datos.tipo == 4">\r\n              \r\n  <md-input-container layout-align="center">\r\n    <label>Tipo de Interconsulta</label>\r\n    <md-select ng-model="sol.datos.interconsulta.tipo" placeholder="Tipo de Interconsulta">\r\n      <md-option value="">Selecciona Consulta</md-option>\r\n      <md-option value="Neurologia">Neurología</md-option>\r\n      <md-option value="Ginecologia">Ginecología</md-option>\r\n      <md-option value="Otorrinolaringologia">Otorrinolaringología</md-option>\r\n      <md-option value="Oftalmologia">Oftalmología</md-option>\r\n      <md-option value="Otro">Otro</md-option>\r\n    </md-select>\r\n  </md-input-container>\r\n\r\n  <div ng-if=" sol.datos.interconsulta.tipo == \'Ginecologia\' ">\r\n    \r\n    <md-content layout="row" layout-align="center start" layout-padding>\r\n      <md-subheader>¿La Paciente se Encuentra Embarazada?</md-subheader>\r\n      <md-button class="md-raised md-primary" ng-click="sol.pacienteEmbarazada = true" aria-label="Si">Si</md-button>\r\n      <md-button class="md-raised md-warn" ng-click="sol.siguiente()" aria-label="No">No</md-button>\r\n    </md-content>\r\n    <br>\r\n    <md-content layout="column" ng-if=" sol.pacienteEmbarazada ">\r\n        \r\n        <div layout="row" layout-align="center start" layout-wrap>\r\n            \r\n          <div class="text-center" flex>\r\n            <p>¿Actualmente está sometida a control ginecológico?</p>\r\n\r\n            <md-radio-group ng-model="datos.interconsulta.controlgineco" layout="row" layout-align="center start" >\r\n\r\n              <md-radio-button value="SI">Si</md-radio-button>\r\n              <md-radio-button value="NO"> No </md-radio-button>\r\n\r\n            </md-radio-group>\r\n          </div>\r\n          <div class="text-center" flex>\r\n            <p>¿Dolor abdominal?</p>\r\n\r\n            <md-radio-group ng-model="datos.interconsulta.dolorabdominal" layout="row" layout-align="center start">\r\n\r\n              <md-radio-button value="SI">Si</md-radio-button>\r\n              <md-radio-button value="NO"> No </md-radio-button>\r\n\r\n            </md-radio-group>\r\n          </div>\r\n          <div class="text-center" flex>\r\n            <p>Movimientos Fetales</p>\r\n\r\n            <md-radio-group ng-model="datos.interconsulta.movimientosfetales" layout="row" layout-align="center start">\r\n\r\n              <md-radio-button value="Presentes">Presentes</md-radio-button>\r\n              <md-radio-button value="Ausentes"> Ausentes </md-radio-button>\r\n\r\n            </md-radio-group>\r\n          </div>\r\n\r\n        </div>\r\n        <br>\r\n        <div layout="row" layout-align="center start" layout-padding>\r\n          \r\n          <md-input-container class="md-block" flex>\r\n            <label>Semanas de gestacion</label>\r\n            <input type="number" step="1" name="semanas" ng-model="sol.datos.interconsulta.semanas" min="0" max="36" />\r\n          </md-input-container>\r\n          \r\n          <md-input-container class="md-block" flex>\r\n            <label>Frecuencia cardiaca fetal</label>\r\n            <input type="text"  ng-model="sol.datos.interconsulta.movimientosfetales" />\r\n          </md-input-container>\r\n\r\n        </div>\r\n\r\n        <div layout-padding>\r\n          \r\n          <md-input-container class="md-block">\r\n            <label>Observaciones</label>\r\n            <textarea ng-model="sol.datos.interconsulta.observaciones" md-select-on-focus></textarea>\r\n          </md-input-container>\r\n\r\n\r\n        </div>\r\n\r\n\r\n    </md-content>\r\n\r\n  </div>\r\n\r\n</md-content>\r\n\r\n<md-content layout="column" layout-padding ng-if="sol.datos.tipo == 3">\r\n              \r\n  <p>Tipo de estudio</p>\r\n\r\n  <md-radio-group ng-model="sol.datos.estudio.tipo">\r\n\r\n    <md-radio-button value="Resonancia magentica nuclear (RMN)">Resonancia magentica nuclear (RMN)</md-radio-button>\r\n    <md-radio-button value="Tomografia accial computarizada (TAC)">Tomografia accial computarizada (TAC)</md-radio-button>\r\n    <md-radio-button value="Electrocardiograma (EMG)">Electrocardiograma (EMG)</md-radio-button>\r\n    <md-radio-button value="Ultrasonido (US)">Ultrasonido (US)</md-radio-button>\r\n    <md-radio-button value="Ultrasonido ginecobstetrico (USG)">Ultrasonido ginecobstetrico (USG)</md-radio-button>\r\n\r\n  </md-radio-group>\r\n\r\n  <md-input-container class="md-block">\r\n    <label>Detalle del estudio</label>\r\n    <textarea ng-model="sol.datos.estudio.detalle" md-select-on-focus></textarea>\r\n  </md-input-container>\r\n\r\n</md-content>\r\n\r\n<md-content layout="column" layout-gt-sm="row" layout-padding layout-align="center center" ng-if="sol.datos.tipo == 1">\r\n  \r\n\r\n  <div flex>\r\n    \r\n    <p>Escala de dolor del paciente</p>\r\n\r\n    <md-slider-container>\r\n      <md-input-container>\r\n        <input flex type="number" ng-model="sol.datos.rehabilitacion.dolor" aria-label="dolor" aria-controls="dolor-slider">\r\n      </md-input-container>\r\n      <md-slider ng-model="sol.datos.rehabilitacion.dolor" min="0" max="10" aria-label="dolor" id="dolor-slider" class="md-accent" md-vertical\r\n                 md-range md-discrete></md-slider>\r\n      </md-slider>\r\n      <h5>Dolor</h5>\r\n    </md-slider-container>\r\n\r\n  </div> \r\n\r\n  <div flex>\r\n    \r\n    <p>¿Cuantas sesiones de rehabilitación a tomado el paciente?</p>\r\n\r\n    <md-input-container class="md-block">\r\n      <label>Numero de Rehabilitaciones</label>\r\n      <input ng-model="sol.datos.rehabilitacion.rehabilitaciones" min="0" type="number">\r\n    </md-input-container>\r\n\r\n  </div>        \r\n\r\n  \r\n  <div ng-if="sol.datos.rehabilitacion.rehabilitaciones > 0" flex>\r\n    \r\n    <p>Escala de mejora</p>\r\n\r\n    <md-slider-container flex>\r\n      <md-input-container>\r\n        <input flex type="number" ng-model="sol.datos.rehabilitacion.mejora" aria-label="mejora" aria-controls="mejora-slider">\r\n      </md-input-container>\r\n      <md-slider ng-model="sol.datos.rehabilitacion.mejora" min="0" max="10" aria-label="mejora" id="mejora-slider" class="md-primary" md-vertical\r\n                 md-range md-discrete></md-slider>\r\n      </md-slider>\r\n      <h5>Mejora</h5>\r\n    </md-slider-container>\r\n\r\n  </div>\r\n\r\n</md-content>\r\n\r\n<md-content layout="column" layout-padding ng-if="sol.datos.tipo == 9">\r\n\r\n\r\n  <md-input-container class="md-block">\r\n    <label>Suministro requerido</label>\r\n    <textarea ng-model="sol.datos.suministro.detalle" md-select-on-focus></textarea>\r\n  </md-input-container>\r\n\r\n</md-content>\r\n\r\n<md-content layout="column" layout-gt-sm="row" layout-padding ng-if="sol.datos.tipo == 11">\r\n  \r\n  <md-content layout-wrap  flex>\r\n      <p>Documentos requeridos</p>\r\n\r\n      <md-checkbox  ng-model="sol.datos.informacion.notamedica">\r\n        Nota Médica\r\n      </md-checkbox>\r\n      <md-checkbox  ng-model="sol.datos.informacion.rx">\r\n        Rx\r\n      </md-checkbox>\r\n      <md-checkbox  ng-model="sol.datos.informacion.resultados">\r\n        Resultado de estudios\r\n      </md-checkbox>\r\n\r\n  </md-content>\r\n\r\n  <md-content layout-wrap flex>\r\n\r\n    <p>Por favor detalla el motivo por el cual el paciente requiere esta información</p>\r\n    <md-input-container class="md-block">\r\n      <label>Motivo de solicitud</label>\r\n      <textarea ng-model="sol.datos.informacion.datalle" md-select-on-focus></textarea>\r\n    </md-input-container>\r\n    \r\n  </md-content>\r\n\r\n\r\n</md-content>\r\n\r\n<md-content layout="column" layout-padding ng-if="sol.datos.tipo == 21">\r\n\r\n\r\n  <md-input-container class="md-block">\r\n    <label>Detalle de la Salida de Paquete</label>\r\n    <textarea ng-model="sol.datos.suministro.detalle" md-select-on-focus></textarea>\r\n  </md-input-container>\r\n\r\n</md-content>\r\n\r\n\r\n<md-content layout="column" layout-gt-sm="row" layout-padding ng-if="sol.datos.tipo == 2">\r\n  \r\n  <md-content layout-wrap  flex>\r\n      <p>Tipo de Problema</p>\r\n\r\n      <md-checkbox  ng-model="sol.datos.problemadocumental.pase">\r\n        Problema con el pase médico\r\n      </md-checkbox>\r\n      <md-checkbox  ng-model="sol.datos.problemadocumental.identificacion">\r\n        Problema con la identificación\r\n      </md-checkbox>\r\n\r\n  </md-content>\r\n\r\n  <md-content layout-wrap flex>\r\n\r\n    <md-input-container class="md-block">\r\n      <label>Motivo del Problema</label>\r\n      <textarea ng-model="sol.datos.problemadocumental.detalle" md-select-on-focus></textarea>\r\n    </md-input-container>\r\n    \r\n  </md-content>\r\n\r\n\r\n</md-content>')}]),function(){"use strict";function transicion($resource,api){function enter(element,done){element.css("opacity",0)}function leave(element,done){element.css("opacity",0)}var animacion={enter:enter,leave:leave};return animacion}angular.module("app").animation(".transicion",transicion)}(),function(){"use strict";function atencionCtrl($rootScope,mensajes,$mdDialog,operacion,busqueda,webStorage,filtro){function autorizarImagen(imagen){imagen.usuario=$rootScope.id,operacion.autorizaImagen(imagen,atn.clave).then(function(res){mensajes.alerta(res.data.flash,"success","top right","done_all"),cargaInfo()},function(err){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function inicio(){atn.solicitando=!1,cargaInfo()}function descargaArchivo(imagen){operacion.descargaArchivo(imagen.archivo+"/"+imagen.clave)}function cargaInfo(){atn.subiendoImagen=!1,atn.cargando=!0,atn.opacidad={opacity:.3},busqueda.detalleAtencion(atn.clave).then(function(data){atn.datos=data.info,atn.tiposDocumento=data.tipos,atn.imagenes=data.imagenes,atn.cargando=!1,atn.eliminandoXML=!1,atn.eliminandoPDF=!1,atn.anotaciones=data.anotaciones,atn.requisitos=data.requisitos,atn.lesiones=data.lesiones,atn.pdf=null!=data.pdf,atn.xml=null!=data.xml,atn.archivoPDF=data.pdf,atn.archivoXML=data.xml,atn.xmlData=data.factura,atn.opacidad={},console.log(atn.pdf),console.log(atn.xml)},function(error){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error"),atn.cargando=!1,atn.opacidad={}})}function guardaNotas(){operacion.guardaNotas(atn.datos.ATN_mensaje,atn.clave).then(function(resp){mensajes.alerta(resp.data.flash,"success","top right","done_all")},function(err){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function lesionMV(){busqueda.lesionMV(atn.tipoLes).success(function(data){atn.lesionesMV=data})}function lesionCodificada(){busqueda.lesionCodificada(atn.lesionMV).success(function(data){atn.lesionesCod=data})}function subirDigitales(files,tipo,ev){files.length>0&&(atn.subiendoImagen=!0,operacion.subirImagenes(tipo,files,atn.clave).then(function(datos){atn.imagenes.push(datos),mensajes.alerta("Imagen subida correctamente","success","top right","done_all"),atn.porcentaje="",atn.subiendoImagen=!1,atn.tipo="",atn.files=[]},function(error){mensajes.alerta(error,"error","top right","error"),atn.porcentaje="",atn.subiendoImagen=!1},function(porcentaje){atn.porcentaje=porcentaje}))}function subirFactura(files,ev){files.length>0&&(atn.subiendoImagen=!0,operacion.subirFactura(files,atn.clave,atn.xml,atn.pdf).then(function(datos){console.log(datos),atn.subiendoImagen=!1,mensajes.alerta("Factura subida correctamente","success","top right","done_all"),datos.xml?(atn.xml=!0,atn.archivoXML=datos.datosArchivo,validaPDF(datos.datosXML)):(atn.pdf=!0,atn.archivoPDF=datos.datosArchivo)},function(error){mensajes.alerta(error,"error","top right","error"),atn.porcentaje="",atn.subiendoImagen=!1}))}function solicitaAutorizacion(){filtro.verificaRequeridos(atn.tiposDocumento,atn.imagenes).then(function(res){var datos={atencion:atn.clave,usuario:$rootScope.id,requisitos:atn.anotaciones.length>0?"":atn.requisitos,tipoLes:atn.tipoLes,lesionMV:atn.lesionMV,lesionCod:atn.lesionCod};atn.solicitando=!0,operacion.solicitaAutorizacion(datos).success(function(data){atn.datos.ATN_estatus=1,atn.solicitando=!1,mensajes.alerta(data.respuesta,"success","top right","done_all")}).error(function(error){
atn.solicitando=!1,mensajes.alerta("Ocurrio un error vuelve a intentarlo por favor","error","top right","error")})},function(err){mensajes.alerta("Faltan "+err+" imagene(s) por subir","error","top right","error")})}function solicitaRevisionFactura(){atn.solicitando=!0,operacion.cambiarEstatus(atn.clave,5).success(function(data){atn.datos.ATN_estatus=5,atn.solicitando=!1,mensajes.alerta(data.respuesta,"success","top right","done_all")}).error(function(error){atn.solicitando=!1,mensajes.alerta("Ocurrio un error vuelve a intentarlo por favor","error","top right","error")})}function eliminarArchivos(file,ev,historico,estatus,respaldo){console.log(historico,estatus,respaldo),historico=void 0==historico||historico,estatus=void 0==estatus||estatus,respaldo=void 0==respaldo||respaldo;var confirm=$mdDialog.confirm().title("Deseas eliminar este archivo?").textContent("").ariaLabel("¿Deseas eliminar archivo?").targetEvent(ev).ok("SI").cancel("NO");$mdDialog.show(confirm).then(function(){file.usuario=$rootScope.id,file.atencion=atn.clave,file.historico=historico,file.cambiarEstatus=estatus,file.respaldo=respaldo,operacion.eliminaArchivo(file).then(function(resp){estatus&&(atn.datos.ATN_estatus=0),mensajes.alerta(resp.data.flash,"success","top right","done_all");var index=atn.imagenes.indexOf(file);atn.imagenes.splice(index,1)},function(error){mensajes.alerta(error,"error","top right","error")})})}function eliminaFactura(file,tipo,ev){var confirm=$mdDialog.confirm().title("Deseas eliminar este archivo?").textContent("").ariaLabel("¿Deseas eliminar archivo?").targetEvent(ev).ok("SI").cancel("NO");$mdDialog.show(confirm).then(function(){file.usuario=$rootScope.id,file.atencion=atn.clave,file.historico=!0,file.cambiarEstatus=!1,file.respaldo=!1,"xml"==tipo?(file.tipo=29,atn.eliminandoXML=!0):(file.tipo=30,atn.eliminandoPDF=!0),console.log(file),operacion.eliminaArchivo(file).then(function(resp){"xml"==tipo?(atn.archivoXML="",atn.xml=!1):(atn.archivoPDF="",atn.pdf=!1),mensajes.alerta(tipo+" eliminado","","top right","done")},function(error){mensajes.alerta(error,"error","top right","error")})})}function motivo(motivo,ev){var alert=$mdDialog.alert().title("Motivo de rechazo").textContent(motivo).ariaLabel("Motivo de rechazo").targetEvent(ev).ok("Cerrar");$mdDialog.show(alert)}function muestraArchivo(imagen,ev){$mdDialog.show({templateUrl:"visor.html",parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,locals:{imagen:imagen},fullscreen:!0,controller:"visorCtrl"})}function validaPDF(datos){"hola"==atn.datosXML.Comprobante.Receptor._rfc?(atn.factura.foliofiscal=datos.Comprobante.Complemento.TimbreFiscalDigital._UUID,atn.factura.receptor=datos.Comprobante.Receptor._nombre,atn.factura.rfc=datos.Comprobante.Receptor._rfc,atn.factura.emisor=datos.Comprobante.Emisor._nombre,atn.factura.rfc_emisor=datos.Comprobante.Emisor._rfc,atn.factura.subtotal=datos.Comprobante._subTotal,atn.factura.iva=datos.Comprobante.Impuestos.Traslados.Traslado._importe,atn.factura.total=datos.Comprobante._total,atn.factura.descuento=datos.Comprobante._descuento,atn.factura.fechaemision=datos.Comprobante._fecha,atn.factura.tipocomprobante=datos.Comprobante._tipoDeComprobante,atn.factura.lugarexpedicion=datos.Comprobante._LugarExpedicion):(eliminaFactrua(atn.archivoXML,"",!1,!1),mensajes.alerta("Tu Factura no coincide con Receptor","error","top right","error"))}var atn=this;atn.permisos=$rootScope.permisos,atn.$onInit=inicio,atn.autorizarImagen=autorizarImagen,atn.cargaInfo=cargaInfo,atn.descargaArchivo=descargaArchivo,atn.eliminarArchivos=eliminarArchivos,atn.eliminaFactura=eliminaFactura,atn.guardaNotas=guardaNotas,atn.lesionMV=lesionMV,atn.lesionCodificada=lesionCodificada,atn.motivo=motivo,atn.muestraArchivo=muestraArchivo,atn.subirDigitales=subirDigitales,atn.subirFactura=subirFactura,atn.solicitaAutorizacion=solicitaAutorizacion,atn.solicitaRevisionFactura=solicitaRevisionFactura}angular.module("app").component("atencion",{templateUrl:"atencion.html",controller:atencionCtrl,controllerAs:"atn",bindings:{clave:"="}}),atencionCtrl.$inject=["$rootScope","mensajes","$mdDialog","operacion","busqueda","webStorage","filtro"]}(),function(){"use strict";function configuracionCtrl($rootScope,$state,$mdSidenav,busqueda,filtro,webStorage){function inicio(){conf.modoGuiado=$rootScope.modoGuiado,conf.permisos=$rootScope.permisos,conf.unidad=$rootScope.unidad,busqueda.unidades().then(function(res){conf.unidades=res.data})}function cerrar(){$mdSidenav("right").toggle()}function cambiaModo(){conf.modoGuiado=!conf.modoGuiado,$rootScope.modoGuiado=!$rootScope.modoGuiado}function seleccionaUnidad(){filtro.buscaUnidad(conf.unidades,conf.unidad).then(function(res){webStorage.session.add("unidad",res.Uni_clave),webStorage.session.add("nombreUni",res.Uni_nombrecorto),$rootScope.unidad=res.Uni_clave,$rootScope.nombreUni=res.Uni_nombrecorto,$state.go("index.home")})}var conf=this;conf.$onInit=inicio,conf.cerrar=cerrar,conf.cambiaModo=cambiaModo,conf.seleccionaUnidad=seleccionaUnidad}angular.module("app").component("configuracion",{templateUrl:"configuracion.html",controller:configuracionCtrl,controllerAs:"conf"}),configuracionCtrl.$inject=["$rootScope","$state","$mdSidenav","busqueda","filtro","webStorage"]}(),function(){"use strict";function InteraccionCtrl($rootScope){function ir(ruta){$mdSidenav("left").isOpen()&&$mdSidenav("left").toggle(),$state.go(ruta)}var it=this;it.nombre=$rootScope.nombre,it.ir=ir}angular.module("app").component("interaccion",{templateUrl:"interaccion.html",controller:InteraccionCtrl,controllerAs:"it"}),InteraccionCtrl.$inject=["$rootScope"]}(),function(){"use strict";function MenuCtrl($rootScope,$state,$mdSidenav){function ir(ruta){$mdSidenav("left").isOpen()&&$mdSidenav("left").toggle(),$state.go(ruta)}var mn=this;mn.nombre=$rootScope.nombre,mn.ir=ir}angular.module("app").component("menu",{templateUrl:"menu.html",controller:MenuCtrl,controllerAs:"mn"}),MenuCtrl.$inject=["$rootScope","$state","$mdSidenav"]}(),function(){"use strict";function toolbarCtrl($rootScope,auth,$mdSidenav,$mdMedia,$window,$state,$mdDialog,reportes){function menuSwitch(menuId){$rootScope.atras?$window.history.back():$mdSidenav(menuId).toggle()}function configSwitch(menuId){console.log(menuId),$mdSidenav(menuId).toggle()}function logout(){auth.logout()}function verificaVista(){return!$mdMedia("gt-md")||!!$rootScope.atras}function notificaciones(ev){$mdDialog.show({controller:notificacionCtrl,controllerAs:"not",templateUrl:"notificacion.html",parent:angular.element(document.body),locals:{datos:tb.info},targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0})}function consultaNotificaciones(){reportes.notificacionUnidad(tb.unidad).then(function(resp){tb.info=resp.data})}var tb=this;tb.info=[],tb.configSwitch=configSwitch,tb.menuSwitch=menuSwitch,tb.notificaciones=notificaciones,tb.logout=logout,tb.verificaVista=verificaVista,tb.nombre=$rootScope.nombre,consultaNotificaciones()}function notificacionCtrl($mdDialog,datos){function cerrar(){$mdDialog.hide()}console.log(datos);var not=this;not.datos=datos,not.cerrar=cerrar}angular.module("app").component("toolbar",{templateUrl:"toolbar.html",controller:toolbarCtrl,controllerAs:"tb",bindings:{titulo:"=",menu:"=",url:"=",unidad:"="}}).controller("notificacionCtrl",notificacionCtrl),notificacionCtrl.$inject=["$mdDialog","datos"],toolbarCtrl.$inject=["$rootScope","auth","$mdSidenav","$mdMedia","$window","$state","$mdDialog","reportes"]}(),function(){"use strict";function ayudaCtrl($rootScope,$mdDialog){var au=this;$rootScope.tema="theme1",$rootScope.titulo="Ayuda",$rootScope.atras=!0,$rootScope.menu="arrow_back",au.video=function(ev,opcion){switch(opcion){case 1:var video="http://medicavial.net/mvred/videos/2_Conociendo_a_M%C3%A9dicaVial.mp4";break;case 2:var video="http://medicavial.net/mvred/videos/3.2_Registro_Web.mp4";break;case 3:var video="http://medicavial.net/mvred/videos/4_Autorizaciones_Especiales_y_Salida_de_Paquete.mp4"}$mdDialog.show({controller:"videoCtrl",controllerAs:"vi",templateUrl:"videos.html",locals:{video:video},parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0})},au.directorio=function(ev){$mdDialog.show({templateUrl:"directorio.html",parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0,controller:function($scope,$mdDialog){$scope.cerrar=function(){$mdDialog.cancel()}}})}}function videoCtrl($mdDialog,video){var vi=this;vi.video=video,vi.options={loop:!0},vi.info={sources:[{src:video,type:"video/mp4"}]},vi.cancel=function(){$mdDialog.hide()}}angular.module("app").controller("ayudaCtrl",ayudaCtrl).controller("videoCtrl",videoCtrl),ayudaCtrl.$inject=["$rootScope","$mdDialog"],videoCtrl.$inject=["$mdDialog","video"]}(),function(){"use strict";function busquedaCtrl($rootScope,registros,mensajes,publicfiles,$mdDialog){function buscar(){bs.consultando=!0,""!=bs.datos.folio&&(bs.busqueda="Folio MV: "+bs.datos.folio),""!=bs.datos.folioInt&&(bs.busqueda="Folio Interno: "+bs.datos.folioInt),""!=bs.datos.lesionado&&(bs.busqueda="Lesionado: "+bs.datos.lesionado),bs.consulta=registros.get(bs.datos,muestraDatos,error).$promise}function error(data){bs.consultando=!1,mensajes.alerta(mensajeError,"error","top right","error")}function inicio(){bs.datos={unidad:$rootScope.unidad,page:1,folio:"",folioInt:"",lesionado:"",limit:10,order:"-Exp_fecreg"},bs.paginacion=[10,20,30,40,50],bs.busqueda="Ultimos registros",bs.lesionado="",bs.folio="",bs.consultando=!1,bs.pageSelect=!0,buscar()}function muestraDatos(response){bs.registros=response.data,bs.limite=response.per_page,bs.pagina=response.current_page,bs.total=response.total,bs.consultando=!1}function ordenar(order){console.log("Scope Order: "+bs.order),console.log("Order: "+order)}function solicitaCancelacion(ev,folio){$mdDialog.show({controller:"cancelacionCtrl",controllerAs:"can",templateUrl:"cancelacion.html",locals:{folio:folio.Exp_folio},parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0}).then(function(estatus){console.log(estatus),"Cancelado"==estatus?folio.Exp_cancelado=1:"Solicitado"==estatus&&(folio.Exp_solCancela=1)})}var bs=this,mensajeError="Ocurrio un error de conexión intentelo nuevamente";$rootScope.titulo="Consulta de registros",$rootScope.atras=!0,$rootScope.menu="arrow_back",bs.inicio=inicio,bs.buscar=buscar,bs.ordenar=ordenar,bs.solicitaCancelacion=solicitaCancelacion,bs.detalle=[],bs.selected=[],bs.muestraDetalle=function(folio){console.log(folio)}}function busquedaGeneralCtrl($rootScope,registrosGlobales,mensajes,publicfiles,$mdDialog){function buscar(){bs.consultando=!0,""!=bs.datos.folio&&(bs.busqueda="Folio MV: "+bs.datos.folio),""!=bs.datos.folioInt&&(bs.busqueda="Folio Interno: "+bs.datos.folioInt),""!=bs.datos.lesionado&&(bs.busqueda="Lesionado: "+bs.datos.lesionado),bs.consulta=registrosGlobales.get(bs.datos,muestraDatos,error).$promise}function inicio(){bs.datos={unidad:$rootScope.unidad,page:1,folio:"",lesionado:"",limit:10,order:"-Exp_fecreg"},bs.paginacion=[10,20,30,40,50],bs.lesionado="",bs.folio="",bs.consultando=!1,bs.pageSelect=!0}function muestraDatos(response){bs.registros=response.data,bs.limite=response.per_page,bs.pagina=response.current_page,bs.total=response.total,bs.consultando=!1}function error(data){bs.consultando=!1,mensajes.alerta(mensajeError,"error","top right","error")}function ordenar(order){console.log("Scope Order: "+bs.order),console.log("Order: "+order)}function solicitaCancelacion(ev,folio){$mdDialog.show({controller:"cancelacionCtrl",controllerAs:"can",templateUrl:"cancelacion.html",locals:{folio:folio},parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0}).then(function(estatus){"canelado"==estatus?folio.Exp_cancelado=1:"solicitado"==estatus&&(folio.Exp_solCancela=1)})}var bs=this,mensajeError="Ocurrio un error de conexión intentelo nuevamente";$rootScope.titulo="Consulta de registros",$rootScope.atras=!0,$rootScope.menu="arrow_back",bs.inicio=inicio,bs.buscar=buscar,bs.ordenar=ordenar,bs.solicitaCancelacion=solicitaCancelacion,bs.detalle=[],bs.muestraDetalle=function(index,folio){bs.detalle[index]=!bs.detalle[index],bs.dato=folio}}angular.module("app").controller("busquedaCtrl",busquedaCtrl).controller("busquedaGeneralCtrl",busquedaGeneralCtrl),busquedaCtrl.$inject=["$rootScope","registros","mensajes","publicfiles","$mdDialog"],busquedaGeneralCtrl.$inject=["$rootScope","registrosGlobales","mensajes","publicfiles","$mdDialog"]}(),function(){"use strict";function cancelacionCtrl(busqueda,operacion,$rootScope,$mdDialog,folio,mensajes){function buscaMotivos(){busqueda.tiposCancelacion().success(function(data){can.motivos=data})}function cerrar(){$mdDialog.hide(!1)}function enviaSolicitud(){can.datosForm.$valid&&(can.guardando=!0,operacion.solicitaCancelacion(can.datos).success(function(data){mensajes.alerta(data.respuesta,"success","top right","done_all"),can.guardando=!1,$mdDialog.hide(data.estatus)}).error(function(data){mensajes.alerta("Ocurrio un error intentelo nuevamente","error","top right","error"),can.guardando=!1}))}function inicio(){can.guardando=!1,can.datos={usuario:$rootScope.id,folio:folio,motivoId:"",motivo:"",folioSus:"",observaciones:""}}var can=this;can.titulo="Solicitud de cancelación para el folio: "+folio,inicio(),buscaMotivos(),can.buscaMotivos=buscaMotivos,can.cerrar=cerrar,can.enviaSolicitud=enviaSolicitud,can.inicio=inicio}angular.module("app").controller("cancelacionCtrl",cancelacionCtrl),cancelacionCtrl.$inject=["busqueda","operacion","$rootScope","$mdDialog","folio","mensajes"]}(),function(){"use strict";function detalleCtrl($rootScope,datos,busqueda,mensajes,publicfiles,operacion,$mdDialog,$mdBottomSheet){function inicio(){dt.dato=datos.data,dt.imagenes=[],dt.subsecuencias=[],dt.rehabilitaciones=[],dt.codigo=publicfiles+"codigos/"+dt.dato.Exp_folio+".png",dt.isOpen=!1,dt.primera="",dt.seleccionado=!0,dt.seccion=!1,dt.detalle=!0,dt.consultaDetalle=!1,dt.tipo="",dt.porcentaje="",dt.atencionIcon="add",dt.iconPanel="expand_less",cargaDatosFolio(dt.dato.Exp_folio)}function muestraSeccion(page,icon,color){1==dt.dato.Exp_cancelado||1==dt.dato.Exp_solCancela?mensajes.alerta("El folio esta inactivo","error","top right","error"):(dt.page=page,dt.icon=icon,dt.bg=color,dt.seccion=!0,muestraPanel(),$rootScope.atras=!1,$rootScope.menu="menu")}function cierraSeccion(page,icon){dt.seccion=!1,dt.detalle||muestraPanel(),$rootScope.atras=!0,$rootScope.menu="arrow_back"}function muestraPanel(){dt.detalle=!dt.detalle,1==dt.detalle?dt.iconPanel="expand_less":dt.iconPanel="expand_more"}function cargaDatosFolio(folio){busqueda.datosExpediente(folio).then(function(data){console.log(data),dt.tickets=data.tickets,dt.historial=data.historial,dt.autorizaciones=data.autorizaciones,dt.solicitudes=data.solicitudes,dt.primera=data.primera[0],dt.subsecuencias=data.subsecuencias,dt.rehabilitaciones=data.rehabilitaciones},function(error){dt.consultaDetalle=!1,muestraPanel(),mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function nuevaAtencion(){$mdBottomSheet.show({templateUrl:"opcionesGrid.html",controllerAs:"opt",clickOutsideToClose:!0,locals:{primera:dt.primera},controller:function(primera,$mdBottomSheet){var opt=this;console.log(primera),opt.items=[{icon:"filter_1",name:"Primera Atención",disabled:void 0!=primera},{icon:"add_to_queue",name:"Subsecuencia",disabled:void 0==primera},{icon:"directions_walk",name:"Rehabiliticación",disabled:void 0==primera}],opt.opcion=function(index){$mdBottomSheet.hide(index)}}}).then(function(opcion){0==opcion&&nuevaEt1(),1==opcion&&nuevaEt2(),2==opcion&&nuevaEt3()})}function nuevaEt1(){mensajes.alerta("Preparando información","info","top right","work"),operacion.creaAtencion({folio:dt.folio,tipoAtn:1,consecutivo:1}).success(function(data){dt.primera=data}).error(function(error){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function nuevaEt2(){operacion.creaAtencion({folio:dt.folio,tipoAtn:2,consecutivo:dt.subsecuencias.length+1}).success(function(data){dt.subsecuencias.push(data)}).error(function(error){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function nuevaEt3(){operacion.creaAtencion({folio:dt.folio,tipoAtn:3,consecutivo:dt.rehabilitaciones.length+1}).success(function(data){dt.rehabilitaciones.push(data)}).error(function(error){mensajes.alerta("Error de Conexión vuelve a intentar","error","top right","error")})}function solicitudAutorizacion(imagen,ev){$mdDialog.show({templateUrl:"solicitudAutorizacion.html",parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!1,locals:{datos:dt.dato},fullscreen:!0,controller:"solicitudAutorizacionCtrl",controllerAs:"sol"}).then(function(solicitud){dt.solicitudes.push(solicitud)})}var dt=this;$rootScope.titulo="Detalle del Folio: "+datos.data.Exp_folio,$rootScope.atras=!0,$rootScope.menu="arrow_back",dt.folio=datos.data.Exp_folio,dt.producto=datos.data.Pro_clave,dt.secciones=[{nombre:"Atenciones",background:"blueGray400",icon:"folder_shared",col:"1",row:"1",size:"84",page:"atenciones.html"},{nombre:"Autorizaciones",background:"teal",icon:"beenhere",col:"1",row:"1",size:"84",page:"autorizaciones.html"},{nombre:"Problemas",background:"red400",icon:"warning",col:"1",row:"1",size:"84",page:"tickets.html"},{nombre:"Linea de Tiempo",background:"purple400",icon:"toc",col:"1",row:"1",size:"84",page:"timeline.html"}],dt.cierraSeccion=cierraSeccion,dt.inicio=inicio,dt.muestraPanel=muestraPanel,dt.muestraSeccion=muestraSeccion,dt.nuevaAtencion=nuevaAtencion,dt.nuevaEt1=nuevaEt1,dt.nuevaEt2=nuevaEt2,dt.nuevaEt3=nuevaEt3,dt.solicitudAutorizacion=solicitudAutorizacion}angular.module("app").controller("detalleCtrl",detalleCtrl),detalleCtrl.$inject=["$rootScope","datos","busqueda","mensajes","publicfiles","operacion","$mdDialog","$mdBottomSheet"]}(),function(){"use strict";function documentosCtrl($rootScope,$mdDialog,datos){function nuevo(ev){$mdDialog.show({controller:"altaDocumentoCtrl",controllerAs:"ad",templateUrl:"altaDocumento.html",locals:{datos:{tiposDocumento:dc.tiposDocumento,tiposAtencion:dc.tiposAtencion,productos:dc.productos}},parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0})}var dc=this;dc.tiposDocumento=datos[0].data,dc.tiposAtencion=datos[1].data,dc.productos=datos[2].data,$rootScope.titulo="Atenciones - Documentos",$rootScope.atras=!0,$rootScope.menu="arrow_back",dc.nuevo=nuevo}function altaDocumentoCtrl($mdDialog,datos,operacion,mensajes,busqueda,filtro){function toggle(item,list){var idx=list.indexOf(item);idx>-1?list.splice(idx,1):list.push(item)}function exists(item,list){return list.indexOf(item)>-1}function inicio(){ad.index=0,ad.guardado=!1,ad.guardando=!1,ad.datos={producto:"",atencion:"",documentos:[]}}function cancel(){$mdDialog.hide()}function guardar(){ad.guardando=!0,operacion.guardaDocumento(ad.datos).success(function(data){ad.guardado=!0,ad.guardando=!1,mensajes.alerta(data.flash,"success","top right","done_all"),inicio()}).error(function(error){ad.guardando=!1,mensajes.alerta("Ocurrio un error intentalo nuevamente","error","top right","error")})}function siguiente(){ad.datos.producto&&0==ad.index?ad.index++:ad.datos.atencion&&1==ad.index&&verificaDocumentos()}function verificaDocumentos(){busqueda.productoAtencionDocumentos(ad.datos).then(function(respuesta){var documentosSeleccionados=respuesta.data;agregarExistencias(documentosSeleccionados),ad.index++},function(error){mensajes.alerta("Ocurrio un error intentalo nuevamente","error","top right","error")})}function agregarExistencias(datos){angular.forEach(datos,function(dato,clave){console.log(dato.TID_clave);var documento=filtro.consulta(ad.tiposDocumento,dato.TID_clave);ad.datos.documentos.push(documento)})}var ad=this;ad.productos=datos.productos,ad.tiposDocumento=datos.tiposDocumento,ad.tiposAtencion=datos.tiposAtencion,ad.cancel=cancel,ad.inicio=inicio,ad.guardar=guardar,ad.toggle=toggle,ad.exists=exists,ad.siguiente=siguiente,inicio()}angular.module("app").controller("documentosCtrl",documentosCtrl).controller("altaDocumentoCtrl",altaDocumentoCtrl),documentosCtrl.$inject=["$rootScope","$mdDialog","datos"],altaDocumentoCtrl.$inject=["$mdDialog","datos","operacion","mensajes","busqueda","filtro"]}(),function(){"use strict";function estadisticasCtrl($rootScope,$mdDialog,datos,reportes,fechas){function cargaInfo(){et.cargandoInfo=!0,fechas.fechaIni=et.fechaIni,fechas.fechaFin=et.fechaFin,reportes.estadisticasXfecha(et.fechaIni,et.fechaFin).then(function(res){et.cargandoInfo=!1,et.datos=res.data},function(err){})}function inicio(){et.cargandoInfo=!1,et.fechaIni=new Date(moment(fechas.fechaIni).format()),et.fechaFin=new Date(moment(fechas.fechaFin).format()),et.datos=et.info[2].data,et.meses={data:et.info[1].data,type:"serial",categoryField:"MES",rotate:!1,legend:{enabled:!1},chartScrollbar:{enabled:!1},graphs:[{type:"column",title:"Cantidad",valueField:"Cantidad",fillAlphas:.9,balloonText:"[[category]]<br><b>Atenciones: [[value]]</b>"}]},et.semanas={data:et.info[0].data,type:"serial",categoryField:"Semana",rotate:!1,legend:{enabled:!1},chartScrollbar:{enabled:!1},graphs:[{type:"column",title:"Cantidad",valueField:"Cantidad",fillAlphas:.9,balloonText:"[[category]]<br><b>Atenciones: [[value]]</b>"}]}}var et=this;et.info=datos,et.inicio=inicio,et.cargaInfo=cargaInfo,inicio(),$rootScope.titulo="Estadisticas",$rootScope.atras=!0,$rootScope.menu="arrow_back"}function estadisticaCtrl($rootScope,datos,$stateParams){var es=this;es.datos=datos.data,es.tipo=$stateParams.tipo,$rootScope.atras=!0,$rootScope.menu="arrow_back","documentos"==es.tipo?$rootScope.titulo="Detalle de Atenciones Sin Documentos":"autorizar"==es.tipo?$rootScope.titulo="Detalle de Atenciones Con Documentos Sin Autorizar":"factura"==es.tipo?$rootScope.titulo="Detalle de Atenciones Autorizadas Sin Facturar":"rechazo"==es.tipo?$rootScope.titulo="Detalle de Atenciones Rechazadas":"sinAtn"==es.tipo?$rootScope.titulo="Detalle de Expedientes Sin Registrar Atención":"revisionFac"==es.tipo?$rootScope.titulo="Detalle de Atenciones Con Factura en Revisión":"facturaAut"==es.tipo?$rootScope.titulo="Detalle de Atenciones Con Factura Autorizada":"facturaRec"==es.tipo?$rootScope.titulo="Detalle de Atenciones Con Factura Rechazada":"pagados"==es.tipo&&($rootScope.titulo="Detalle de Atenciones Pagadas")}angular.module("app").controller("estadisticasCtrl",estadisticasCtrl).controller("estadisticaCtrl",estadisticaCtrl),estadisticasCtrl.$inject=["$rootScope","$mdDialog","datos","reportes","fechas"],estadisticaCtrl.$inject=["$rootScope","datos","$stateParams"]}(),function(){"use strict";function formatosCtrl($rootScope,$mdDialog){function muestraArchivo(archivo,carpeta,ev){var imagen={archivo:carpeta,clave:archivo};$mdDialog.show({templateUrl:"visor.html",parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,locals:{imagen:imagen},fullscreen:!0,controller:"visorCtrl"})}var fr=this;$rootScope.tema="theme1",$rootScope.titulo="Fomatos",$rootScope.atras=!0,$rootScope.menu="arrow_back",fr.ejercicios=[{carpeta:"ejercicios",nombre:"Cadera y Rodilla",archivo:"Cadera_Rodilla.pdf"},{carpeta:"ejercicios",nombre:"Higiene de Columna",archivo:"Higiene_Columna.pdf"},{carpeta:"ejercicios",nombre:"Columna Cervical",archivo:"Columna_Cervical.pdf"},{carpeta:"ejercicios",nombre:"Hombro",archivo:"Hombro.pdf"},{carpeta:"ejercicios",nombre:"Codo, Mano , y Muñeca",archivo:"Codo_Mano_Muneca.pdf"},{carpeta:"ejercicios",nombre:"Tobillo y Pie",archivo:"Tobillo_Pie.pdf"},{carpeta:"ejercicios",nombre:"Columna Dorsolumbar",archivo:"Columna_Dorsolumbar.pdf"}],fr.muestraArchivo=muestraArchivo,fr.video=function(ev,opcion){switch(opcion){case 1:var video="http://medicavial.net/mvred/videos/3_Numero_de%20faltas_y_retardos%20LIC_MARIANA_SANCHEZ.mp4";break;case 2:var video="http://medicavial.net/mvred/videos/5_Expedientes_completos_ING_ALFREDO_GUTIERREZ.mp4";break;case 3:var video="http://medicavial.net/mvred/videos/7_Tiempo_de_espera_ING_ALFREDO_GUTIERREZ.mp4"}$mdDialog.show({controller:"archivoCtrl",controllerAs:"vi",templateUrl:"videos.html",locals:{video:video},parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0})},fr.directorio=function(ev){$mdDialog.show({templateUrl:"directorio.html",parent:angular.element(document.body),targetEvent:ev,clickOutsideToClose:!0,fullscreen:!0,controller:function($scope,$mdDialog){$scope.cerrar=function(){$mdDialog.cancel()}}})}}function archivoCtrl($mdDialog,video){var vi=this;vi.video=video,vi.options={loop:!0},vi.info={sources:[{src:video,type:"video/mp4"}]},vi.cancel=function(){$mdDialog.hide()}}angular.module("app").controller("formatosCtrl",formatosCtrl).controller("archivoCtrl",archivoCtrl),formatosCtrl.$inject=["$rootScope","$mdDialog"],archivoCtrl.$inject=["$mdDialog","video"]}(),function(){"use strict";function homeCtrl($rootScope){var hm=this;$rootScope.tema="theme1",$rootScope.titulo="Bienvenido",hm.secciones=[{nombre:"Registro",background:"blueG",icon:"assignment",col:"2",row:"1",size:"104",permiso:!0,url:"index.registro"},{nombre:"Formatos",background:"greenG",icon:"insert_drive_file",col:"2",row:"1",size:"84",permiso:!0,url:"index.formatos"},{nombre:"Ayuda",background:"orangeG",icon:"help",col:"2",row:"1",size:"84",permiso:!0,url:"index.ayuda"},{nombre:"Expediente",background:"redG",icon:"search",col:"2",row:"1",size:"84",permiso:!0,url:"index.busqueda"},{nombre:"Conciliación",background:"grayG",icon:"attach_money",col:"1",row:"1",size:"84",permiso:"S"==$rootScope.permisos.Per_admin,url:"index.registro"},{nombre:"Estadistica",background:"yellowG",icon:"show_chart",col:"1",row:"1",size:"84",permiso:!0,url:"index.estadisticas"}],hm.seccionesAdmin=[{nombre:"Consulta General",background:"bgm-brown",icon:"search",col:"2",row:"1",size:"84",permiso:"S"==$rootScope.permisos.Per_buscarUnidades,url:"index.busquedaGeneral"},{nombre:"Alta Documentos",background:"bgm-indigo",icon:"style",col:"1",row:"1",size:"84",permiso:"S"==$rootScope.permisos.Per_admin,url:"index.documentos"},{nombre:"Alta Requisitos",background:"bgm-deeppurple",icon:"featured_play_list",col:"1",row:"1",size:"84",permiso:"S"==$rootScope.permisos.Per_admin,url:"index.requisitos"},{nombre:"Valida Imagen",background:"bgm-green",icon:"image",col:"1",row:"1",size:"84",permiso:"S"==$rootScope.permisos.Per_admin,url:"index.imagen"}]}angular.module("app").controller("homeCtrl",homeCtrl),homeCtrl.$inject=["$rootScope"]}(),function(){"use strict";function imagenCtrl(operacion){function analizaArchivo(archivo,ev){operacion.imagenOCR(archivo).then(function(resp){console.log(resp)},function(err){console.log(err)})}var img=this;img.analizaArchivo=analizaArchivo}angular.module("app").controller("imagenCtrl",imagenCtrl),imagenCtrl.$inject=["operacion"]}(),function(){"use strict";function loginCtrl(auth,$rootScope){var sesion=this;$rootScope.cargando=!1,$rootScope.tema="theme1",sesion.inicio=function(){sesion.datos={usuario:"",psw:"",guardar:!1}},sesion.login=function(){sesion.loginForm.$valid&&($rootScope.cargando=!0,auth.login(sesion.datos))}}angular.module("app").controller("loginCtrl",loginCtrl),loginCtrl.$inject=["auth","$rootScope"]}(),function(){"use strict";function registroCtrl($rootScope,datos,busqueda,$mdDialog,$q,$filter,operacion,mensajes,publicfiles,$mdpDatePicker,ayuda){function agregaTelefono(ev){$mdDialog.show({controller:"telefonoCtrl",controllerAs:"tel",templateUrl:"agregaTelefono.html",parent:angular.element(document.body),targetEvent:ev,locals:{tipos:vm.tipos,telefonos:vm.telefonos},clickOutsideToClose:!1,fullscreen:!0}).then(function(telefonos){vm.telefonos=telefonos})}function buscaAjustador(query){var q=$q.defer(),response=query?$filter("filter")(vm.ajustadores,query):vm.ajustadores;return q.resolve(response),q.promise}function confirmaProducto(producto){vm.errorInfo?(mensajes.alerta(error,"error","top right","alert"),consultaInfo()):(vm.tabActual=2,vm.step1block=!0,vm.step2block=!0,vm.step3block=!1,vm.imagenProducto=producto.Pro_img,vm.datos.producto=producto.Pro_clave,$rootScope.modoGuiado&&ayuda.registro1("Ayuda para llenar formato de registro"),console.log(vm.datos.cliente),19==vm.datos.cliente&&busqueda.listadoQWS().success(function(data){data.length>0?preRegistro(data):console.log("sin datos")}))}function preRegistro(datos){$mdDialog.show({controller:"preregistroCtrl",controllerAs:"prereg",templateUrl:"preRegistro.html",parent:angular.element(document.body),locals:{listado:datos},clickOutsideToClose:!1,escapeToClose:!1,fullscreen:!0})}function consultaInfo(){var tipos=busqueda.tipos(),riesgos=busqueda.riesgos(),ajustadores=busqueda.ajustadores();$q.all([tipos,riesgos,ajustadores]).then(function(data){vm.tipos=data[0].data,vm.riesgos=data[1].data,vm.ajustadores=data[2].data},function(error){vm.errorInfo=!0})}function detalleAjustador(ajustador){void 0!=ajustador?(vm.datoSiniestro.ajustador=ajustador.AJU_nombre,vm.datoSiniestro.telAjustador=ajustador.AJU_tel,vm.datoSiniestro.cveAjustador=ajustador.AJU_clavease,vm.datoSiniestro.cveAjustadorMv=ajustador.AJU_claveint,vm.ajustadorExiste=!0):(vm.ajustadorExiste=!1,vm.datoSiniestro.telAjustador="",vm.datoSiniestro.cveAjustador="",vm.datoSiniestro.cveAjustadorMv="")}function guardaPaciente(){if(vm.registroForm.$valid){console.log(vm.datos.fechaNac);var d=new Date(vm.datos.fechaNac),dia=d.getDate(),mes=d.getMonth()+1,anio=d.getFullYear();dia<10&&(dia="0"+dia),mes<10&&(mes="0"+mes),vm.datos.fechaNacReg=anio+"-"+mes+"-"+dia,console.log(vm.datos.fechaNacReg),vm.guardando=!0,operacion.registroPaciente(vm.datos).success(function(data){vm.guardando=!1,vm.step4block=!1,vm.tabActual=3,vm.step3block=!0,vm.datoSiniestro.folio=data.folio,vm.imagenFolio=publicfiles+data.codigo,vm.registro=data.registro,$rootScope.modoGuiado&&ayuda.registro1("Ayuda para guardar datos de siniestro"),mensajes.alerta(data.respuesta,"success","top right","done_all")}).error(function(error){vm.guardando=!1,error?mensajes.alerta(error,"error","top right","done_all"):mensajes.alerta(mensajeError,"error","top right","done_all")})}}function guardaSiniestro(){vm.siniestroForm.$valid&&(vm.datoSiniestro.ajustador.toUpperCase(),vm.guardando=!0,operacion.registroSiniestro(vm.datoSiniestro).success(function(data){vm.guardando=!1,vm.step5block=!1,vm.tabActual=4,vm.step4block=!0,mensajes.alerta(data.respuesta,"success","top right","done_all")}).error(function(error){vm.guardando=!1,mensajes.alerta(mensajeError,"error","top right","done_all")}))}function inicio(){vm.step1block=!1,vm.step2block=!0,vm.step3block=!0,vm.step4block=!0,vm.step5block=!0,vm.consultando=!1,vm.guardando=!1,vm.ajustadorExiste=!1,vm.errorInfo=!1,vm.tabActual=0,vm.telefonos=[],vm.productos=[],vm.imagenCliente="",vm.imagenProducto="",vm.imagenFolio="",vm.compania="",vm.registro="",vm.vigencia=0,vm.datos={unidad:$rootScope.unidad,localidad:$rootScope.localidad,usuario:$rootScope.id,cliente:"",producto:"",telefono:"",telefonos:vm.telefonos,correo:"",nombre:"",apaterno:"",amaterno:"",folioInterno:"",fechaNac:new Date(vm.fecha),fechaNacReg:""},vm.datoSiniestro={folio:"",tipotel:"",poliza:"",localidad:$rootScope.localidad,cliente:vm.datos.cliente,folioElec:"",inciso:"",siniestro:"",reporte:"",orden:"",bitacora:"",ilejible:!1,ajustador:"",ajustadorId:"",cveAjustador:"",cveAjustadorMv:"",telAjustador:"",bitacora:"",observaciones:"",deducible:!1,reporte:"",observacionesDeducible:"",fechaAtencion:"",fechaExp:"",extemporaneo:!1,motivoEx:""},consultaInfo(),$rootScope.modoGuiado&&ayuda.registro1("Ayuda para seleccionar el cliente")}function resetForms(){vm.registroForm.$setPristine(),vm.siniestroForm.$setPristine(),inicio()}function verificaObligatorio(){return""==vm.datoSiniestro.siniestro&&""==vm.datoSiniestro.bitacora&&""==vm.datoSiniestro.reporte}function verificaProducto(cliente){vm.productos=[],vm.consultando=!0,vm.tabActual=1,vm.step2block=!1,vm.errorInfo&&consultaInfo(),busqueda.productosCliente(cliente.Cia_clave,vm.datos.localidad).success(function(data){
if(vm.productos=data,vm.consultando=!1,vm.datos.cliente=cliente.Cia_clave,vm.imagenCliente=cliente.Cia_logo,vm.compania=cliente.Cia_nombrecorto,vm.vigencia=cliente.Cia_vigenciaPase,1==vm.productos.length){var producto=vm.productos[0];confirmaProducto(producto)}else $rootScope.modoGuiado&&ayuda.registro1("Ayuda para selección de producto")})}function verificaVigencia(){var fecha1=moment(),fecha2=moment(vm.datoSiniestro.fechaExp),dias=fecha1.diff(fecha2,"days");console.log(dias),console.log(vm.vigencia),dias>vm.vigencia&&mensajes.alerta("El pase esta vencido","error","top right","report_problem")}var vm=this;vm.fecha=moment().subtract(25,"year");var mensajeError=(new Date(vm.fecha),"Ocurrio un error al guardar intentelo nuevamente");$rootScope.titulo="Registro de Paciente",$rootScope.atras=!0,$rootScope.menu="arrow_back",vm.clientes=datos.clientes,vm.paso1="registroPaso1.html",vm.paso2="registroPaso2.html",vm.paso3="registroPaso3.html",vm.paso4="registroPaso4.html",vm.inicio=inicio,vm.agregaTelefono=agregaTelefono,vm.buscaAjustador=buscaAjustador,vm.confirmaProducto=confirmaProducto,vm.guardaPaciente=guardaPaciente,vm.guardaSiniestro=guardaSiniestro,vm.verificaProducto=verificaProducto,vm.detalleAjustador=detalleAjustador,vm.resetForms=resetForms,vm.consultaInfo=consultaInfo,vm.verificaObligatorio=verificaObligatorio,vm.verificaVigencia=verificaVigencia,vm.preRegistro=preRegistro,$rootScope.prellenaDatos=function(datos){vm.datoSiniestro.poliza=datos.QWS_poliza,vm.datoSiniestro.folioElec=datos.QWS_folioElectronico,vm.datoSiniestro.siniestro=datos.QWS_siniestro,vm.datoSiniestro.reporte=datos.QWS_reporte,console.log(vm.datoSiniestro)}}function preregistroCtrl($rootScope,$scope,$mdDialog,listado){$scope.listado=listado,$scope.seleccion=0,$scope.datosPre=function(id){for(var i=0;i<listado.length;i++)if(listado[i].QWS_id==id){$scope.datosLesionado=listado[i];break}},$scope.cerrarDialogo=function(){$mdDialog.hide()},$scope.confirmaDatos=function(){$rootScope.prellenaDatos($scope.datosLesionado),$mdDialog.hide()}}function telefonoCtrl($mdDialog,tipos,telefonos,mensajes){function inicio(){tel.telefono="",tel.tipoTel=""}function agregaTelefono(){tel.telefonos.push({telefono:tel.telefono,tipo:tel.tipoTel.TT_clave,nombre:tel.tipoTel.TT_tipotelefono}),inicio()}function ingresa(){""==tel.telefono?$mdDialog.hide(tel.telefonos):confirm("No has agregado el numero que acabas de escribir ¿deseas salir?")&&$mdDialog.hide(tel.telefonos)}var tel=this;tel.tipos=tipos,tel.telefonos=telefonos,inicio(),tel.inicio=inicio,tel.agregaTelefono=agregaTelefono,tel.ingresa=ingresa}angular.module("app").controller("registroCtrl",registroCtrl).controller("telefonoCtrl",telefonoCtrl).controller("preregistroCtrl",preregistroCtrl),registroCtrl.$inject=["$rootScope","datos","busqueda","$mdDialog","$q","$filter","operacion","mensajes","publicfiles","$mdpDatePicker","ayuda"],telefonoCtrl.$inject=["$mdDialog","tipos","telefonos","mensajes"],preregistroCtrl.$inject=["$rootScope","$scope","$mdDialog","listado"]}(),function(){"use strict";function solicitudAutorizacionCtrl(datos,operacion,mensajes,$rootScope,$mdDialog){function cancelar(){$mdDialog.cancel()}function inicio(){sol.files=[],sol.documentos=[],sol.nombredoc="",sol.mensaje="",sol.clavesolicitud="",sol.folio=datos.Exp_folio,sol.tabActual=0,sol.step1block=!1,sol.step2block=!0,sol.step3block=!0,sol.step4block=!0,sol.step5block=!0,sol.paso1="solicitudPaso1.html",sol.paso2="solicitudPaso2.html",sol.datos={usuario:$rootScope.id,folio:datos.Exp_folio,lesionado:datos.Exp_completo,tipo:"",cliente:datos.Cia_clave,clientenombre:datos.Cia_nombrecorto,interconsulta:{tipo:"",embarazo:"",controlgineco:"NO",semanas:4,dolorabdominal:"NO",frecuencia:"",movimientosfetales:"",observaciones:""},estudio:{tipo:"",detalle:""},rehabilitacion:{dolor:0,rehabilitaciones:0,mejora:0},suministro:{detalle:""},informacion:{notamedica:!1,rx:!1,resultados:!1,detalle:""},salidapaquete:{detalle:""},problemadocumental:{pase:!1,identificacion:!1,detalle:""},diagnostico:"",justificacion:"",soporte:sol.documentos},sol.ultimo="Lesionado",sol.index=0,sol.buscar=!1,sol.tiposDocumentos=datos.data}function mensaje(){sol.tipo=!1;var valor=sol.datos.tipo;switch(valor){case"4":sol.mensajetipo="Te recordamos que dentro del paquete pactado está incluida la atención inicial y subsecuente por médico traumatólogo o urgenciólogo. Así como también la consulta de valoración por médico de cualquier otra especialidad, en caso de requerir tratamiento de una especialidad distinta a Traumatología y Ortopedia por favor solicita una salida de paquete.",sol.tipo=!0;break;case"3":sol.mensajetipo="Te recordamos que los Rx están conveniados dentro del paquete.",sol.tipo=!0;break;case"1":sol.mensajetipo="Según su lesión y siguiendo el criterio y las indicaciones del médico tratante es recomendable proporcionarle al lesionado ejercicio para realizar por su cuenta. Aunado a lo anterior les recordamos que las primeras cinco sesiones de rehabilitación están previamente convenidas dentro del paquete.",sol.tipo=!0;break;case"9":sol.mensajetipo="Pendiente",sol.tipo=!0;break;case"11":sol.mensajetipo="La coordinación médica es quien dictaminará, en su caso, la entrega o rechazo de informes médicos y estudios a los pacientes, de acuerdo a las indicaciones de cada compañía de seguros.",sol.tipo=!0;break;case"21":sol.mensajetipo="Se debe solicitar salida de paquete cuando el tratamiento amerite periodo de tiempo en corta estancia, observación, hospitalización o procedimientos quirúrgicos, terapia intermedia o intensiva.",sol.tipo=!0;break;case"2":sol.mensajetipo="Pendiente",sol.tipo=!0;break;default:sol.mensajetipo="",sol.tipo=!1}}function siguiente(){0==sol.tabActual&&""!=sol.datos.tipo?(sol.step2block=!1,sol.tabActual++):1==sol.tabActual?(sol.step3block=!1,sol.tabActual++):2==sol.tabActual?(sol.step4block=!1,sol.tabActual++):3==sol.tabActual&&(sol.step5block=!1,sol.tabActual++)}function solicitar(){sol.guardando=!0,operacion.ingresaSolicitud(sol.datos).success(function(data){sol.guardando=!1,mensajes.alerta("Datos Guardados Correctamente","success","top right","done_all"),$mdDialog.hide(data)}).error(function(error){mensajes.alerta("Ocurrio un error intentalo nuevamente","error","top right","error"),sol.guardando=!1})}function subirDigitales(file,ev){files.length>0&&(atn.subiendoImagen=!0,operacion.subirImagenesSolicitud(files).then(function(datos){atn.imagenes.push(datos),mensajes.alerta("Imagen subida correctamente","success","top right","done_all"),atn.porcentaje="",atn.subiendoImagen=!1,atn.tipo="",atn.files=[]},function(error){mensajes.alerta(error,"error","top right","error"),atn.porcentaje="",atn.subiendoImagen=!1},function(porcentaje){atn.porcentaje=porcentaje}))}function eliminaImagen(index){sol.documentos.splice(index,1)}var sol=this;sol.titulo="Solicitud de Autorización",sol.inicio=inicio,sol.mensaje=mensaje,sol.siguiente=siguiente,sol.subirDigitales=subirDigitales,sol.eliminaImagen=eliminaImagen,sol.solicitar=solicitar,sol.cancelar=cancelar}angular.module("app").controller("solicitudAutorizacionCtrl",solicitudAutorizacionCtrl),solicitudAutorizacionCtrl.$inject=["datos","operacion","mensajes","$rootScope","$mdDialog"]}(),function(){"use strict";function visorCtrl($scope,$mdDialog,imagen,registro){console.log(imagen),$scope.archivo=imagen.archivo,$scope.imagen=imagen.clave,$scope.cerrar=function(){$mdDialog.cancel()},$scope.picture=function(){var extn=$scope.imagen.split(".").pop();return"jpg"==extn||"jpeg"==extn||"png"==extn||"PNG"==extn},$scope.file=function(){var extn=$scope.imagen.split(".").pop();return"pdf"==extn||"PDF"==extn},$scope.obtenerFrame=function(src){return registro+$scope.archivo+"/"+$scope.imagen}}angular.module("app").controller("visorCtrl",visorCtrl),visorCtrl.$inject=["$scope","$mdDialog","imagen","registro"]}(),function(){"use strict";angular.module("app").directive("dragEnd",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,modelCtrl){var functionToCall=scope.$eval(attrs.dragEnd);element.on("$md.dragend",function(){functionToCall(modelCtrl.$viewValue)}),element.on("click",function(){functionToCall(modelCtrl.$viewValue)})}}})}(),function(){"use strict";angular.module("app").directive("backButton",["$window",function($window){return{restrict:"A",link:function(scope,elem){elem.bind("click",function(){$window.history.back()})}}}])}(),function(){"use strict";angular.module("app").directive("bloqueo",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,modelCtrl){var caracter=scope.$eval(attrs.bloqueo);element.on("keydown",function(e){e.keyCode==caracter&&e.preventDefault()})}}})}(),function(){"use strict";angular.module("app").directive("expandColor",function($animate){function link(scope,element,attrs){var color=attrs.expandColor;console.log(color),element.on("click",function(){var iDiv=document.createElement("div");iDiv.className="box",element.append(iDiv),angular.element(iDiv).addClass(color),angular.element(iDiv).addClass("active")})}return{link:link}})}(),function(){"use strict";angular.module("app").directive("folio",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,modelCtrl){var rellenaFolio=function(folio){if(""!==folio){var totalletras=folio.length,letras=folio.substr(0,4),numeros=folio.substr(4,totalletras);if(letras.length<4)for(var faltantes=4-letras.length,i=0;i<faltantes;i++){letras.charAt(i);letras+="0"}if(numeros.length<6)for(var faltantes=6-numeros.length,i=0;i<faltantes;i++)numeros="0"+numeros;return folio=letras+numeros}return folio};element.on("blur",function(){if(modelCtrl.$modelValue.length>3){var nuevo=rellenaFolio(modelCtrl.$modelValue);modelCtrl.$setViewValue(nuevo.toUpperCase()),modelCtrl.$render(),scope.$apply()}}),element.on("keydown",function(e){if(modelCtrl.$modelValue){var cantidad=modelCtrl.$modelValue.length;if(cantidad<4)e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105?e.preventDefault():element.css("text-transform","uppercase");else if(cantidad>3&&cantidad<10){if(e.keyCode>=65&&e.keyCode<=90)e.preventDefault();else if(13==e.keyCode){var nuevo=rellenaFolio(modelCtrl.$modelValue);modelCtrl.$setViewValue(nuevo.toUpperCase()),modelCtrl.$render(),scope.$apply()}}else(e.keyCode>=65&&e.keyCode<=90||e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105)&&e.preventDefault()}})}}})}(),function(){"use strict";angular.module("app").directive("imageonload",function(){return{restrict:"A",link:function(scope,element){element.on("load",function(){element.removeClass("spinner-hide"),element.addClass("spinner-show"),element.parent().find("span").remove()}),scope.$watch("ngSrc",function(){element.addClass("spinner-hide")})}}}).directive("ngMouseWheelUp",function(){return function(scope,element,attrs){element.bind("DOMMouseScroll mousewheel onmousewheel",function(event){var event=window.event||event,delta=Math.max(-1,Math.min(1,event.wheelDelta||-event.detail));delta>0&&(scope.$apply(function(){scope.$eval(attrs.ngMouseWheelUp)}),event.returnValue=!1,event.preventDefault&&event.preventDefault())})}}).directive("ngMouseWheelDown",function(){return function(scope,element,attrs){element.bind("DOMMouseScroll mousewheel onmousewheel",function(event){var event=window.event||event,delta=Math.max(-1,Math.min(1,event.wheelDelta||-event.detail));delta<0&&(scope.$apply(function(){scope.$eval(attrs.ngMouseWheelDown)}),event.returnValue=!1,event.preventDefault&&event.preventDefault())})}})}(),function(){"use strict";angular.module("app").directive("mayusculas",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){element.bind("blur",function(){var inputValue=modelCtrl.$modelValue;if(inputValue){var capitalized=inputValue.toUpperCase();capitalized!==inputValue&&(modelCtrl.$setViewValue(capitalized),modelCtrl.$render())}}),element.css("text-transform","uppercase")}}})}(),function(){"use strict";angular.module("app").directive("dinero",function(){function link(scope,el,attrs,ngModelCtrl){function round(num){var d=Math.pow(10,precision);return Math.round(num*d)/d}function formatPrecision(value){return parseFloat(value).toFixed(precision)}function formatViewValue(value){return ngModelCtrl.$isEmpty(value)?"":""+value}var lastValidValue,min=parseFloat(attrs.min||0),precision=parseFloat(attrs.precision||2);ngModelCtrl.$parsers.push(function(value){0===value.indexOf(".")&&(value="0"+value),0===value.indexOf("-")&&(min>=0?(value=null,ngModelCtrl.$setViewValue(""),ngModelCtrl.$render()):"-"===value&&(value=""));var empty=ngModelCtrl.$isEmpty(value);return empty||NUMBER_REGEXP.test(value)?lastValidValue=""===value?null:empty?value:parseFloat(value):(ngModelCtrl.$setViewValue(formatViewValue(lastValidValue)),ngModelCtrl.$render()),ngModelCtrl.$setValidity("number",!0),lastValidValue}),ngModelCtrl.$formatters.push(formatViewValue);var minValidator=function(value){return!ngModelCtrl.$isEmpty(value)&&value<min?void ngModelCtrl.$setValidity("min",!1):(ngModelCtrl.$setValidity("min",!0),value)};if(ngModelCtrl.$parsers.push(minValidator),ngModelCtrl.$formatters.push(minValidator),attrs.max){var max=parseFloat(attrs.max),maxValidator=function(value){return!ngModelCtrl.$isEmpty(value)&&value>max?void ngModelCtrl.$setValidity("max",!1):(ngModelCtrl.$setValidity("max",!0),value)};ngModelCtrl.$parsers.push(maxValidator),ngModelCtrl.$formatters.push(maxValidator)}precision>-1&&(ngModelCtrl.$parsers.push(function(value){return value?round(value):value}),ngModelCtrl.$formatters.push(function(value){return value?formatPrecision(value):value})),el.bind("blur",function(){var value=ngModelCtrl.$modelValue;value&&(ngModelCtrl.$viewValue=formatPrecision(value),ngModelCtrl.$render())})}var NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/;return{restrict:"A",require:"ngModel",link:link}})}(),function(){"use strict";angular.module("app").directive("ngMorphingModal",function(){var randLetter=String.fromCharCode(65+Math.floor(26*Math.random()));randLetter+Date.now();return{replace:!0,restrict:"AE",scope:{contentSelector:"@"},link:function(scope,element,attributes){new MorphingModal({selectorId:'[data-type="modal-trigger"]',selectorObj:$('[data-type="modal-trigger"]'),contentSelector:scope.contentSelector,onAfterClose:null,onAfterOpen:function(){}})},templateUrl:"../js/td-modal.html"}})}(),function(){"use strict";angular.module("app").directive("numero",function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,modelCtrl){element.on("keydown",function(e){(e.keyCode>=65&&e.keyCode<=90||110==e.keyCode||190==e.keyCode||189==e.keyCode)&&e.preventDefault()})}}})}(),function(){"use strict";angular.module("app").directive("portada",["$window",function($window){return{restrict:"A",link:function(scope,elem){elem.bind("click",function(){$window.history.back()})}}}])}(),function(){"use strict";function auth($http,api,$state,webStorage,$rootScope,mensajes){return{login:function(credenciales){$http.post(api+"login",credenciales).success(function(data){webStorage.local.clear(),$rootScope.cargando=!1,webStorage.session.add("username",data.Usu_login),webStorage.session.add("nombre",data.Usu_nombre),webStorage.session.add("id",data.Usu_login),webStorage.session.add("localidad",data.LOC_claveint),webStorage.session.add("unidad",data.Uni_clave),webStorage.session.add("nombreUni",data.Uni_nombrecorto),webStorage.session.add("permisos",JSON.stringify(data)),$rootScope.username=webStorage.session.get("username"),$rootScope.nombre=webStorage.session.get("nombre"),$rootScope.id=webStorage.session.get("id"),$rootScope.localidad=webStorage.session.get("localidad"),$rootScope.unidad=webStorage.session.get("unidad"),$rootScope.nombreUni=webStorage.session.get("nombreUni"),$rootScope.permisos=JSON.parse(webStorage.session.get("permisos")),credenciales.guardar&&webStorage.local.add("usuario",JSON.stringify(data)),$state.go("index.home")}).error(function(data){data?mensajes.alerta(data.flash,"error center-dialog","top","error"):mensajes.alerta("Error en conexión intentalo nuevamente","error center-dialog","top","error"),$rootScope.cargando=!1})},logout:function(){webStorage.session.clear(),$http.get(api+"logout"),$state.go("login")},verify:function(api){}}}angular.module("app").factory("auth",auth)}(),function(){"use strict";function ayuda($mdDialog){function registro1(titulo){$mdDialog.show({templateUrl:"ayudaDialog.html",controllerAs:"vm",controller:function($mdDialog){var vm=this;vm.titulo=titulo,vm.cancelar=function(){$mdDialog.cancel()}},parent:angular.element(document.body),clickOutsideToClose:!0,fullscreen:!0})}var servicio={registro1:registro1};return servicio}angular.module("app").factory("ayuda",ayuda)}(),function(){"use strict";function busqueda($http,$rootScope,api,$q,$filter){function serializeObj(obj){var result=[];for(var property in obj)result.push(encodeURIComponent(property)+"="+encodeURIComponent(obj[property]));return result.join("&")}function ajustadores(){return $http.get(api+"busqueda/ajustadores/"+$rootScope.localidad,{timeout:1e4})}function productoAtencionDocumentos(datos){var parametros=serializeObj(datos);return $http.get(api+"busqueda/productoAtencionDocumentos?"+parametros,{timeout:1e4})}function clientes(){return $http.get(api+"busqueda/clientes",{timeout:1e4})}function datosExpediente(folio){var promesa=$q.defer(),atenciones=$http.get(api+"busqueda/atenciones/"+folio,{timeout:1e4}),historial=$http.get(api+"busqueda/historial/"+folio,{timeout:1e4}),autorizaciones=$http.get(api+"busqueda/autorizaciones/"+folio,{timeout:1e4}),tickets=$http.get(api+"busqueda/tickets/"+folio,{timeout:1e4}),solicitudes=$http.get(api+"busqueda/solicitudes/"+folio,{timeout:1e4});return $q.all([tickets,historial,autorizaciones,atenciones,solicitudes]).then(function(data){var atenciones=data[3].data,primera=$filter("filter")(atenciones,{TIA_clave:1}),subsecuencias=$filter("filter")(atenciones,{TIA_clave:2}),rehabilitaciones=$filter("filter")(atenciones,{TIA_clave:3}),datos={tickets:data[0].data,historial:data[1].data,autorizaciones:data[2].data,solicitudes:data[4].data,primera:primera,subsecuencias:subsecuencias,rehabilitaciones:rehabilitaciones};promesa.resolve(datos)},function(error){promesa.reject("error en conexión")}),promesa.promise}function detalleAtencion(atencion){var promesa=$q.defer(),lesion=tipoLesion(),detalle=$http.get(api+"busqueda/detalleAtencion/"+atencion);return $q.all([detalle,lesion]).then(function(datos){var datos={tipos:datos[0].data.tipos,imagenes:datos[0].data.imagenes,info:datos[0].data.info,requisitos:datos[0].data.requisitos,anotaciones:datos[0].data.anotaciones,lesiones:datos[1].data,pdf:datos[0].data.pdf,xml:datos[0].data.xml,datosXML:datos[0].data.datosXML};promesa.resolve(datos)},function(error){promesa.reject("error en conexión")}),promesa.promise}function detalleFolio(folio){return $http.get(api+"busqueda/detalleFolio/"+folio,{timeout:1e4})}function documentosAtencion(atencion,producto){return $http.get(api+"busqueda/documentos/"+atencion+"/"+producto,{timeout:1e4})}function documentoSolicitud(){return $http.get(api+"busqueda/documentoSolicitud",{timeout:1e4})}function lesionCodificada(lesion){return $http.get(api+"busqueda/lesionCodificada/"+lesion,{timeout:1e4})}function lesionMV(tipo){return $http.get(api+"busqueda/lesionMV/"+tipo,{timeout:1e4})}function productos(){return $http.get(api+"busqueda/productos",{timeout:1e4})}function productosCliente(cliente,localidad){return $http.get(api+"busqueda/productos/"+cliente+"/"+localidad+"/"+$rootScope.unidad,{timeout:1e4})}function riesgos(){return $http.get(api+"busqueda/riesgos",{timeout:1e4})}function registros(datos){var promesa=$q.defer(),parametros="unidad="+$rootScope.unidad;void 0!==datos&&(datos.folio&&(parametros=parametros+"&folio="+datos.folio),datos.lesionado&&(parametros=parametros+"&lesionado="+datos.lesionado));var consulta=$http.get(api+"busqueda/registros?"+parametros,{timeout:1e4});return $q.when(consulta).then(function(datos){console.log(datos),datos.data.length>0?promesa.resolve(datos.data):promesa.reject("No se encontraron coincidencias.")},function(error){promesa.reject("Ocurrio un error intentelo nuevamente")}),promesa.promise}function documentosAtencion(producto,atencion){return $http.get(api+"busqueda/documentos/"+producto+"/"+atencion,{timeout:1e4})}function tipos(){return $http.get(api+"busqueda/tiposTelefono",{timeout:1e4})}function tiposCancelacion(){return $http.get(api+"busqueda/tiposCancelacion",{timeout:1e4})}function tiposDocumento(){return $http.get(api+"busqueda/tiposDocumento",{timeout:1e4})}function tiposAtencion(){return $http.get(api+"busqueda/tiposAtencion",{timeout:1e4})}function tipoLesion(){return $http.get(api+"busqueda/tipoLesion",{timeout:1e4})}function unidades(){return $http.get(api+"busqueda/unidades",{timeout:1e4})}function listadoQWS(){return $http.get("http://medicavial.net/mvnuevo/api/api.php?funcion=getListadoQWS&uni="+$rootScope.unidad,{timeout:1e4})}var servicio={ajustadores:ajustadores,clientes:clientes,datosExpediente:datosExpediente,detalleAtencion:detalleAtencion,detalleFolio:detalleFolio,documentosAtencion:documentosAtencion,documentoSolicitud:documentoSolicitud,lesionCodificada:lesionCodificada,lesionMV:lesionMV,productoAtencionDocumentos:productoAtencionDocumentos,productos:productos,productosCliente:productosCliente,registros:registros,riesgos:riesgos,tipos:tipos,tiposCancelacion:tiposCancelacion,tiposDocumento:tiposDocumento,tiposAtencion:tiposAtencion,tipoLesion:tipoLesion,unidades:unidades,listadoQWS:listadoQWS};return servicio}angular.module("app").factory("busqueda",busqueda)}(),function(){"use strict";function filtro($filter,$q){function consulta(listado,valor){return $filter("filter")(listado,{TID_claveint:valor},!0)}function buscaParametro(arreglo,texto){return $filter("filter")(arreglo,{description:texto})}function buscaUnidad(arreglo,parametro){var promesa=$q.defer(),datos=$filter("filter")(arreglo,{Uni_clave:parametro},!0);return $q.when(datos).then(function(data){promesa.resolve(data[0])}),promesa.promise}function verificaRequeridos(documentos,subidos){var documentosRequeridos=$filter("filter")(documentos,{ATD_requerido:1},!0),promesa=$q.defer(),faltantes=[];return angular.forEach(documentosRequeridos,function(documento){var documentosSubidos=$filter("filter")(subidos,{tipo:documento.TID_claveint},!0);0==documentosSubidos.length&&faltantes.push(documento)}),$q.when(faltantes).then(function(res){res.length>0?promesa.reject(res.length):promesa.resolve("completo")}),promesa.promise}var servicio={consulta:consulta,buscaParametro:buscaParametro,buscaUnidad:buscaUnidad,verificaRequeridos:verificaRequeridos};return servicio}angular.module("app").factory("filtro",filtro)}(),function(){"use strict";function mensajes($mdToast,$mdDialog,$q){return{confirmacion:function(titulo,mensaje,ev){var confirm=$mdDialog.confirm().title(titulo).content(mensaje).ariaLabel("Confirmación").targetEvent(ev).ok("SI").cancel("NO");$mdDialog.show(confirm).then(function(){return!0},function(){return!1})},notifica:function(mensaje,descripcion,ev){$mdDialog.show($mdDialog.alert().parent(angular.element(document.body)).clickOutsideToClose(!0).title(mensaje).content(descripcion).ariaLabel(mensaje).ok("OK").targetEvent(ev))},alerta:function(mensaje,tipo,posicion,icono){$mdToast.show({template:'<md-toast class="'+tipo+'"> <md-icon class="padding-right"> <ng-md-icon icon="'+icono+'" style="fill:white"></ng-md-icon></md-icon> <span flex>'+mensaje+"</span></md-toast>",hideDelay:4e3,position:posicion})},popup:function(mensaje){}}}angular.module("app").factory("mensajes",mensajes)}(),function(){"use strict";function operacion($http,$rootScope,$q,api,Upload,publicfiles,registro,filtro,$window){function autorizaImagen(imagen,atencion){return $http.post(api+"operacion/autorizaImagen/"+atencion,imagen)}function cambiarEstatus(atencion,valor){return $http.get(api+"operacion/cambiarEstatus/"+atencion+"/"+valor+"/"+$rootScope.id,{timeout:1e4})}function creaAtencion(datos){return $http.post(api+"operacion/creaAtencion",datos)}function descargaArchivo(archivo){$window.open(api+"operacion/descargaArchivo?archivo="+archivo,"_balnk")}function eliminaArchivo(archivo){return $http.post(api+"operacion/eliminaArchivo",archivo)}function subirFactura(archivo,atencion,xml,pdf){var promesa=$q.defer(),factura=archivo[0],xmlSubido=!1,pdfSubido=!1;if("text/xml"==factura.type)if(xml)promesa.reject("No puedes subir mas de un archivo de XML");else{var tipo=29;xmlSubido=!0}else if(pdf)promesa.reject("No puedes subir mas de un archivo de PDF");else{var tipo=30;pdfSubido=!0}return Upload.upload({url:api+"operacion/factura",data:{file:factura,usuario:$rootScope.id,atencion:atencion,tipo:tipo}}).progress(function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);promesa.notify({porcentaje:progressPercentage})}).then(function(resp){console.log(resp);var respuesta={xml:xmlSubido,pdf:pdfSubido,datosArchivo:"",datosXML:""};respuesta.datosArchivo=resp.data.archivo,respuesta.xml?leeXML(atencion).then(function(datos){console.log(datos),respuesta.datosXML=datos,promesa.resolve(respuesta)},function(error){promesa.reject(error)}):promesa.resolve(respuesta)},function(error){promesa.reject("Ocurrio un problema intente de nuevo")}),promesa.promise}function guardaDocumento(datos){return $http.post(api+"operacion/documentos",datos)}function guardaNotas(nota,atencion){var datos={nota:nota,atencion:atencion};return $http.post(api+"operacion/guardaNotas",datos)}function leeXML(atencion){var promesa=$q.defer();return $http.get(api+"operacion/muestraXML/"+atencion).success(function(data){var x2js=new X2JS,datosXML=x2js.xml_str2json(data);promesa.resolve(datosXML)}).error(function(error){promesa.reject("Error de lectura")}),promesa.promise}function registroPaciente(datos){return $http.post(api+"operacion/registraFolio",datos,{timeout:1e4})}function registroSiniestro(datos){return $http.post(api+"operacion/registraSiniestro",datos,{timeout:1e4})}function solicitaAutorizacion(datos){return $http.post(api+"operacion/autorizacion",datos,{timeout:1e4})}function solicitaCancelacion(datos){return $http.post(api+"operacion/cancelacion",datos,{timeout:1e4})}function subirImagenes(tipo,imagenes,atencion){var promesa=$q.defer(),file=imagenes[0];return file.$error?promesa.reject("Formato Invalido"):Upload.upload({url:api+"operacion/imagenes",data:{file:file,usuario:$rootScope.id,tipo:tipo,atencion:atencion}}).then(function(resp){promesa.resolve(resp.data)},function(resp){isNaN(resp)?promesa.reject("Archivo con problemas"):promesa.reject(resp.data.flash)},function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);promesa.notify(progressPercentage)}),promesa.promise}function imagenOCR(files){var promesa=$q.defer(),file=files[0];return Upload.base64DataUrl(file).then(function(url){var textos=url.split("data:image/png;base64,"),body={requests:{image:{content:textos[1]},features:[{type:"TEXT_DETECTION",maxResults:10},{type:"LOGO_DETECTION",maxResults:10}]}},url="https://vision.googleapis.com/v1/images:annotate?key=AIzaSyBv-xkwdgjF7xND0CjOF4EFN9jccXC8fJg";$http.post(url,body).then(function(resp){var datos=resp.data.responses[0];console.log(datos);var logo=datos.logoAnnotations[0].description,info=datos.textAnnotations;if("Qualitas"==logo){var encontradasAut=filtro.buscaParametro(info,"Autorizacion"),index=info.indexOf(encontradasAut[3]),folioAutorizacion=info[index+4].description,encontradasPol=filtro.buscaParametro(info,"Polizia"),indexPol=info.indexOf(encontradasPol[1]),poliza=info[indexPol+1].description,encontradasSin=filtro.buscaParametro(info,"Siniestro"),indexSin=info.indexOf(encontradasSin[1]),siniestro=info[indexSin+1].description,encontradasRep=filtro.buscaParametro(info,"Reporte"),indexRep=info.indexOf(encontradasRep[1]),reporte=info[indexRep+1].description,encontradasEl=filtro.buscaParametro(info,"Electronico"),indexEl=info.indexOf(encontradasEl[1]),folioElec=info[indexEl+1].description+info[indexEl+2].description,encontradasCo=filtro.buscaParametro(info,"Cobertura"),indexCo=info.indexOf(encontradasCo[1]),cobertura=info[indexCo+1].description,encontradasNo=filtro.buscaParametro(info,"Nombre"),indexNo=info.indexOf(encontradasNo[1]),Lesionado=info[indexNo+1].description+" "+info[indexNo+2].description+" "+info[indexNo+3].description;console.log(folioAutorizacion),console.log(reporte),console.log(poliza),console.log(siniestro),console.log(folioElec),console.log(cobertura),console.log(Lesionado)}},function(err){console.log(err)})}),promesa.promise}function ingresaSolicitud(datos){return $http.post(api+"operacion/solicitud",datos,{timeout:1e4})}var operacion={autorizaImagen:autorizaImagen,cambiarEstatus:cambiarEstatus,creaAtencion:creaAtencion,descargaArchivo:descargaArchivo,eliminaArchivo:eliminaArchivo,subirFactura:subirFactura,imagenOCR:imagenOCR,ingresaSolicitud:ingresaSolicitud,guardaDocumento:guardaDocumento,guardaNotas:guardaNotas,registroPaciente:registroPaciente,registroSiniestro:registroSiniestro,solicitaAutorizacion:solicitaAutorizacion,solicitaCancelacion:solicitaCancelacion,subirImagenes:subirImagenes};return operacion}angular.module("app").factory("operacion",operacion),operacion.$inject=["$http","$rootScope","$q","api","Upload","publicfiles","registro","filtro","$window"]}(),function(){"use strict";function registrosGlobales($resource,api){return $resource(api+"busqueda/registrosGlobales",{},{get:{method:"GET",timeout:1e4}})}angular.module("app").factory("registrosGlobales",registrosGlobales)}(),function(){"use strict";function registros($resource,api){return $resource(api+"busqueda/registros",{},{get:{method:"GET",timeout:15e3}})}angular.module("app").factory("registros",registros)}(),function(){"use strict";function reportes($http,$rootScope,api,$q,fechas){function serializeObj(obj){var result=[];for(var property in obj)result.push(encodeURIComponent(property)+"="+encodeURIComponent(obj[property]));return result.join("&")}function atencionesAnio(){return $http.get(api+"reportes/atenciones/anio/"+$rootScope.unidad,{timeout:1e4})}function atencionesMes(){return $http.get(api+"reportes/atenciones/mes/"+$rootScope.unidad,{timeout:1e4})}function detalleEstadistica(tipo){var fechaIniRep=moment(fechas.fechaIni).format("YYYY-MM-DD"),fechaFinRep=moment(fechas.fechaFin).format("YYYY-MM-DD"),datos={unidad:$rootScope.unidad,fechaIni:fechaIniRep,fechaFin:fechaFinRep,tipo:tipo},parametros=serializeObj(datos);return $http.get(api+"reportes/listado?"+parametros,{timeout:1e4})}function estadisticasXfecha(fechaIni,fechaFin){var fechaIniRep=moment(fechas.fechaIni).format("YYYY-MM-DD"),fechaFinRep=moment(fechas.fechaFin).format("YYYY-MM-DD"),datos={unidad:$rootScope.unidad,fechaIni:fechaIniRep,fechaFin:fechaFinRep},parametros=serializeObj(datos);return $http.get(api+"reportes/estadistica?"+parametros,{timeout:1e4})}function estadisticas(){console.log("entro");var promesa=$q.defer(),es=estadisticasXfecha(),atnMes=atencionesMes(),atnAnio=atencionesAnio();return $q.all([atnMes,atnAnio,es]).then(function(data){promesa.resolve(data)},function(error){promesa.reject("Error")}),promesa.promise}function notificacionUnidad(){return $http.get(api+"reportes/notificacionUnidad/"+$rootScope.unidad,{timeout:1e4})}var servicio={atencionesAnio:atencionesAnio,atencionesMes:atencionesMes,detalleEstadistica:detalleEstadistica,estadisticas:estadisticas,estadisticasXfecha:estadisticasXfecha,notificacionUnidad:notificacionUnidad};return servicio}angular.module("app").factory("reportes",reportes)}(),function(){"use strict";function usuarios($resource,api){var User=$resource(api+"usuarios/:usuario",{},{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},update:{method:"PUT"}});return User}angular.module("app").factory("usuarios",usuarios)}();