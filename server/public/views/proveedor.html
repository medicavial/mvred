<div class="md-whiteframe-z1" ng-init="inicio()">

  <md-toolbar class="md-warn">
    <div class="md-toolbar-tools">
      <md-button class="md-icon-button" aria-label="Settings" ng-click="ir('index.proveedores')">
          <ng-md-icon icon="arrow_back" style="fill:white" aria-label="regresar"></ng-md-icon> 
      </md-button>
      <h2>Datos</h2>
      <span flex></span>
      <md-button  class="md-icon-button" ng-click="inicio()">
        <ng-md-icon icon="refresh" style="fill:white" aria-label="Limpiar"></ng-md-icon> 
      </md-button>
    </div>
  </md-toolbar>
  

  <md-content>
    <form name="proveedorForm" novalidate ng-submit="guardar()" layout-padding>

      <md-input-container>
        <label>Nombre</label>
        <input required name="nombre" ng-model="datos.nombre">
        <div ng-messages="proveedorForm.nombre.$error" ng-if="proveedorForm.$submitted">
          <div ng-message="required">Campo obligatorio.</div>
        </div>
      </md-input-container>

      <md-input-container>
        <label>Razon Social</label>
        <input name="razon" ng-model="datos.razon">
        <div ng-messages="proveedorForm.razon.$error" ng-if="proveedorForm.$submitted">
          <div ng-message="required">Campo obligatorio.</div>
        </div>
      </md-input-container>
      
      <div layout="row" layout-sm="column">
        
        <md-input-container flex>
          <label>Nombre Corto</label>
          <input  name="nombrecorto" ng-model="datos.nombrecorto" required> 
          <div ng-messages="proveedorForm.nombrecorto.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div>
        </md-input-container>

        <md-input-container flex>
          <label>RFC</label>
          <input name="rfc" ng-model="datos.rfc" required mayusculas>
          <div ng-messages="proveedorForm.rfc.$error" ng-if="proveedorForm.$submitted">
            <div ng-message="required">Campo obligatorio.</div>
          </div> 
        </md-input-container>
        
      </div>

      <md-subheader class="c-bluegray">Contacto</md-subheader>  
      <md-divider class="bgm-bluegray"></md-divider>
      <br>
      <div layout="row" layout-sm="column">
        
        <md-input-container flex>
          <label>Correo para orden de compra</label>
          <input type="email"  name="correo1" ng-model="datos.correo1"> 
          <div ng-messages="proveedorForm.correo1.$error">
            <div ng-message="email">Correo invalido</div>
          </div>
        </md-input-container>

        <md-input-container flex>
          <label>Correo Escalamiento</label>
          <input type="email" name="correo2" ng-model="datos.correo2">
          <div ng-messages="proveedorForm.correo2.$error">
            <div ng-message="email">Correo invalido</div>
          </div> 
        </md-input-container>
        
      </div>

      <md-subheader class="c-bluegray">Archivos</md-subheader>  
        <md-divider class="bgm-bluegray"></md-divider>
        
        <div layout="row" layout-sm="column">
          <div class="drop-box"  ngf-drop accept="image/*" ngf-drag-over-class="dragover" ngf-multiple="true" ngf-pattern="'image/*" ngf-change="upload($files, $file, $event)" flex>
              <md-button type="button" class="md-raised" accept="image/*" ngf-change="upload($files, $file, $event)" multiple="multiple" ngf-pattern="'image/*">Subir Imagenes</md-button><br>
              Arrastra tus archivos aqui
          </div>

          <md-list flex>
            <md-list-item class="md-3-line relative" ng-repeat="file in imagenes">
              <img ngf-src="file" class="face"  ng-mouseover="ver = true" ng-mouseleave="ver = false">
              <md-button type="button" class="md-fab boton abajo-derecho" ng-click="eliminaImagen($index)" ng-mouseover="ver = true" ng-show="ver" aria-label="Eliminar Imagen">
                  <ng-md-icon icon="delete" style="fill:white"></ng-md-icon> 
              </md-button>
              <md-divider md-inset ng-if="!$last"></md-divider>
            </md-list-item>
          </md-list>
          
        </div>
      
      <md-switch ng-model="datos.activo" aria-label="Proveedor Activo" flex>
              <span ng-show="datos.activo">Proveedor Activo</span>
              <span ng-hide="datos.activo">Proveedor Inactivo</span>
      </md-switch>

      <div layout="row" layout-sm="column" layout-align="space-around" ng-show="guardando">
        <md-progress-circular md-mode="indeterminate"></md-progress-circular>
      </div>


      <div layout="row" layout-align="center center">
        <md-progress-circular md-mode="indeterminate" ng-show="guardando"></md-progress-circular>
        <md-button id="nuevo" class="md-fab boton" ng-click="" aria-label="Guardar" type="submit" ng-hide="guardando" ng-if="proveedorForm.$valid">
            <md-tooltip md-direction="top">
              Guardar
            </md-tooltip>
            <ng-md-icon icon="check" style="fill:white"></ng-md-icon> 
        </md-button>
      </div>

      <br>
    </form>
  </md-content>

</div>